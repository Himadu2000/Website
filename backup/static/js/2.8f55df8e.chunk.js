(this.webpackJsonphimadu=this.webpackJsonphimadu||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(74)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(3),a=n.n(o),s=n(27),u=n(22),c=(n(6),n(24)),l=n.n(c),f=i.a.createContext(null),h="unmounted",d="exited",p="entering",v="entered",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=d,r.appearStatus=p):i=v:i=t.unmountOnExit||t.mountOnEnter?h:d,r.state={status:i},r.nextCallback=null,r}Object(u.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==v&&(t=p):n!==p&&n!==v||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=l.a.findDOMNode(this);t===p?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:h})},n.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:p},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:v},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:v},(function(){n.props.onEntered(e)}))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:d},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:d},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,r=Object(s.a)(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return i.a.createElement(f.Provider,{value:null},n(e,r));var o=i.a.Children.only(n);return i.a.createElement(f.Provider,{value:null},i.a.cloneElement(o,r))},t}(i.a.Component);function g(){}m.contextType=f,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;var y=m,b=n(63),w=n.n(b),_=n(26),E=n.n(_),S=n(8),T=n.n(S),C=n(25),I=n.n(C),k=n(9),A=n.n(k),O=n(47),N=n(64),x=n.n(N)()({setReferenceNode:void 0,referenceNode:void 0}),R=function(e){function t(){var t;return t=e.call(this)||this,A()(T()(t),"setReferenceNode",(function(e){e&&t.state.context.referenceNode!==e&&t.setState((function(t){var n=t.context;return{context:E()({},n,{referenceNode:e})}}))})),t.state={context:{setReferenceNode:t.setReferenceNode,referenceNode:void 0}},t}return I()(t,e),t.prototype.render=function(){return r.createElement(x.Provider,{value:this.state.context},this.props.children)},t}(r.Component),P=function(e){return Array.isArray(e)?e[0]:e},D=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},M={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},j={},L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,A()(T()(t),"state",{data:void 0,placement:void 0}),A()(T()(t),"popperInstance",void 0),A()(T()(t),"popperNode",null),A()(T()(t),"arrowNode",null),A()(T()(t),"setPopperNode",(function(e){e&&t.popperNode!==e&&(D(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),A()(T()(t),"setArrowNode",(function(e){t.arrowNode=e})),A()(T()(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),A()(T()(t),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:E()({},t.props.modifiers,{arrow:E()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),A()(T()(t),"getPopperStyle",(function(){return t.popperNode&&t.state.data?E()({position:t.state.data.offsets.popper.position},t.state.data.styles):M})),A()(T()(t),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),A()(T()(t),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:j})),A()(T()(t),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),A()(T()(t),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),A()(T()(t),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=T()(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new O.a(n,e,t.getOptions()))})),A()(T()(t),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}I()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement!==e.placement||this.props.referenceElement!==e.referenceElement||this.props.positionFixed!==e.positionFixed?this.updatePopperInstance():this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){D(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return P(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(r.Component);A()(L,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});O.a.placements;function F(e){var t=e.referenceElement,n=w()(e,["referenceElement"]);return r.createElement(x.Consumer,null,(function(e){var i=e.referenceNode;return r.createElement(L,E()({referenceElement:void 0!==t?t:i},n))}))}var U=n(46),B=n.n(U),V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,A()(T()(t),"refHandler",(function(e){D(t.props.innerRef,e),D(t.props.setReferenceNode,e)})),t}I()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){D(this.props.innerRef,null)},n.render=function(){return B()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),P(this.props.children)({ref:this.refHandler})},t}(r.Component);function q(e){return r.createElement(x.Consumer,null,(function(t){var n=t.setReferenceNode;return r.createElement(V,E()({setReferenceNode:n},e))}))}n(65);var W=n(20);function z(e){return(z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function X(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?te(e):t}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ie(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return ce})),n.d(t,"b",(function(){return be})),n.d(t,"c",(function(){return Ee})),n.d(t,"d",(function(){return Se})),n.d(t,"e",(function(){return Te})),n.d(t,"f",(function(){return Ie})),n.d(t,"g",(function(){return Oe})),n.d(t,"h",(function(){return Ne})),n.d(t,"i",(function(){return xe})),n.d(t,"j",(function(){return Me})),n.d(t,"k",(function(){return je})),n.d(t,"l",(function(){return Le})),n.d(t,"m",(function(){return Fe})),n.d(t,"n",(function(){return Be})),n.d(t,"o",(function(){return He})),n.d(t,"p",(function(){return Ge})),n.d(t,"q",(function(){return ct})),n.d(t,"r",(function(){return gt})),n.d(t,"s",(function(){return ve})),n.d(t,"t",(function(){return bt})),n.d(t,"u",(function(){return wt})),n.d(t,"v",(function(){return Et})),n.d(t,"w",(function(){return ke})),n.d(t,"x",(function(){return It})),n.d(t,"y",(function(){return Pt})),n.d(t,"z",(function(){return Dt})),n.d(t,"A",(function(){return Ot})),n.d(t,"B",(function(){return Nt})),n.d(t,"C",(function(){return xt})),n.d(t,"D",(function(){return Rt})),n.d(t,"E",(function(){return Ut})),n.d(t,"F",(function(){return Bt})),n.d(t,"G",(function(){return Ht})),n.d(t,"H",(function(){return Gt})),n.d(t,"I",(function(){return Qt})),n.d(t,"J",(function(){return Ae}));var oe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function ae(){}function se(){}se.resetWarningCache=ae;var ue=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,i,o){if(o!==oe){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:se,resetWarningCache:ae};return n.PropTypes=n,n}()})),ce=function(e){var t=re(Object(r.useState)(!0),2),n=t[0],o=t[1],s=e.className,u=e.tag,c=e.color,l=e.children,f=e.dismiss,h=a()("alert",c&&"alert-".concat(c),s);return f?i.a.createElement(y,{in:n,timeout:150,unmountOnExit:!0,onExit:function(t){return function(t){t.classList.add("fade"),e.onClose&&e.onClose()}(t)},onExited:function(t){e.onClosed&&e.onClosed()}},i.a.createElement(u,{"data-test":"alert",className:h,role:"alert"},l,i.a.createElement("button",{onClick:function(){o(!1)},type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):i.a.createElement(u,{"data-test":"alert",className:h,role:"alert"},l)};ce.defaultProps={color:"primary",tag:"div"},ce.propTypes={className:ue.string,color:ue.oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),onClose:ue.func,onClosed:ue.func,tag:ue.string};var le=function(e){function t(e){var n;return K(this,t),Q(te(n=ne(this,J(t).call(this,e))),"updatePredicate",(function(){var e=window.innerHeight,t=window.scrollY,r=document.documentElement.offsetHeight;if(e+t-100>n.getOffset(n.elemRef.current)&&t<n.getOffset(n.elemRef.current)||e+t-100>n.getOffset(n.elemRef.current)+n.elemRef.current.clientHeight&&t<n.getOffset(n.elemRef.current)+n.elemRef.current.clientHeight||e+t===r&&n.getOffset(n.elemRef.current)+100>r)n.setState({isVisible:!0,revealed:!0});else{if(n.state.revealed)return;n.setState({isVisible:!1,revealed:!0})}})),Q(te(n),"handleStart",(function(e){n.setState({countIterations:n.state.countIterations+1}),n.props.onAnimationStart&&n.props.onAnimationStart()})),Q(te(n),"handleIteration",(function(e){n.props.onAnimationIteration&&(n.setState({countIterations:n.state.countIterations+1}),n.props.onAnimationIteration())})),Q(te(n),"handleEnd",(function(e){n.setState({countIterations:n.state.countIterations+1}),n.props.onAnimationEnd&&n.props.count===n.state.countIterations&&n.props.onAnimationEnd()})),Q(te(n),"getOffset",(function(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=r.clientTop||n.clientTop||0,a=t.top+i-o;return Math.round(a)})),n.state={isVisible:!n.props.reveal,revealed:!n.props.reveal,countIterations:0},n.elemRef=i.a.createRef(),n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){this.props.reveal&&(window.addEventListener("scroll",this.updatePredicate),this.updatePredicate())}},{key:"componentWillUnmount",value:function(){this.props.reveal&&window.removeEventListener("scroll",this.updatePredicate)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.tag,r=e.type,o=e.duration,s=e.delay,u=e.count,c=(e.reveal,e.infinite),l=e.style,f=e.children,h=ee(e,["className","tag","type","duration","delay","count","reveal","infinite","style","children"]),d=this.state,p=d.isVisible,v=d.revealed,m={animationDuration:o,animationDelay:s,animationIterationCount:!c&&u,visibility:p?"visible":"hidden",animationName:r},g=Object.assign(m,l),y=a()(this.state.isVisible&&"animated",r&&r,c&&"infinite",t);return i.a.createElement(n,Y({"data-test":"animation"},h,{className:y,style:p&&v?g:{animationName:"none",visibility:"hidden"},ref:this.elemRef,onAnimationStart:this.handleStart,onAnimationIteration:this.handleIteration,onAnimationEnd:this.handleEnd}),f)}}]),t}(r.Component);le.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,type:ue.string,delay:ue.string,count:ue.number,onAnimationEnd:ue.func,onAnimationStart:ue.func},le.defaultProps={tag:"div",reveal:!1,duration:1,count:1};var fe=function(e){var t=e.tag,n=e.className,r=e.children,o=e.color,s=e.pill,u=ee(e,["tag","className","children","color","pill"]),c=a()("badge",o,"badge-"+o,!!s&&"badge-pill",n);return i.a.createElement(t,Y({"data-test":"badge"},u,{className:c}),r)};function he(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}fe.defaultProps={tag:"span",color:"default",pill:!1},fe.propTypes={color:ue.string,pill:ue.bool,children:ue.node,className:ue.string};var de={esc:27,space:32,tab:9,up:38,down:40},pe=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})};ue.node,ue.string,ue.string,ue.bool,ue.bool,ue.bool;var ve=function(e){var t=e.border,n=e.brand,r=e.className,o=e.fab,s=e.fal,u=e.far,c=e.fixed,l=e.flip,f=e.icon,h=e.inverse,d=e.light,p=e.list,v=e.pull,m=e.pulse,g=e.regular,y=e.rotate,b=e.size,w=e.spin,_=e.stack,E=ee(e,["border","brand","className","fab","fal","far","fixed","flip","icon","inverse","light","list","pull","pulse","regular","rotate","size","spin","stack"]),S=n||o?"fab":d||s?"fal":g||u?"far":"fa",T=a()(S,!!p&&"fa-li",!!f&&"fa-".concat(f),!!b&&"fa-".concat(b),!!c&&"fa-fw",!!v&&"fa-pull-".concat(v),!!t&&"fa-border",!!w&&"fa-spin",!!m&&"fa-pulse",!!y&&"fa-rotate-".concat(y),!!l&&"fa-flip-".concat(l),!!h&&"fa-inverse",!!_&&"fa-".concat(_),r);return i.a.createElement("i",Y({"data-test":"fa"},E,{className:T}))};function me(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}ve.propTypes={icon:ue.string.isRequired,border:ue.bool,brand:ue.bool,className:ue.string,fab:ue.bool,fal:ue.bool,far:ue.bool,fixed:ue.bool,flip:ue.string,inverse:ue.bool,light:ue.bool,list:ue.bool,pull:ue.string,pulse:ue.bool,regular:ue.bool,rotate:ue.string,spin:ue.bool,size:ue.string,stack:ue.string},ve.defaultProps={border:!1,brand:!1,className:"",fab:!1,fal:!1,far:!1,fixed:!1,flip:"",inverse:!1,light:!1,list:!1,pull:"",pulse:!1,regular:!1,rotate:"",spin:!1,size:"",stack:""};me(".bc-icons.breadcrumb-item::before,\n.bc-icons.breadcrumb-item::after {\n  content: none;\n}\n\n.bc-icons.breadcrumb-item + .active.breadcrumb-item::before,\n.bc-icons.breadcrumb-item + .active.breadcrumb-item::after{\n  content: none;\n}\n\n.bc-icons.breadcrumb-item.active {\n  color: #eeeeee;\n}\n");var ge=function(e){var t=e.active,n=e.appendIcon,o=e.children,s=e.className,u=e.bold,c=e.icon,l=e.iconBrand,f=e.iconClassName,h=e.iconLight,d=e.iconRegular,p=e.iconSize,v=ee(e,["active","appendIcon","children","className","bold","icon","iconBrand","iconClassName","iconLight","iconRegular","iconSize"]),m=a()(!!t&&"active",c&&"bc-icons","breadcrumb-item",s),g=a()(n?"mx-2":"mr-2",f);return i.a.createElement("li",Y({"data-test":"breadcrumb-item"},v,{className:m}),i.a.createElement((function(e){var t=e.children;return u?i.a.createElement("strong",null,t):t}),null,i.a.createElement((function(){return c?i.a.createElement(r.Fragment,null,n&&o,i.a.createElement(ve,{brand:l,className:g,icon:c,light:h,regular:d,size:p}),!n&&o):o}),null)))};ge.propTypes={active:ue.bool,appendIcon:ue.bool,children:ue.node,className:ue.string,bold:ue.bool,icon:ue.string,iconBrand:ue.bool,iconClassName:ue.string,iconLight:ue.bool,iconRegular:ue.bool,iconSize:ue.string},ge.defaultProps={active:!1,appendIcon:!1,className:"",bold:!1,icon:"",iconBrand:!1,iconClassName:"",iconLight:!1,iconRegular:!1,iconSize:""};me(".Ripple {\n  position: absolute;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  opacity: 1;\n  transform: scale(0);\n}\n\n.Ripple-outline {\n  background: rgba(0, 0, 0, 0.2);\n}\n\n.Ripple.is-reppling {\n  animation: ripple 0.5s linear;\n}\n\n.Ripple-parent {\n  position: relative;\n  overflow: hidden;\n  touch-action: none;\n}\n\n@keyframes ripple {\n  100% {\n    opacity: 0;\n    transform: scale(3);\n  }\n}\n");var ye=function(e){function t(e){var n;return K(this,t),(n=ne(this,J(t).call(this,e))).state={animate:!1,width:0,height:0,top:0,left:0,cursorPos:e.cursorPos},n}return X(t,e),G(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;t.cursorPos.time!==this.props.cursorPos.time&&(t.animate?this.setState({animate:!1,cursorPos:this.props.cursorPos},(function(){n.reppling()})):this.reppling())}},{key:"reppling",value:function(){var e=l.a.findDOMNode(this).parentNode,t=e.getBoundingClientRect(),n=e.offsetWidth,r=e.offsetHeight,i=Math.max(r,n),o=i/2;this.setState({animate:!0,width:i,height:i,top:this.state.cursorPos.top-t.top-o,left:this.state.cursorPos.left-t.left-o})}},{key:"render",value:function(){return i.a.createElement("div",{"data-test":"waves",className:"Ripple "+(this.props.outline||this.props.flat||this.props.dark?"Ripple-outline ":"")+(this.state.animate?"is-reppling":""),style:{top:this.state.top+"px",left:this.state.left+"px",width:this.state.width+"px",height:this.state.height+"px"}})}}]),t}(i.a.Component);ye.propTypes={outline:ue.bool,flat:ue.bool,animate:ue.bool,cursorPos:ue.object,children:ue.node};var be=function(e){var t,n=re(Object(r.useState)({}),2),o=n[0],s=n[1],u=function(e){e.stopPropagation();var t={top:e.clientY,left:e.clientX,time:Date.now()};s(t)},c=e.active,l=e.block,f=e.circle,h=e.className,d=e.color,p=e.disabled,v=e.download,m=e.outline,g=e.size,y=e.rounded,b=e.gradient,w=e.floating,_=e.flat,E=e.role,S=e.type,T=e.social,C=e.action,I=e.tag,k=e.target,A=e.innerRef,O=ee(e,["active","block","circle","className","color","disabled","download","outline","size","rounded","gradient","floating","flat","role","type","social","action","tag","target","innerRef"]),N=a()(_?"btn-flat":b?"".concat(b,"-gradient"):"btn".concat(m?"-outline":"","-").concat(d),"btn","Ripple-parent",h,(Q(t={active:c,"btn-floating":w,"btn-rounded":y,"btn-circle":f,"btn-block":l,"btn-action":C},"btn-".concat(T),T),Q(t,"btn-".concat(g),g),Q(t,"disabled",p),t));return O.href&&"button"===I&&(I="a"),i.a.createElement(I,Y({"data-test":"button",type:"button"!==I||S?S:"button",target:k,role:"a"!==I||E?E:"button",className:N,ref:A,onMouseUp:u,onTouchStart:u},O,{download:v,disabled:p}),e.children,!p&&i.a.createElement(ye,{cursorPos:o,outline:m,flat:_}))};be.defaultProps={color:"default",tag:"button"},be.propTypes={active:ue.bool,action:ue.bool,block:ue.bool,color:ue.string,disabled:ue.bool,download:ue.string,gradient:ue.string,role:ue.string,type:ue.string,outline:ue.bool,rounded:ue.bool,circle:ue.bool,floating:ue.bool,flat:ue.bool,innerRef:ue.oneOfType([ue.func,ue.string]),onClick:ue.func,size:ue.string,social:ue.string,children:ue.node,tag:ue.string,target:ue.string,className:ue.string};me(".btn-group-vertical>.btn,\n.btn-group-vertical>.btn+.btn-group,\n.btn-group-vertical>.btn-group+.btn,\n.btn-group-vertical>.btn-group+.btn-group {\n  margin-left: 0px;\n}\n\n.btn-group-lg>.btn {\n  font-size: 0.9rem;\n  padding: 1rem 2.4rem;\n}\n\n.btn-group-sm>.btn {\n  font-size: 0.6rem;\n  padding: 0.5rem 1.6rem;\n}\n\n.btn-floating.btn.btn-sm,\n.btn-floating.btn.btn-lg {\n  padding: 0;\n}\n");var we=function(e){var t=e.className,n=e.size,r=e.vertical,o=ee(e,["className","size","vertical"]),s=a()(t,!!n&&"btn-group-"+n,r?"btn-group-vertical":"btn-group");return i.a.createElement("div",Y({"data-test":"button-group"},o,{className:s}),e.children)};we.propTypes={"aria-label":ue.string,className:ue.string,role:ue.string,size:ue.string,children:ue.node,vertical:ue.bool},we.defaultProps={role:"group"};var _e=function(e){var t=e.className,n=ee(e,["className"]),r=a()(t,"btn-toolbar");return i.a.createElement("div",Y({"data-test":"button-toolbar"},n,{className:r}),e.children)};_e.propTypes={"aria-label":ue.string,className:ue.string,children:ue.node,role:ue.string},_e.defaultProps={role:"toolbar"};var Ee=function(e){var t,n=e.className,r=e.tag,o=e.cascade,s=e.wide,u=e.narrow,c=e.reverse,l=e.testimonial,f=e.ecommerce,h=e.collection,d=e.pricing,p=e.personal,v=e.news,m=e.color,g=e.text,y=e.border,b=ee(e,["className","tag","cascade","wide","narrow","reverse","testimonial","ecommerce","collection","pricing","personal","news","color","text","border"]),w=a()((Q(t={"card-cascade":o,"card-cascade wider":s,"card-cascade narrower":u,"card-cascade wider reverse":c,"testimonial-card":l,"card-ecommerce":f,"collection-card":h,"pricing-card":d,"card-personal":p,"news-card":v},"".concat(g,"-text"),g),Q(t,"border-".concat(y),y),t),"card",m,n);return i.a.createElement(r,Y({"data-test":"card"},b,{className:w}))};Ee.propTypes={border:ue.string,cascade:ue.bool,className:ue.string,color:ue.string,collection:ue.bool,ecommerce:ue.bool,narrow:ue.bool,news:ue.bool,pricing:ue.bool,personal:ue.bool,reverse:ue.bool,tag:ue.string,testimonial:ue.bool,text:ue.string,wide:ue.bool},Ee.defaultProps={tag:"div"};var Se=function(e){var t=e.className,n=e.tag,r=e.cascade,o=ee(e,["className","tag","cascade"]),s=a()("card-body",r&&"card-body-cascade",t);return i.a.createElement(n,Y({"data-test":"card-body"},o,{className:s}))};Se.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,cascade:ue.bool},Se.defaultProps={tag:"div"};var Te=function(e){var t,n=e.className,r=e.tag,o=e.color,s=e.text,u=e.border,c=e.transparent,l=e.small,f=e.muted,h=ee(e,["className","tag","color","text","border","transparent","small","muted"]),d=a()((Q(t={"white-text":o&&!s},"border-".concat(u),u),Q(t,"bg-transparent",c),Q(t,"text-muted",f),Q(t,"".concat(s,"-text"),s),t),"card-footer",o,n),p=i.a.createElement(r,Y({"data-test":"card-footer"},h,{className:d}));return l&&(p=i.a.createElement(r,Y({},h,{className:d}),i.a.createElement("small",null," ",e.children," "))),p};Te.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,color:ue.string,text:ue.string,border:ue.string,transparent:ue.bool,small:ue.bool,muted:ue.bool},Te.defaultProps={tag:"div"};var Ce=function(e){var t=e.className,n=e.tag,r=e.deck,o=e.column,s=ee(e,["className","tag","deck","column"]),u=a()(r?"card-deck":o?"card-columns":"card-group",t);return i.a.createElement(n,Y({"data-test":"card-group"},s,{className:u}))};Ce.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,deck:ue.bool,column:ue.bool},Ce.defaultProps={tag:"div"};var Ie=function(e){var t,n=e.className,r=e.tag,o=e.color,s=e.text,u=e.border,c=e.transparent,l=ee(e,["className","tag","color","text","border","transparent"]),f=a()((Q(t={"white-text":o&&!s},"border-".concat(u),u),Q(t,"bg-transparent",c),Q(t,"".concat(s,"-text"),s),t),"card-header",n,o);return i.a.createElement(r,Y({"data-test":"card-header"},l,{className:f}))};Ie.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,color:ue.string,text:ue.string,border:ue.string,transparent:ue.bool},Ie.defaultProps={tag:"div"};var ke=function(e){var t=e.children,n=e.className,r=e.overlay,o=e.pattern,s=e.tag,u=ee(e,["children","className","overlay","pattern","tag"]),c=a()("mask",o&&"pattern-".concat(o),r&&"rgba-".concat(r),n);return i.a.createElement(s,Y({"data-test":"mask"},u,{className:c}),t)};ke.propTypes={children:ue.node,className:ue.string,overlay:ue.string,pattern:ue.oneOfType([ue.string,ue.number]),tag:ue.string},ke.defaultProps={className:"",overlay:"",pattern:"",tag:"div"};var Ae=function(e){var t=re(Object(r.useState)({}),2),n=t[0],o=t[1],s=function(e){var t={top:e.clientY,left:e.clientX,time:Date.now()};o(t)},u=e.cascade,c=e.children,l=e.className,f=e.hover,h=e.rounded,d=e.src,p=e.tag,v=e.waves,m=e.zoom,g=e.fixed,y=ee(e,["cascade","children","className","hover","rounded","src","tag","waves","zoom","fixed"]),b=a()("view",h&&"rounded",m&&"zoom",f&&"overlay",u&&"view-cascade",!!v&&"Ripple-parent",l),w=d?{backgroundImage:'url("'.concat(d,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",height:"100vh",backgroundAttachment:g?"fixed":null}:{};return i.a.createElement(p,Y({"data-test":"view"},y,{className:b,onMouseDown:s,onTouchStart:s,style:w}),c,v&&i.a.createElement(ye,{cursorPos:n}))};Ae.defaultProps={cascade:!1,className:"",hover:!1,rounded:!1,src:"",tag:"div",waves:!1,zoom:!1},Ae.propTypes={cascade:ue.bool,children:ue.node,className:ue.string,hover:ue.bool,rounded:ue.bool,src:ue.string,tag:ue.string,waves:ue.bool,zoom:ue.bool};var Oe=function(e){var t=re(Object(r.useState)({}),2),n=t[0],o=t[1],s=e.className,u=e.overlay,c=e.top,l=e.waves,f=e.hover,h=e.cascade,d=e.tag,p=e.zoom,v=ee(e,["className","overlay","top","waves","hover","cascade","tag","zoom"]),m=a()(c&&"card-img-top",s),g=d,y=i.a.createElement(g,Y({"data-test":"card-image"},v,{className:m}),e.children);return e.src?i.a.createElement(Ae,{zoom:p,hover:f,cascade:h},i.a.createElement("div",{className:"Ripple-parent",onMouseDown:function(e){var t={top:e.clientY,left:e.clientX,time:Date.now()};o(t)},style:{touchAction:"unset"}},y,i.a.createElement(ke,{overlay:u}),l&&i.a.createElement(ye,{cursorPos:n}))):i.a.createElement("div",null,y)};Oe.propTypes={tag:ue.oneOfType([ue.func,ue.string]),zoom:ue.bool,waves:ue.bool,className:ue.string,cascade:ue.bool,hover:ue.bool,overlay:ue.string,top:ue.bool,src:ue.string,children:ue.node},Oe.defaultProps={tag:"img",overlay:"white-slight",waves:!0,hover:!1,cascade:!1,zoom:!1};var Ne=function(e){var t=e.className,n=e.tag,r=e.children,o=e.muted,s=e.small,u=ee(e,["className","tag","children","muted","small"]),c=a()("card-text",o&&"text-muted",t),l=s?i.a.createElement("small",null,r):r;return i.a.createElement(n,Y({"data-test":"card-text"},u,{className:c}),l)};Ne.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,muted:ue.bool,small:ue.bool},Ne.defaultProps={tag:"p"};var xe=function(e){var t=e.className,n=e.tag,r=e.sub,o=ee(e,["className","tag","sub"]),s=a()(r?"card-subtitle":"card-title",t);return i.a.createElement(n,Y({"data-test":"card-title"},o,{className:s}))};xe.propTypes={tag:ue.oneOfType([ue.func,ue.string]),sub:ue.bool,className:ue.string},xe.defaultProps={tag:"h4",sub:!1};var Re=function(e){var t,n=e.direction,r=e.className,o=e.onClick,s=e.tag,u=e.iconLeft,c=e.iconRight,l=e.testimonial,f=e.multiItem;"prev"===n?t="Previous":"next"===n&&(t="Next");var h=a()("carousel-control-"+n,r),d=a()("carousel-control-"+n+"-icon");if(l){var p="prev"===n?"left":"right";h=a()("carousel-control-"+n,p,"carousel-control",r),d=a()("icon-"+n)}return f&&(h=a()("btn-floating")),i.a.createElement(s,{"data-test":"carousel-control",className:h,"data-slide":n,onClick:o},u?i.a.createElement(ve,{icon:"chevron-left"}):c?i.a.createElement(ve,{icon:"chevron-right"}):i.a.createElement("div",null,i.a.createElement("span",{className:d,"aria-hidden":"true"}),i.a.createElement("span",{className:"sr-only"},t)))};Re.propTypes={onClick:ue.any,direction:ue.string,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,iconLeft:ue.bool,iconRight:ue.bool,testimonial:ue.bool,multiItem:ue.bool},Re.defaultProps={tag:"a"};var Pe=function(e){var t=e.active,n=e.children,r=e.className,o=e.img,s=e.alt,u=ee(e,["active","children","className","img","alt"]),c=a()(t&&"active",r);return i.a.createElement("li",Y({"data-test":"carousel-indicator"},u,{className:c}),o&&i.a.createElement("img",{src:o,alt:s,className:"img-fluid"}),n)};Pe.propTypes={active:ue.bool.isRequired,alt:ue.string,children:ue.node,className:ue.string,img:ue.string},Pe.defaultProps={alt:"Carousel thumbnail",className:"",img:""};var De=function(e){var t=e.children,n=e.className,r=ee(e,["children","className"]),o=a()("carousel-indicators",n);return i.a.createElement("ol",Y({"data-test":"carousel-indicators"},r,{className:o}),t)};De.propTypes={children:ue.node,className:ue.string},De.defaultProps={className:""};me(".carousel-inner {\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.carousel-fade .carousel-item {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: block !important;\n  opacity: 0;\n  z-index: 0;\n  transition: transform 0ms ease-in-out, opacity 0.8s ease-out;\n}\n\n.carousel-fade .carousel-item.active {\n  position: relative;\n  z-index: 1;\n  opacity: 1;\n}\n\n.carousel-multi-item .carousel-item {\n  display: inline-block !important;\n}\n\n.carousel .carousel-slide-item {\n  transition: left 0.5s;\n}\n\n.carousel-control-prev, .carousel-control-next, .carousel-item-prev, .carousel-item-next {\n  z-index: 2;\n}\n");var Me=function(e){function t(e){var n;return K(this,t),Q(te(n=ne(this,J(t).call(this,e))),"clearCycleIntervalHandler",(function(){return clearInterval(n.cycleInterval)})),Q(te(n),"swipeAvailableHandler",(function(){return n.setState({swipeAvailable:!0})})),Q(te(n),"restartInterval",(function(){!1!==n.props.interval&&(n.clearCycleIntervalHandler(),n.cycleInterval=setInterval(n.next,n.props.interval))})),Q(te(n),"next",(function(){var e=n.state.activeItem+1,t=e>n.state.length?1:e;n.goToIndex(t)})),Q(te(n),"prev",(function(){var e=n.state.activeItem-1,t=e<1?n.state.length:e;n.goToIndex(t)})),Q(te(n),"goToIndex",(function(e){n.setState($({},n.state,{activeItem:e})),n.restartInterval()})),Q(te(n),"startTouch",(function(e){n.setState({initialX:e.touches[0].clientX,initialY:e.touches[0].clientY})})),Q(te(n),"moveTouch",(function(e){n.setState({swipeAvailable:!1});var t=n.state,r=t.initialX,i=t.initialY;if(null!==r&&null!==i){var o=r-e.touches[0].clientX,a=i-e.touches[0].clientY;Math.abs(o)>Math.abs(a)&&(o>0?n.next():n.prev()),n.setState({initialX:null,initialY:null})}})),n.state={activeItem:n.props.activeItem,length:n.props.length,srcArray:[],swipeAvailable:!0,initialX:null,initialY:null},n.carouselRef=i.a.createRef(),n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){if(!1!==this.props.interval&&(this.cycleInterval=setInterval(this.next,this.props.interval),this.props.thumbnails)){var e=this.carouselRef.current.querySelectorAll(".carousel-item img"),t=Array.prototype.map.call(e,(function(e){return e.src}));this.setState($({},this.state,{srcArray:t}))}}},{key:"componentWillUnmount",value:function(){!1!==this.props.interval&&this.clearCycleIntervalHandler()}},{key:"getChildContext",value:function(){return{activeItem:this.state.activeItem,length:this.state.length,slide:this.props.slide}}},{key:"render",value:function(){for(var e=this,t=this.props,n=(t.activeItem,t.children),r=t.className,o=t.multiItem,s=(t.slide,t.thumbnails),u=(t.interval,t.testimonial),c=t.tag,l=(t.length,t.showControls),f=t.showIndicators,h=t.onHoverStop,d=ee(t,["activeItem","children","className","multiItem","slide","thumbnails","interval","testimonial","tag","length","showControls","showIndicators","onHoverStop"]),p=this.state.swipeAvailable,v=a()("carousel",o?"carousel-multi-item":"carousel-fade",s?"carousel-thumbnails":"",u?"testimonial-carousel":"",r),m=[],g=function(t){m.push(i.a.createElement(Pe,{img:s?e.state.srcArray[t-1]:null,key:t,active:e.state.activeItem===t,onClick:function(){return e.goToIndex(t)}}))},y=1;y<=this.state.length;y++)g(y);var b=!!o,w=!!u;return i.a.createElement(c,Y({"data-test":"carousel",ref:this.carouselRef},d,{className:v,"aria-label":"carousel",onTouchStart:this.startTouch,onTouchMove:p?this.moveTouch:null,onTouchEnd:this.swipeAvailableHandler,onMouseEnter:!!h&&this.clearCycleIntervalHandler,onMouseLeave:!!h&&this.restartInterval}),l&&o&&i.a.createElement("div",{className:"controls-top"},i.a.createElement(Re,{testimonial:w,multiItem:b,iconLeft:!0,className:"btn-floating",direction:"prev",role:"button",onClick:this.prev}),i.a.createElement(Re,{testimonial:w,multiItem:b,iconRight:!0,className:"btn-floating",direction:"next",role:"button",onClick:this.next})),n,l&&!o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Re,{testimonial:w,multiItem:b,direction:"prev",role:"button",onClick:this.prev}),i.a.createElement(Re,{testimonial:w,multiItem:b,direction:"next",role:"button",onClick:this.next})),f&&i.a.createElement(De,null,m))}}]),t}(r.Component);Me.propTypes={activeItem:ue.number,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node,multiItem:ue.bool,interval:ue.oneOfType([ue.number,ue.bool]),thumbnails:ue.bool,testimonial:ue.bool,showControls:ue.bool,showIndicators:ue.bool,slide:ue.bool,length:ue.number,onHoverStop:ue.bool},Me.defaultProps={tag:"div",interval:6e3,showControls:!0,showIndicators:!0,onHoverStop:!0},Me.childContextTypes={activeItem:ue.any,length:ue.any,slide:ue.any};var je=function(e){var t=e.children,n=e.className,r=e.tag,o=ee(e,["children","className","tag"]),s=a()("carousel-caption",n);return i.a.createElement(r,Y({"data-test":"carousel-caption"},o,{className:s}),t)};je.propTypes={active:ue.string,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node},je.defaultProps={tag:"div"};var Le=function(e){var t=e.active,n=e.children,r=(e.childrenCount,e.className),o=e.tag,s=ee(e,["active","children","childrenCount","className","tag"]),u=a()("carousel-inner",t?"active":"",r);return i.a.createElement(o,Y({"data-test":"carousel-inner"},s,{className:u}),n)};Le.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,active:ue.bool,children:ue.node},Le.defaultProps={tag:"div"};var Fe=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"moveForward",(function(){n.style={position:"absolute",left:"100%"}})),Q(te(n),"moveBackwards",(function(){n.style={position:"absolute",left:"-100%"}})),Q(te(n),"makeVisible",(function(){n.style={left:"0"}})),n}return X(t,e),G(t,[{key:"render",value:function(){var e=this.props,t=(e.active,e.children),n=e.className,r=e.itemId,o=e.tag,s=ee(e,["active","children","className","itemId","tag"]);r=parseInt(r,10);var u=a()("carousel-item",{"active carousel-slide-item":this.context.slide,active:!this.context.slide&&r===this.context.activeItem},n),c=this.context.activeItem-r;return this.context.slide?c<0?this.moveForward():c>0?this.moveBackwards():this.makeVisible():this.makeVisible(),i.a.createElement(o,Y({"data-test":"carousel-item"},s,{className:u,style:this.style}),t)}}]),t}(r.Component);Fe.propTypes={active:ue.bool,itemId:ue.any,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node},Fe.defaultProps={tag:"div"},Fe.contextTypes={activeItem:ue.any,length:ue.any,slide:ue.any};var Ue=function(e){var t=e.onClick,n=e.className,r=e.ariaLabel,o=ee(e,["onClick","className","ariaLabel"]),a=n?["close"].concat(ie(n.split(" "))):["close"];return i.a.createElement("button",Y({"data-test":"close-button",type:"button"},o,{className:a.join(" "),onClick:function(e){t&&t(e)},"aria-label":r}),i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))};Ue.defaultProps={ariaLabel:"Close"},Ue.propTypes={className:ue.string,ariaLabel:ue.string,onClick:ue.func};var Be=function(e){var t=e.xs,n=e.sm,r=e.md,o=e.lg,s=e.xl,u=e.top,c=e.bottom,l=e.middle,f=e.size,h=e.className,d=e.tag,p=ee(e,["xs","sm","md","lg","xl","top","bottom","middle","size","className","tag"]),v=a()(f&&"col-"+f,t&&"col-xs-"+t,n&&"col-sm-"+n,r&&"col-md-"+r,o&&"col-lg-"+o,s&&"col-xl-"+s,f||t||n||r||o||s?"":"col",u&&"align-self-start",l&&"align-self-center",c&&"align-self-end",h);return i.a.createElement(d,Y({"data-test":"col"},p,{className:v}))};Be.propTypes={size:ue.string,xs:ue.string,sm:ue.string,md:ue.string,lg:ue.string,xl:ue.string,top:ue.bool,bottom:ue.bool,middle:ue.bool,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string},Be.defaultProps={tag:"div",xs:null,sm:null,md:null,lg:null,xl:null};var Ve="SHOW",qe="SHOWN",We="HIDE",ze="HIDDEN",Ke={show:350,hide:350},He=function(e){function t(e){var n;return K(this,t),Q(te(n=ne(this,J(t).call(this,e))),"setTransitionTag",(function(e,t,r){n.transitionTag=setTimeout((function(){n.setState({collapse:e,height:null},t())}),n.getDelay(r))})),Q(te(n),"openCollapse",(function(){n.setState({collapse:Ve},(function(){n.setState({height:n.getHeight()}),n.setTransitionTag(qe,n.props.onOpened,"show")}))})),Q(te(n),"closeCollapse",(function(){n.setState({height:n.getHeight()},(function(){n.setState({collapse:We,height:n.getHeight()},(function(){n.setState({height:0})}))})),n.setTransitionTag(ze,n.props.onClosed,"hide")})),n.state={id:e.id,collapse:ze,height:null},n.element=null,n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){this.props.isOpen!==this.state.id&&!0!==this.props.isOpen||this.state.collapse!==ze||this.openCollapse()}},{key:"componentDidUpdate",value:function(e,t){var n=t.collapse,r="boolean"!==typeof this.props.isOpen?this.props.isOpen===t.id:this.props.isOpen;r&&this.state.collapse===ze?this.openCollapse():r||n!==qe||this.closeCollapse()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTag)}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===z(t)?isNaN(t[e])?Ke[e]:t[e]:t}},{key:"getHeight",value:function(){return this.element.scrollHeight}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.navbar,o=n.children,s=n.className,u=(n.isOpen,n.delay,n.onOpened,n.onClosed,ee(n,["navbar","children","className","isOpen","delay","onOpened","onClosed"])),c=this.state,l=c.collapse,f=c.height;switch(l){case Ve:e="collapsing";break;case qe:e="collapse show";break;case We:e="collapsing";break;case ze:e="collapse";break;default:e="collapse"}var h=a()(e,!!r&&"navbar-collapse",s),d=null===f?null:{height:f};return i.a.createElement("div",Y({"data-test":"collapse"},u,{style:$({},u.style,d),className:h,ref:function(e){t.element=e}}),o)}}]),t}(r.Component);He.propTypes={isOpen:ue.oneOfType([ue.string,ue.bool]),id:ue.string,className:ue.node,children:ue.node,navbar:ue.bool,delay:ue.oneOfType([ue.shape({show:ue.number,hide:ue.number}),ue.number]),onOpened:ue.func,onClosed:ue.func},He.defaultProps={isOpen:"",delay:Ke,onOpened:function(){},onClosed:function(){}};var Ge=function(e){var t=e.fluid,n=e.className,r=e.tag,o=ee(e,["fluid","className","tag"]),s=a()(t?"container-fluid":"container",n);return i.a.createElement(r,Y({"data-test":"container"},o,{className:s}))};Ge.propTypes={fluid:ue.bool,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string},Ge.defaultProps={tag:"div",fluid:!1};var Qe=function(e){var t=e.color,n=e.columns,o=e.handleSort,s=e.scrollX,u=e.scrollY,c=e.sortable,l=e.sorted,f=e.textWhite,h=a()(t&&("dark"!==t&&"light"!==t?t:"thead-".concat(t)),f&&"text-white");return i.a.createElement(r.Fragment,null,(u||s)&&i.a.createElement("colgroup",null,n.map((function(e){return i.a.createElement("col",{key:e.field,style:{width:"".concat(e.width,"px")||!1,minWidth:"".concat(e.width,"px")||!1}})}))),i.a.createElement("thead",{"data-test":"datatable-head",className:h||void 0},i.a.createElement("tr",null,n.map((function(e){return i.a.createElement("th",Y({onClick:function(){return c&&o(e.field,e.sort)},key:e.field,className:a()(e.hasOwnProperty("minimal")?"th-".concat(e.minimal):null,c&&"disabled"!==e.sort&&(l&&e.sort?"sorting_".concat("asc"===e.sort?"desc":"asc"):"sorting"))},e.attributes),e.label)})))))};Qe.propTypes={sorted:ue.bool.isRequired,color:ue.string,columns:ue.arrayOf(ue.object),handleSort:ue.func,scrollX:ue.bool,scrollY:ue.bool,sortable:ue.bool,textWhite:ue.bool},Qe.defaultProps={scrollX:!1,scrollY:!1,sortable:!0,textWhite:!1};me(".table-wrapper-scroll-y {\n  display: block;\n  max-height: 200px;\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n}\n");var Ye=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,o=e.btn,s=e.children,u=e.dark,c=e.fixed,l=(e.theadColor,e.hover),f=e.maxHeight,h=e.responsive,d=e.responsiveSm,p=e.responsiveMd,v=e.responsiveLg,m=e.responsiveXl,g=e.scrollY,y=e.small,b=e.striped,w=e.className,_=ee(e,["autoWidth","bordered","borderless","btn","children","dark","fixed","theadColor","hover","maxHeight","responsive","responsiveSm","responsiveMd","responsiveLg","responsiveXl","scrollY","small","striped","className"]),E=a()("table",{"w-auto":t,"table-bordered":n,"table-borderless":r,"btn-table":o,"table-fixed":c,"table-hover":l,"table-sm":y,"table-striped":b},w),S=a()({"table-dark":u,"table-responsive":h,"table-responsive-sm":d,"table-responsive-md":p,"table-responsive-lg":v,"table-responsive-xl":m,"table-wrapper-scroll-y":g}),T={maxHeight:f?"".concat(f):null};return i.a.createElement("div",{"data-test":"table",className:S,style:T},i.a.createElement("table",Y({},_,{className:E}),s))};Ye.propTypes={autoWidth:ue.bool,bordered:ue.bool,borderless:ue.bool,btn:ue.bool,children:ue.node,dark:ue.bool,fixed:ue.bool,theadColor:ue.string,hover:ue.bool,maxHeight:ue.string,responsive:ue.bool,responsiveSm:ue.bool,responsiveMd:ue.bool,responsiveLg:ue.bool,responsiveXl:ue.bool,scrollY:ue.bool,small:ue.bool,striped:ue.bool,className:ue.string};var $e=function(e){var t=e.children,n=e.color,r=e.rows,o=e.textWhite,s=ee(e,["children","color","rows","textWhite"]),u=a()(n,{"text-white":o});return i.a.createElement("tbody",Y({"data-test":"table-body"},s,{className:u||void 0}),r&&r.map((function(e,t){return i.a.createElement("tr",{onClick:e.hasOwnProperty("clickEvent")?e.clickEvent:void 0,key:t},Object.keys(e).map((function(t,n,r){return"clickEvent"===t?null:"colspan"!==t?"colspan"!==r[n+1]?i.a.createElement("td",{key:t},e[t]):null:i.a.createElement("td",{key:t,colSpan:e[t]},e[r[n-1]])})))})),t)};$e.propTypes={children:ue.node,color:ue.string,rows:ue.arrayOf(ue.object),textWhite:ue.bool},$e.defaultProps={textWhite:!1};var Xe=function(e){var t,n=e.children,r=e.color,o=e.columns,s=e.textWhite,u=ee(e,["children","color","columns","textWhite"]),c="dark"===r||"light"===r,l=a()((Q(t={"text-white":s},"thead-".concat(r),r&&c),Q(t,"".concat(r),r&&!c),t));return i.a.createElement("thead",Y({"data-test":"table-foot"},u,{className:l||void 0}),o&&i.a.createElement("tr",null,o.map((function(e){return i.a.createElement("th",{key:e.field,className:e.hasOwnProperty("minimal")?"th-".concat(e.minimal):void 0},e.label)}))),n)};Xe.propTypes={children:ue.node,color:ue.string,columns:ue.arrayOf(ue.object),textWhite:ue.bool},Xe.defaultProps={textWhite:!1};var Je=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,o=e.btn,a=e.children,s=e.columns,u=e.dark,c=e.fixed,l=e.hover,f=e.handleSort,h=e.responsive,d=e.responsiveSm,p=e.responsiveMd,v=e.responsiveLg,m=e.responsiveXl,g=e.rows,y=e.small,b=e.sortable,w=e.sorted,_=e.striped,E=e.tbodyColor,S=e.tbodyTextWhite,T=e.theadColor,C=e.theadTextWhite,I=e.noBottomColumns,k=ee(e,["autoWidth","bordered","borderless","btn","children","columns","dark","fixed","hover","handleSort","responsive","responsiveSm","responsiveMd","responsiveLg","responsiveXl","rows","small","sortable","sorted","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","noBottomColumns"]);return i.a.createElement("div",{"data-test":"datatable-table",className:"col-sm-12"},i.a.createElement(Ye,Y({autoWidth:t,bordered:n,borderless:r,btn:o,dark:u,fixed:c,hover:l,responsive:h,responsiveSm:d,responsiveMd:p,responsiveLg:v,responsiveXl:m,small:y,striped:_,className:"dataTable"},k),i.a.createElement(Qe,{color:T,textWhite:C,columns:s,handleSort:f,sortable:b,sorted:w}),i.a.createElement($e,{color:E,textWhite:S,rows:g}),!I&&i.a.createElement(Xe,{color:T,textWhite:C,columns:s}),a))};Je.propTypes={autoWidth:ue.bool.isRequired,bordered:ue.bool.isRequired,borderless:ue.bool.isRequired,btn:ue.bool.isRequired,dark:ue.bool.isRequired,fixed:ue.bool.isRequired,hover:ue.bool.isRequired,handleSort:ue.func.isRequired,responsive:ue.bool.isRequired,responsiveSm:ue.bool.isRequired,responsiveMd:ue.bool.isRequired,responsiveLg:ue.bool.isRequired,responsiveXl:ue.bool.isRequired,sortable:ue.bool.isRequired,sorted:ue.bool.isRequired,small:ue.bool.isRequired,striped:ue.bool.isRequired,theadColor:ue.string.isRequired,theadTextWhite:ue.bool.isRequired,tbodyColor:ue.string.isRequired,tbodyTextWhite:ue.bool.isRequired,columns:ue.arrayOf(ue.object),rows:ue.arrayOf(ue.object),children:ue.node,noBottomColumns:ue.bool};var Ze=function(e){var t=e.autoWidth,n=e.bordered,r=e.borderless,o=e.btn,a=e.children,s=e.columns,u=e.dark,c=e.fixed,l=e.hover,f=e.handleSort,h=e.handleTableBodyScroll,d=e.maxHeight,p=e.responsive,v=e.responsiveSm,m=e.responsiveMd,g=e.responsiveLg,y=e.responsiveXl,b=e.rows,w=e.scrollX,_=e.scrollY,E=e.small,S=e.sortable,T=e.sorted,C=e.striped,I=e.tbodyColor,k=e.tbodyTextWhite,A=e.theadColor,O=e.theadTextWhite,N=e.translateScrollHead,x=ee(e,["autoWidth","bordered","borderless","btn","children","columns","dark","fixed","hover","handleSort","handleTableBodyScroll","maxHeight","responsive","responsiveSm","responsiveMd","responsiveLg","responsiveXl","rows","scrollX","scrollY","small","sortable","sorted","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","translateScrollHead"]),R=w?s.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0)+"px":"auto";return i.a.createElement("div",{"data-test":"datatable-table-scroll",className:"col-sm-12"},i.a.createElement("div",{className:"dataTables_scroll"},i.a.createElement("div",{className:"dataTables_scrollHead",style:{overflow:"hidden"}},i.a.createElement("div",{className:"dataTables_scrollHeadInner",style:{position:"relative",transform:"translateX(-".concat(N,"px)"),boxSizing:"content-box",paddingRight:_?"15px":null,minWidth:R}},i.a.createElement(Ye,Y({autoWidth:t,bordered:n,borderless:r,btn:o,dark:u,fixed:c,hover:l,responsive:p,responsiveSm:v,responsiveMd:m,responsiveLg:g,responsiveXl:y,small:E,striped:C,className:"dataTable"},x),i.a.createElement(Qe,{color:A,textWhite:O,columns:s,handleSort:f,scrollX:w,scrollY:_,sortable:S,sorted:T})))),i.a.createElement("div",{className:"dataTable_scrollBody",style:{overflow:"auto"},onScroll:h},i.a.createElement(Ye,Y({style:{minWidth:R},autoWidth:t,bordered:n,borderless:r,btn:o,dark:u,fixed:c,hover:l,maxHeight:d,responsive:p,responsiveSm:v,responsiveMd:m,responsiveLg:g,responsiveXl:y,scrollY:_,small:E,striped:C,className:"dataTable"},x),i.a.createElement("colgroup",null,s.map((function(e){return i.a.createElement("col",{key:e.field,style:{width:"".concat(e.width,"px")||!1,minWidth:"".concat(e.width,"px")||!1}})}))),i.a.createElement($e,{color:I,textWhite:k,rows:b}),a))))};Ze.propTypes={autoWidth:ue.bool.isRequired,bordered:ue.bool.isRequired,borderless:ue.bool.isRequired,btn:ue.bool.isRequired,dark:ue.bool.isRequired,fixed:ue.bool.isRequired,hover:ue.bool.isRequired,handleSort:ue.func.isRequired,handleTableBodyScroll:ue.func.isRequired,responsive:ue.bool.isRequired,responsiveSm:ue.bool.isRequired,responsiveMd:ue.bool.isRequired,responsiveLg:ue.bool.isRequired,responsiveXl:ue.bool.isRequired,sortable:ue.bool.isRequired,sorted:ue.bool.isRequired,small:ue.bool.isRequired,striped:ue.bool.isRequired,theadColor:ue.string.isRequired,theadTextWhite:ue.bool.isRequired,tbodyColor:ue.string.isRequired,tbodyTextWhite:ue.bool.isRequired,translateScrollHead:ue.number.isRequired,columns:ue.arrayOf(ue.object),rows:ue.arrayOf(ue.object),children:ue.node,maxHeight:ue.string,scrollX:ue.bool,scrollY:ue.bool};var et=function(e){var t=e.value,n=e.onChange,r=e.entries,o=e.label;return i.a.createElement("div",{"data-test":"datatable-select",className:"dataTables_length bs-select"},i.a.createElement("label",null,o,i.a.createElement("select",{value:t,onChange:function(e){var t=parseInt(e.target.value,10);n(t)},className:"custom-select custom-select-sm form-control form-control-sm",style:{marginLeft:".5rem"}},r.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))))};et.propTypes={entries:ue.arrayOf(ue.number).isRequired,label:ue.oneOfType([ue.string,ue.number,ue.object]).isRequired,onChange:ue.func.isRequired,value:ue.number.isRequired};var tt=function(e){var t=e.handleEntriesChange,n=e.displayEntries,r=e.entries,o=e.entriesArr,a=e.paging,s=e.label,u=e.barReverse;return i.a.createElement("div",{"data-test":"datatable-entries",className:"col-sm-12 col-md-6"},a&&n&&i.a.createElement(et,{value:r,onChange:t,entries:o,label:s,barReverse:u}))};tt.propTypes={barReverse:ue.bool,handleEntriesChange:ue.func.isRequired,displayEntries:ue.bool.isRequired,entries:ue.number.isRequired,entriesArr:ue.arrayOf(ue.number).isRequired,paging:ue.bool.isRequired,label:ue.oneOfType([ue.string,ue.number,ue.object]).isRequired};var nt=function(e){var t=e.value,n=e.onChange,r=e.label;return i.a.createElement("div",{"data-test":"datatable-input",className:"dataTables_filter"},i.a.createElement("label",null,r||"Search",i.a.createElement("input",{value:t,onChange:n,type:"search",className:"form-control form-control-sm",placeholder:r||"Search"})))};nt.propTypes={label:ue.oneOfType([ue.string,ue.number,ue.object]),onChange:ue.func,value:ue.string};var rt=function(e){var t=e.handleSearchChange,n=e.search,r=e.searching,o=e.label,a=e.barReverse;return i.a.createElement("div",{"data-test":"datatable-search",className:"col-sm-12 col-md-6"},r&&i.a.createElement(nt,{value:n,onChange:t,label:o,barReverse:a}))};rt.propTypes={barReverse:ue.bool,handleSearchChange:ue.func.isRequired,search:ue.string.isRequired,searching:ue.bool.isRequired,label:ue.string};var it=function(e){var t=e.activePage,n=e.entries,r=e.filteredRows,o=e.info,a=e.pages,s=e.label;return i.a.createElement("div",{"data-test":"datatable-info",className:"col-sm-12 col-md-5"},o&&i.a.createElement("div",{className:"dataTables_info",role:"status","aria-live":"polite"},s[0]," ",t>0?t*n+1:t+1," ",s[1]," ",a.length-1>t?a[t].length*(t+1):r.length," ",s[2]," ",r.length," ",s[3]))};it.propTypes={activePage:ue.number.isRequired,entries:ue.number.isRequired,filteredRows:ue.array.isRequired,info:ue.bool.isRequired,pages:ue.array.isRequired,label:ue.arrayOf(ue.string)},it.defaultProps={label:["Showing","to","of","entries"]};var ot=function(e){var t,n=e.children,r=e.circle,o=e.className,s=e.color,u=e.tag,c=e.size,l=ee(e,["children","circle","className","color","tag","size"]),f=a()((Q(t={"pagination-circle":r},"pg-".concat(s),s),Q(t,"pagination-".concat(c),c),t),"pagination",o);return i.a.createElement(u,Y({"data-test":"pagination"},l,{className:f}),n)};ot.propTypes={children:ue.node,circle:ue.bool,className:ue.string,color:ue.string,tag:ue.oneOfType([ue.func,ue.string]),size:ue.oneOf(["lg","sm"])},ot.defaultProps={circle:!1,className:"",color:"",tag:"ul"};var at=function(e){var t=e.active,n=e.className,r=e.children,o=e.disabled,s=e.tag,u=ee(e,["active","className","children","disabled","tag"]),c=a()({disabled:o,active:t},"page-item",n);return i.a.createElement(s,Y({"data-test":"page-item"},u,{className:c}),r)};at.propTypes={active:ue.bool,className:ue.string,children:ue.node,disabled:ue.bool,tag:ue.oneOfType([ue.func,ue.string])},at.defaultProps={active:!1,className:"",disabled:!1,tag:"li"};var st=function(e){var t=e.children,n=e.className,r=e.tag,o=ee(e,["children","className","tag"]),s=a()("page-link",n);return i.a.createElement(r,Y({"data-test":"page-link"},o,{className:s}),t)};st.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node},st.defaultProps={tag:"a"};var ut=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"state",{pages:n.props.pages,pGroups:[]}),Q(te(n),"componentDidUpdate",(function(e){e.pages!==n.props.pages&&n.setState({pages:n.props.pages},(function(){return n.groupPages()}))})),Q(te(n),"pagesIndexify",(function(){var e=ie(n.state.pages);return e.forEach((function(e,t){return e.index=t})),e})),Q(te(n),"groupPages",(function(){for(var e=[],t=n.pagesIndexify();t.length>0;)e.push(t.splice(0,n.props.pagesAmount));n.setState({pGroups:e})})),Q(te(n),"choosePagesGroup",(function(){var e=Math.floor(n.props.activePage/n.props.pagesAmount);return n.state.pGroups.length?n.state.pGroups[e]:[]})),n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){this.groupPages()}},{key:"render",value:function(){var e=this.props,t=e.activePage,n=e.changeActivePage,r=e.pages,o=e.label;return i.a.createElement("div",{"data-test":"datatable-pagination",className:"col-sm-12 col-md-7"},i.a.createElement("div",{className:"dataTables_paginate"},i.a.createElement(ot,null,i.a.createElement(at,{disabled:t<=0},i.a.createElement(st,{className:"page-link","aria-label":o[0],onClick:function(){return n(t-1)}},i.a.createElement("span",null,o[0]))),this.choosePagesGroup().map((function(e){return i.a.createElement(at,{key:Object.keys(e[0])[0]+e.index,active:e.index===t},i.a.createElement(st,{className:"page-link",onClick:function(){return n(e.index)}},e.index+1,e.index===t&&i.a.createElement("span",{className:"sr-only"},"(current)")))})),i.a.createElement(at,{disabled:!r.length||t===r.length-1},i.a.createElement(st,{className:"page-link","aria-label":o[1],onClick:function(){return n(t+1)}},i.a.createElement("span",null,o[1]))))))}}]),t}(r.Component);ut.propTypes={activePage:ue.number.isRequired,changeActivePage:ue.func.isRequired,pages:ue.array.isRequired,pagesAmount:ue.number.isRequired,label:ue.arrayOf(ue.string).isRequired};var ct=function(e){function t(e){var n;return K(this,t),Q(te(n=ne(this,J(t).call(this,e))),"setData",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;n.setState((function(){return{columns:t,rows:e,filteredRows:e}}),r&&"function"===typeof r&&function(){return r()})})),Q(te(n),"setUnsearchable",(function(e){var t=[];e.forEach((function(e){void 0!==e.searchable&&!1===e.searchable&&t.push(e.field)})),n.setState({unsearchable:t})})),Q(te(n),"fetchData",(function(e,t){fetch(e).then((function(e){return e.json()})).then((function(e){return n.setData(e.rows,e.columns,t?n.paginateRows:null)})).catch((function(e){return console.log(e)}))})),Q(te(n),"pagesAmount",(function(){return Math.ceil(n.state.filteredRows.length/n.state.entries)})),Q(te(n),"paginateRowsInitialy",(function(){for(var e=n.state,t=e.rows,r=e.entries,i=e.pages,o=n.pagesAmount(),a=1;a<=o;a++){var s=a*r;i.push(t.slice(s-r,s))}})),Q(te(n),"handleEntriesChange",(function(e){n.setState({entries:Array.isArray(e)?e[0]:e},(function(){return n.paginateRows()}))})),Q(te(n),"handleSearchChange",(function(e){n.setState({search:e.target.value},(function(){return n.filterRows()}),n.props.onSearch&&"function"===typeof n.props.onSearch&&n.props.onSearch(e.target.value))})),Q(te(n),"checkFieldValue",(function(e,t){return e[t]&&"string"!==typeof e[t]?e[t].props.searchValue:e[t]})),Q(te(n),"checkField",(function(e,t,r,i){var o=[n.checkFieldValue(t,e),n.checkFieldValue(r,e)],a=o[0],s=o[1];return"desc"===i?a<s:a>s})),Q(te(n),"sort",(function(e,t,r,i){e.sort((function(e,o){return t&&t.includes(r)?n.checkField(r,e,o,i):"asc"===i?e[r]<o[r]?-1:1:e[r]>o[r]?-1:1}))})),Q(te(n),"handleSort",(function(e,t){var r=n.props.onSort;"disabled"!==t&&(n.setState((function(r){var i=n.props.sortRows,o=r.rows,a=r.columns,s="desc"===t?"desc":"asc";return n.sort(o,i,e,s),a.forEach((function(t){"disabled"!==t.sort&&(t.sort=t.field===e?"desc"===t.sort?"asc":"desc":"")})),{rows:o,columns:a,sorted:!0}}),(function(){return n.filterRows()})),r&&"function"===typeof r&&r({column:e,direction:"desc"===t?"desc":"asc"}))})),Q(te(n),"filterRows",(function(){var e=n.state,t=e.unsearchable,r=e.search,i=n.props,o=i.sortRows,a=i.noRecordsFoundLabel;n.setState((function(e){var n=e.rows.filter((function(e){for(var n in e)if((!t.length||!t.includes(n))&&"function"!==typeof e[n]){var i="";if(o&&"string"!==typeof e[n]?i=e[n].props.searchValue:e[n]&&(i=e[n].toString()),i.toLowerCase().includes(r.toLowerCase()))return!0}return!1}));return 0===n.length&&n.push({message:a,colspan:e.columns.length}),{filteredRows:n,activePage:0}}),(function(){return n.paginateRows()}))})),Q(te(n),"paginateRows",(function(){var e=n.pagesAmount();n.setState((function(t){var r=t.pages,i=t.entries,o=t.filteredRows,a=t.activePage;if(r=[],n.props.paging){for(var s=1;s<=e;s++){var u=s*i;r.push(o.slice(u-i,u))}a=a<r.length||0===a?a:r.length-1}else r.push(o),a=0;return{pages:r,filteredRows:o,activePage:a}}))})),Q(te(n),"changeActivePage",(function(e){var t=n.props.onPageChange;n.setState({activePage:e}),t&&"function"===typeof t&&t({activePage:e+1,pagesAmount:n.pagesAmount()})})),Q(te(n),"handleTableBodyScroll",(function(e){n.setState({translateScrollHead:e.target.scrollLeft})})),n.state={activePage:0,columns:e.data.columns||[],entries:e.entries,filteredRows:e.data.rows||[],order:e.order||[],pages:[],rows:e.data.rows||[],search:"",sorted:!1,translateScrollHead:0,unsearchable:[]},n.props.paging?n.paginateRowsInitialy():n.state.pages.push(n.state.rows),n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){var e=this.props.data,t=this.state,n=t.order,r=t.columns;"string"===typeof e&&this.fetchData(e,this.paginateRows),n.length&&this.handleSort(n[0],n[1]),this.setUnsearchable(r)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.data;e.data!==n&&("string"===typeof n?this.fetchData(n):this.setData(n.rows,n.columns,this.paginateRows),this.setUnsearchable(this.state.columns))}},{key:"render",value:function(){var e=this.props,t=e.autoWidth,n=e.bordered,r=e.borderless,o=e.barReverse,s=e.btn,u=e.className,c=(e.children,e.dark),l=(e.data,e.displayEntries),f=e.entriesOptions,h=e.entriesLabel,d=(e.exportToCSV,e.fixed),p=e.hover,v=e.info,m=e.infoLabel,g=e.maxHeight,y=e.noBottomColumns,b=(e.noRecordsFoundLabel,e.order,e.pagesAmount),w=e.paging,_=e.paginationLabel,E=e.responsive,S=e.responsiveSm,T=e.responsiveMd,C=e.responsiveLg,I=e.responsiveXl,k=e.searching,A=e.searchLabel,O=e.scrollX,N=e.scrollY,x=e.small,R=e.sortable,P=e.striped,D=e.tbodyColor,M=e.tbodyTextWhite,j=e.theadColor,L=e.theadTextWhite,F=(e.sortRows,e.onSearch,e.onSort,e.onPageChange,ee(e,["autoWidth","bordered","borderless","barReverse","btn","className","children","dark","data","displayEntries","entriesOptions","entriesLabel","exportToCSV","fixed","hover","info","infoLabel","maxHeight","noBottomColumns","noRecordsFoundLabel","order","pagesAmount","paging","paginationLabel","responsive","responsiveSm","responsiveMd","responsiveLg","responsiveXl","searching","searchLabel","scrollX","scrollY","small","sortable","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","sortRows","onSearch","onSort","onPageChange"])),U=this.state,B=U.columns,V=U.entries,q=U.filteredRows,W=U.pages,z=U.activePage,K=U.search,H=U.translateScrollHead,G=a()("dataTables_wrapper dt-bootstrap4",u);return i.a.createElement("div",{"data-test":"datatable",className:G},i.a.createElement("div",{className:"row".concat(o?" flex-row-reverse":"")},i.a.createElement(tt,{paging:w,displayEntries:l,entries:V,handleEntriesChange:this.handleEntriesChange,entriesArr:f,label:h,barReverse:o}),i.a.createElement(rt,{handleSearchChange:this.handleSearchChange,search:K,searching:k,label:A,barReverse:o})),!N&&!O&&i.a.createElement("div",{className:"row"},i.a.createElement(Je,Y({autoWidth:t,bordered:n,borderless:r,btn:s,dark:c,fixed:d,hover:p,noBottomColumns:y,responsive:E,responsiveSm:S,responsiveMd:T,responsiveLg:C,responsiveXl:I,small:x,striped:P,theadColor:j,theadTextWhite:L,columns:B,handleSort:this.handleSort,sortable:R,tbodyColor:D,tbodyTextWhite:M,rows:W[z],sorted:this.state.sorted},F))),(N||O)&&i.a.createElement("div",{className:"row"},i.a.createElement(Ze,Y({autoWidth:t,bordered:n,borderless:r,btn:s,dark:c,fixed:d,handleTableBodyScroll:this.handleTableBodyScroll,hover:p,maxHeight:g,responsive:E,responsiveSm:S,responsiveMd:T,responsiveLg:C,responsiveXl:I,scrollX:O,scrollY:N,small:x,striped:P,theadColor:j,theadTextWhite:L,columns:B,handleSort:this.handleSort,sortable:R,sorted:this.state.sorted,tbodyColor:D,tbodyTextWhite:M,rows:W[z],translateScrollHead:H},F))),w&&i.a.createElement("div",{className:"row"},i.a.createElement(it,{activePage:z,entries:V,filteredRows:q,info:v,pages:W,label:m}),i.a.createElement(ut,{activePage:z,changeActivePage:this.changeActivePage,pages:W,pagesAmount:b,label:_})))}}]),t}(r.Component);ct.propTypes={autoWidth:ue.bool,barReverse:ue.bool,bordered:ue.bool,borderless:ue.bool,btn:ue.bool,className:ue.string,children:ue.node,dark:ue.bool,data:ue.oneOfType([ue.object,ue.string]),displayEntries:ue.bool,entries:ue.number,entriesLabel:ue.oneOfType([ue.string,ue.number,ue.object]),entriesOptions:ue.arrayOf(ue.number),exportToCSV:ue.bool,fixed:ue.bool,hover:ue.bool,info:ue.bool,infoLabel:ue.arrayOf(ue.string),maxHeight:ue.string,noBottomColumns:ue.bool,order:ue.arrayOf(ue.string),pagesAmount:ue.number,paging:ue.bool,paginationLabel:ue.arrayOf(ue.string),responsive:ue.bool,responsiveSm:ue.bool,responsiveMd:ue.bool,responsiveLg:ue.bool,responsiveXl:ue.bool,searching:ue.bool,searchLabel:ue.string,scrollX:ue.bool,scrollY:ue.bool,sortable:ue.bool,sortRows:ue.arrayOf(ue.string),small:ue.bool,striped:ue.bool,theadColor:ue.string,theadTextWhite:ue.bool,tbodyColor:ue.string,tbodyTextWhite:ue.bool,onSearch:ue.func,onSort:ue.func,onPageChange:ue.func},ct.defaultProps={autoWidth:!1,barReverse:!1,bordered:!1,borderless:!1,btn:!1,dark:!1,data:{columns:[],rows:[]},displayEntries:!0,entries:10,entriesLabel:"Show entries",entriesOptions:[10,20,50,100],exportToCSV:!1,fixed:!1,hover:!1,info:!0,infoLabel:["Showing","to","of","entries"],noRecordsFoundLabel:"No matching records found",noBottomColumns:!1,order:[],pagesAmount:8,paging:!0,paginationLabel:["Previous","Next"],responsive:!1,responsiveSm:!1,responsiveMd:!1,responsiveLg:!1,responsiveXl:!1,searching:!0,searchLabel:"Search",scrollX:!1,scrollY:!1,sortable:!0,small:!1,striped:!1,theadColor:"",theadTextWhite:!1,tbodyColor:"",tbodyTextWhite:!1};var lt=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"state",{isOpen:!1}),Q(te(n),"getContainer",(function(){return l.a.findDOMNode(te(n))})),Q(te(n),"addEvents",(function(){["click","touchstart","keyup"].forEach((function(e){return document.addEventListener(e,n.handleDocumentClick,!0)}))})),Q(te(n),"removeEvents",(function(){["click","touchstart","keyup"].forEach((function(e){return document.removeEventListener(e,n.handleDocumentClick,!0)}))})),Q(te(n),"handleDocumentClick",(function(e){var t=e.which,r=e.type,i=e.target,o=t===de.tab,a="keyup"===r;if(!(3===t||a&&!o)){var s=n.getContainer();(!s.contains(i)||s===i||a&&!o)&&n.toggle()}})),Q(te(n),"handleFocus",(function(e,t){var n=de.up,r=de.down,i=e.which,o=e.target,a=i===n,s=i===r,u=ie(t).findIndex((function(e){return e===o}));a&&u>0&&(u-=1),s&&u<t.length-1&&(u+=1),u<0&&(u=0),t[u].focus()})),Q(te(n),"handleKeyDown",(function(e){var t=n.state.isOpen,r=n.props.disabled,i=e.which,o=e.target,a=de.esc,s=de.up,u=de.down,c=de.space,l=i===c,f=i===a;if(!(![a,s,u,c].includes(i)||/button/i.test(o.tagName)&&l||/input|textarea/i.test(o.tagName))&&(e.preventDefault(),!r)){var h=n.getContainer();if(l&&t&&h!==o&&o.click(),f||!t)return n.toggle(),void h.children[0].focus();var d=h.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled)");d.length&&n.handleFocus(e,d)}})),Q(te(n),"toggle",(function(){n.setState({isOpen:!n.state.isOpen})})),n}return X(t,e),G(t,[{key:"getChildContext",value:function(){return{isOpen:this.state.isOpen,dropup:this.props.dropup,dropright:this.props.dropright,dropleft:this.props.dropleft,toggle:this.toggle}}},{key:"componentDidMount",value:function(){this.handleEventsBinding()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"componentDidUpdate",value:function(){this.handleEventsBinding()}},{key:"handleEventsBinding",value:function(){this.state.isOpen?this.addEvents():this.removeEvents()}},{key:"render",value:function(){var e,t=he(this.props,["toggle","disabled"]),n=t.className,r=t.children,o=t.dropup,s=t.group,u=t.size,c=t.dropright,l=t.dropleft,f=a()((Q(e={"btn-group":s},"btn-group-".concat(u),!!u),Q(e,"dropdown",!s),Q(e,"show",this.state.isOpen),Q(e,"dropup",o),Q(e,"dropright",c),Q(e,"dropleft",l),e),n);return i.a.createElement(R,null,i.a.createElement("div",{"data-test":"dropdown",className:f,onKeyDown:this.handleKeyDown},r))}}]),t}(i.a.Component);lt.propTypes={disabled:ue.bool,dropup:ue.bool,dropright:ue.bool,dropleft:ue.bool,group:ue.bool,size:ue.string,tag:ue.string,toggle:ue.func,children:ue.node,className:ue.string},lt.defaultProps={dropup:!1,dropright:!1,dropleft:!1,tag:"div"},lt.childContextTypes={toggle:ue.func.isRequired,isOpen:ue.bool.isRequired,dropup:ue.bool.isRequired,dropright:ue.bool.isRequired,dropleft:ue.bool.isRequired};var ft=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"onClick",(function(e){var t=n.props,r=t.disabled,i=t.header,o=t.divider,a=t.onClick,s=t.toggle;r||i||o?e.preventDefault():(a&&a(e),s&&n.context.toggle(e))})),Q(te(n),"getTabIndex",(function(){var e=n.props,t=e.disabled,r=e.header,i=e.divider;return t||r||i?"-1":"0"})),n}return X(t,e),G(t,[{key:"render",value:function(){var e=this.getTabIndex(),t=he(this.props,["toggle"]),n=t.className,r=t.divider,o=t.tag,s=t.header,u=t.href,c=t.active,l=t.disabled,f=ee(t,["className","divider","tag","header","href","active","disabled"]),h=a()({active:c,disabled:l,"dropdown-item":!r&&!s,"dropdown-header":s,"dropdown-divider":r},n);"button"===o&&(s?o="h6":r?o="div":u&&(o="a"));var d="button"===o&&(f.onClick||this.props.toggle)?"button":void 0;return i.a.createElement(o,Y({"data-test":"dropdown-item",type:d},f,{tabIndex:e,className:h,onClick:this.onClick}))}}]),t}(i.a.Component);ft.propTypes={children:ue.node,active:ue.bool,disabled:ue.bool,divider:ue.bool,tag:ue.oneOfType([ue.func,ue.string]),header:ue.bool,onClick:ue.func,className:ue.string,toggle:ue.bool},ft.defaultProps={tag:"button",toggle:!0},ft.contextTypes={toggle:ue.func};var ht=function(e){var t=e.tag,n=e.tabIndex,r=e.role,o=e.attributes,a=e.aria,s=e.d_key,u=e.children;return i.a.createElement(t,Y({"data-test":"dropdown-menu-component",tabIndex:n,role:r},o,{"aria-hidden":a,key:s}),u)};ht.propTypes={aria:ue.bool.isRequired,attributes:ue.object.isRequired,d_key:ue.string.isRequired,role:ue.string.isRequired,tabIndex:ue.string.isRequired,tag:ue.any.isRequired,children:ue.node.isRequired};me(".dropup .dropdown-menu {\n  top: auto !important;\n  bottom: 100% !important;\n  transform: translate3d(5px, 5px, 0px) !important;\n}\n\n.dropdown-menu-right {\n  left: 0 !important;\n  right: auto !important;\n}\n");var dt={flip:{enabled:!1}},pt=function(e){function t(){return K(this,t),ne(this,J(t).apply(this,arguments))}return X(t,e),G(t,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.basic,o=n.className,s=n.right,u=n.children,c=n.tag,l=n.flip,f=n.color,h=ee(n,["basic","className","right","children","tag","flip","color"]),d=a()((Q(e={"dropdown-menu-right":s},"dropdown-".concat(f),f),Q(e,"show",this.context.isOpen),Q(e,"basic",r),e),"dropdown-menu",o),p=c;if(this.context.isOpen){var v=this.context.dropup?"top":this.context.dropright?"right":this.context.dropleft?"left":"bottom",m=s?"end":"start";h.placement="".concat(v,"-").concat(m),h.component=c,h.modifiers=l?void 0:dt}return i.a.createElement(F,{modifires:h.modifiers,eventsEnabled:!0,positionFixed:!1,placement:h.placement,"data-test":"dropdown-menu"},(function(e){var n=e.placement,r=e.ref,o=e.style;return i.a.createElement(p,{ref:r,style:o,"data-placement":n,className:d},i.a.createElement(ht,{isOpen:t.context.isOpen,tag:p,tabIndex:"-1",role:"menu",attributes:h,aria:!t.context.isOpen,d_key:"dropDownMenu",color:f},u))}))}}]),t}(r.Component);pt.propTypes={children:ue.node.isRequired,basic:ue.bool,className:ue.string,flip:ue.bool,right:ue.bool,tag:ue.string},pt.defaultProps={basic:!1,className:"",flip:!1,right:!1,tag:"div",color:!1},pt.contextTypes={isOpen:ue.bool.isRequired,dropup:ue.bool.isRequired,dropright:ue.bool.isRequired,dropleft:ue.bool.isRequired,color:ue.oneOfType([ue.oneOf(["primary","default","secondary","success","dark","danger","info","warning","ins"]),ue.bool])};var vt=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"onClick",(function(e){var t=n.props,r=t.disabled,i=t.nav,o=t.tag,a=t.onClick;r?e.preventDefault():(i&&!o&&e.preventDefault(),a&&a(e),n.context.toggle(e))})),n}return X(t,e),G(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.color,o=t.caret,s=t.nav,u=t.tag,c=ee(t,["className","color","caret","nav","tag"]),l=c["aria-label"]||"Toggle Dropdown",f=a()({"dropdown-toggle":o,"nav-link":s},n),h=c.children||i.a.createElement("span",{className:"sr-only"},l),d=u;return s&&!u?(d="a",c.href="#"):u||(d=be,c.color=r),i.a.createElement(q,{"data-test":"dropdown-toggle"},(function(t){var n=t.ref;return u||s?i.a.createElement(d,Y({},c,{className:f,onClick:e.onClick,"aria-expanded":e.context.isOpen,ref:n}),h):i.a.createElement(d,Y({},c,{className:f,onClick:e.onClick,"aria-expanded":e.context.isOpen,innerRef:n}),h)}))}}]),t}(i.a.Component);vt.propTypes={caret:ue.bool,color:ue.string,children:ue.node,className:ue.string,disabled:ue.bool,onClick:ue.func,"aria-haspopup":ue.bool,tag:ue.oneOfType([ue.func,ue.string]),nav:ue.bool},vt.defaultProps={"aria-haspopup":!0,color:"secondary"},vt.contextTypes={isOpen:ue.bool.isRequired,toggle:ue.func.isRequired};var mt=function(e){var t=e.color,n=e.className,r=e.tag,o=ee(e,["color","className","tag"]),s=a()("edge-header",t,n);return i.a.createElement(r,Y({"data-test":"edgeHeader"},o,{className:s}))};mt.propTypes={color:ue.string,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string},mt.defaultProps={color:"deep-purple",tag:"div"};var gt=function(e){var t=e.color,n=e.children,r=e.className,o=e.tag,s=ee(e,["color","children","className","tag"]),u=a()("page-footer",t&&t,r);return i.a.createElement(o,Y({"data-test":"footer"},s,{className:u}),n)};gt.propTypes={color:ue.string,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node},gt.defaultProps={tag:"footer"};ue.node,ue.string,ue.bool;var yt=function(e){var t=e.className,n=e.tag,r=ee(e,["className","tag"]),o=a()("container free-bird",t);return i.a.createElement(n,Y({"data-test":"freebird"},r,{className:o}))};yt.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string},yt.defaultProps={tag:"div"};me(".hamburger-button__checkbox {\n  display: none;\n}\n\n.hamburger-button__button {\n  background-color: transparent;\n  height: 100%;\n  width: 100%;\n  text-align: center;\n  cursor: pointer;\n  top: -5px;\n}\n\nlabel.hamburger-button__button {\n  margin-bottom: 0;\n}\n\n#nav-icon1 {\n  width: 1.5em;\n  height: 1.5em;\n  position: relative;\n  -webkit-transform: rotate(0deg);\n  -moz-transform: rotate(0deg);\n  -o-transform: rotate(0deg);\n  transform: rotate(0deg);\n  -webkit-transition: .5s ease-in-out;\n  -moz-transition: .5s ease-in-out;\n  -o-transition: .5s ease-in-out;\n  transition: .5s ease-in-out;\n  cursor: pointer;\n}\n\n#nav-icon1 span {\n  display: block;\n  position: absolute;\n  height: 3px;\n  width: 100%;\n  border-radius: 1px;\n  background-color: #fff;\n  opacity: 1;\n  left: 0;\n  -webkit-transform: rotate(0deg);\n  -moz-transform: rotate(0deg);\n  -o-transform: rotate(0deg);\n  transform: rotate(0deg);\n  -webkit-transition: .25s ease-in-out;\n  -moz-transition: .25s ease-in-out;\n  -o-transition: .25s ease-in-out;\n  transition: .25s ease-in-out;\n}\n\n#nav-icon1 span:nth-child(1) {\n  top: 5px;\n}\n\n#nav-icon1 span:nth-child(2) {\n  top: 16px;\n}\n\n#nav-icon1 span:nth-child(3) {\n  top: 27px;\n}\n\n.hamburger-button__checkbox:checked+#nav-icon1 span:nth-child(1) {\n  top: 16px;\n  -webkit-transform: rotate(135deg);\n  -moz-transform: rotate(135deg);\n  -o-transform: rotate(135deg);\n  transform: rotate(135deg);\n}\n\n.hamburger-button__checkbox:checked+#nav-icon1 span:nth-child(2) {\n  opacity: 0;\n  left: -60px;\n}\n\n.hamburger-button__checkbox:checked+#nav-icon1 span:nth-child(3) {\n  top: 16px;\n  -webkit-transform: rotate(-135deg);\n  -moz-transform: rotate(-135deg);\n  -o-transform: rotate(-135deg);\n  transform: rotate(-135deg);\n}\n");ue.string,ue.string,ue.string;var bt=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"state",{width:"",height:"",ratio:""}),Q(te(n),"componentDidMount",(function(){var e=n.props.width,t=n.props.height,r=9/16;if(n.props.ratio){var i=n.props.ratio.split("by")[0]/n.props.ratio.split("by")[1];"number"===typeof r&&(r=i)}n.props.width&&n.props.height||(n.props.width?t=n.props.width*r:n.props.height&&(e=n.props.height*(1/r)),n.setState($({},n.state,{width:e,height:t,ratio:r})))})),n}return X(t,e),G(t,[{key:"render",value:function(){var e=this.props,t=e.allowFullScreen,n=e.className,r=e.id,o=e.name,s=e.onMouseOver,u=e.onMouseOut,c=e.onLoad,l=e.sandbox,f=e.src,h=e.style,d=e.title,p=void 0===d?"":d,v=e.ratio,m=e.height,g=e.width,y=a()("embed-responsive-item",n),b=a()(!(m||g)&&"embed-responsive",v?"embed-responsive-".concat(v):"embed-responsive-16by9"),w={src:f,id:r||!1,frameBorder:"0",target:"_parent",allowFullScreen:t||!0,height:this.state.height||"100%",name:o||void 0,width:this.state.width||"100%",onLoad:c||void 0,onMouseOver:s||void 0,onMouseOut:u||void 0,sandbox:l||void 0,style:h||void 0};return w=pe(w),i.a.createElement("div",{"data-test":"iframe",className:b},i.a.createElement("iframe",Y({title:p,className:y},w)))}}]),t}(r.Component);bt.propTypes={allowFullScreen:ue.bool,className:ue.string,height:ue.number,id:ue.string,name:ue.string,onMouseOver:ue.func,onMouseOut:ue.func,onLoad:ue.func,ratio:ue.string,sandbox:ue.string,src:ue.string.isRequired,styles:ue.object,width:ue.number,title:ue.string};var wt=function(e){function t(e){var n;return K(this,t),Q(te(n=ne(this,J(t).call(this,e))),"onBlur",(function(e){e.stopPropagation(),n.setState({isFocused:!1}),n.props.onBlur&&n.props.onBlur(e)})),Q(te(n),"onFocus",(function(e){e.stopPropagation(),n.setState({isFocused:!0}),n.props.onFocus&&n.props.onFocus(e)})),Q(te(n),"onChange",(function(e){e.stopPropagation(),"checkbox"!==n.props.type&&"radio"!==n.props.type&&n.setState({innerValue:e.target.value,isPristine:!1}),n.props.onChange&&n.props.onChange(e),n.props.getValue&&n.props.getValue(e.target.value)})),Q(te(n),"onInput",(function(e){e.stopPropagation(),"checkbox"!==n.props.type&&"radio"!==n.props.type&&n.setState({innerValue:e.target.value,isPristine:!1}),n.props.onInput&&n.props.onInput(e)})),Q(te(n),"setFocus",(function(){n.inputElementRef.current.focus()})),n.state={innerValue:e.value||e.valueDefault,isFocused:!1,isPristine:!0},n.inputElementRef=i.a.createRef(),n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){this.props.inputRef&&this.props.inputRef(this.inputElementRef.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.background,r=t.children,o=t.className,s=t.containerClass,u=t.disabled,c=t.error,l=t.filled,f=t.gap,h=(t.getValue,t.group),d=t.hint,p=t.icon,v=t.iconBrand,m=t.iconClass,g=t.iconLight,y=t.onIconClick,b=t.onIconMouseEnter,w=t.onIconMouseLeave,_=t.iconRegular,E=t.iconSize,S=t.id,T=(t.inputRef,t.noTag),C=t.outline,I=t.label,k=t.labelClass,A=t.size,O=t.success,N=t.tag,x=t.type,R=t.validate,P=(t.value,t.valueDefault,ee(t,["background","children","className","containerClass","disabled","error","filled","gap","getValue","group","hint","icon","iconBrand","iconClass","iconLight","onIconClick","onIconMouseEnter","onIconMouseLeave","iconRegular","iconSize","id","inputRef","noTag","outline","label","labelClass","size","success","tag","type","validate","value","valueDefault"])),D=(!!this.state.innerValue||!!d||this.state.isFocused||0===this.state.innerValue)&&"checkbox"!==x&&"radio"!==x,M="",j="";"textarea"===x?(j=C?"form-control":"md-textarea form-control",M="textarea"):(j="form-control",M="input",P.type=x),P.disabled=u;var L=a()(j,!!A&&"form-control-".concat(A),!!R&&"validate",!!l&&"filled-in",!!f&&"with-gap","checkbox"===x&&(!f&&"form-check-input"),"radio"===x&&"form-check-input",o),F=a()("checkbox"===x||"radio"===x?"boolean"===typeof I&&I?"d-flex":"form-check":"md-form",!!h&&"form-group",!!A&&"form-".concat(A),C&&"md-outline",n&&"md-bg",s),U=a()(!(!D||!this.state.isFocused)&&"active",m,"prefix"),B=a()(!!D&&"active",!!u&&"disabled","checkbox"===x&&"form-check-label","radio"===x&&"form-check-label",k),V=function(){return i.a.createElement(i.a.Fragment,null,p&&i.a.createElement(ve,{icon:p,size:E,brand:v,light:g,regular:_,className:U,onClick:y||e.setFocus,onMouseEnter:b,onMouseLeave:w}),i.a.createElement(M,Y({"data-test":"input"},P,{className:L,id:S,placeholder:d,ref:e.inputElementRef,value:e.state.innerValue,onBlur:e.onBlur,onChange:e.onChange,onInput:e.onInput,onFocus:e.onFocus})),I&&i.a.createElement("label",{className:B,htmlFor:S,"data-error":c,"data-success":O,id:S,onClick:e.setFocus},I),r)};return T?V():i.a.createElement(N,{className:F},V())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.value?{innerValue:e.value}:null}}]),t}(i.a.Component);wt.propTypes={className:ue.string,children:ue.node,containerClass:ue.string,disabled:ue.bool,error:ue.string,filled:ue.bool,gap:ue.bool,getValue:ue.func,group:ue.bool,hint:ue.string,icon:ue.string,iconBrand:ue.bool,iconClass:ue.string,iconLight:ue.bool,onIconClick:ue.func,onIconMouseEnter:ue.func,onIconMouseLeave:ue.func,iconRegular:ue.bool,iconSize:ue.string,id:ue.string,inputRef:ue.oneOfType([ue.object,ue.func]),label:ue.oneOfType([ue.string,ue.number,ue.object,ue.bool]),labelClass:ue.string,noTag:ue.bool,onBlur:ue.func,onChange:ue.func,onFocus:ue.func,onInput:ue.func,outline:ue.bool,size:ue.string,success:ue.string,tag:ue.oneOfType([ue.func,ue.string]),type:ue.string,validate:ue.bool,value:ue.oneOfType([ue.number,ue.string]),valueDefault:ue.oneOfType([ue.number,ue.string])},wt.defaultProps={className:"",containerClass:"",disabled:!1,error:"",filled:!1,gap:!1,group:!1,hint:void 0,icon:"",iconBrand:!1,iconClass:"",iconLight:!1,onIconMouseEnter:function(){},onIconMouseLeave:function(){},iconRegular:!1,iconSize:void 0,id:void 0,noTag:!1,outline:!1,label:"",labelClass:"",size:"",success:"",tag:"div",type:"text",validate:!1,valueDefault:""};var _t=function(e){var t=e.append,n=e.appendClassName,r=e.ariaLabel,o=e.children,s=e.className,u=e.containerClassName,c=e.containerId,l=e.hint,f=e.id,h=e.inputs,d=(e.inputTag,e.label),p=e.labelClassName,v=e.material,m=e.prepend,g=e.prependClassName,y=e.size,b=e.tag,w=e.textClassName,_=e.type,E=e.value,S=e.valueDefault,T=e.getValue,C=e.onChange,I=ee(e,["append","appendClassName","ariaLabel","children","className","containerClassName","containerId","hint","id","inputs","inputTag","label","labelClassName","material","prepend","prependClassName","size","tag","textClassName","type","value","valueDefault","getValue","onChange"]),k=a()("input-group",v&&"md-form",y&&"input-group-".concat(y),u),A=a()(s),O=a()("input-group-prepend",g),N=a()("input-group-append",n),x=a()("input-group-text",v&&"md-addon",w);return i.a.createElement(i.a.Fragment,null,d&&i.a.createElement("label",{htmlFor:f,className:p},d),i.a.createElement(b,Y({"data-test":"input-group"},I,{className:k,id:c}),m&&i.a.createElement("div",{className:O},"string"===typeof m?i.a.createElement("span",{className:x},m):m),h||i.a.createElement(wt,{noTag:!0,type:_,className:A,id:f,value:E,valueDefault:S,hint:l,"aria-label":r,onChange:function(e){e.persist(),C&&C(e),T&&T(e.target.value)}}),t&&i.a.createElement("div",{className:N},"string"===typeof t?i.a.createElement("span",{className:x},t):t),o))};_t.propTypes={append:ue.oneOfType([ue.node,ue.string]),appendClassNames:ue.string,ariaLabel:ue.string,children:ue.node,className:ue.string,containerClassName:ue.string,containerId:ue.string,hint:ue.string,id:ue.string,inputs:ue.node,label:ue.string,labelClassName:ue.string,material:ue.bool,prepend:ue.any,prependClassName:ue.string,size:ue.string,tag:ue.oneOfType([ue.func,ue.string]),textClassName:ue.string,type:ue.string,value:ue.string,valueDefault:ue.string,getValue:ue.func,onChange:ue.func},_t.defaultProps={tag:"div",type:"text"};ue.string,ue.func;var Et=function(e){var t=e.className,n=e.children,r=e.fluid,o=ee(e,["className","children","fluid"]),s=a()("jumbotron",!!r&&"jumbotron-fluid",t);return i.a.createElement("div",Y({"data-test":"jumbotron"},o,{className:s}),n)};Et.propTypes={fluid:ue.bool,children:ue.node,className:ue.string};var St=function(e){var t=e.children,n=e.className,r=e.tag,o=ee(e,["children","className","tag"]),s=a()("list-group",n);return i.a.createElement(r,Y({"data-test":"list-group"},o,{className:s}),t)};St.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node},St.defaultProps={tag:"ul"};var Tt=function(e){var t,n=e.active,r=e.children,o=e.className,s=e.color,u=e.disabled,c=e.hover,l=(e.success,e.info,e.warning,e.danger,e.tag),f=ee(e,["active","children","className","color","disabled","hover","success","info","warning","danger","tag"]),h=a()("list-group-item",o,(Q(t={active:n,disabled:u},"list-group-item-".concat(s)," color"),Q(t,"list-group-item-action",c),t));return f.href&&"li"===l&&(l="a"),i.a.createElement(l,Y({"data-test":"list-group-item"},f,{className:h}),r)};Tt.propTypes={active:ue.bool,disabled:ue.bool,hover:ue.bool,success:ue.bool,info:ue.bool,warning:ue.bool,danger:ue.bool,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node,color:ue.oneOf(["primary","secondary","success","danger","warning","info","light","dark"])},Tt.defaultProps={tag:"li"};ue.bool,ue.bool,ue.node,ue.string,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.bool,ue.oneOfType([ue.func,ue.string]),ue.bool;var Ct=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(o)))),"state",{isOpen:n.props.isOpen||!1}),Q(te(n),"modalContent",i.a.createRef()),Q(te(n),"componentDidMount",(function(){document.body.classList.add("modal-open")})),Q(te(n),"componentWillUnmount",(function(){document.body.classList.remove("modal-open")})),Q(te(n),"componentDidUpdate",(function(e,t){t.isOpen!==n.props.isOpen&&n.setState({isOpen:n.props.isOpen})})),Q(te(n),"handleOnEntered",(function(e,t){"backdrop"===e&&!1===n.props.fade||(t.classList.add("show"),n.props.autoFocus&&t.focus(),"modal"===e&&n.props.showModal&&n.props.showModal())})),Q(te(n),"handleOnExit",(function(e,t){"backdrop"===e&&!1===n.props.fade||(t.classList.remove("show"),"modal"===e&&n.props.hideModal&&n.props.hideModal())})),Q(te(n),"handleOnExited",(function(e){n.props.hiddenModal&&n.props.hiddenModal()})),Q(te(n),"handleBackdropClick",(function(e){!n.props.backdrop||e.target.closest('[role="dialog"]')&&!e.target.classList.contains("modal")||n.modalContent.contains(e.target)||n.props.toggle()})),Q(te(n),"handleEscape",(function(e){n.props.keyboard&&27===e.keyCode&&(e.preventDefault(),n.props.toggle())})),n}return X(t,e),G(t,[{key:"render",value:function(){var e,t=this,n=this.props,o=n.children,s=n.backdrop,u=n.backdropClassName,c=n.contentClassName,l=n.className,f=n.size,h=n.side,d=n.fullHeight,p=n.frame,v=n.centered,m=n.position,g=n.cascading,b=n.modalStyle,w=n.wrapClassName,_=n.animation,E=n.fade,S=n.tabIndex,T=n.role,C=n.id,I=n.inline,k=E?300:0,A=a()((Q(e={"cascading-modal":g,"modal-side":h,"modal-full-height":d,"modal-frame":p,"modal-dialog-centered":v},"modal-".concat(f),f),Q(e,"modal-".concat(m),m),Q(e,"modal-notify white-text modal-".concat(b),b),e),"modal-dialog",l),O=a()(Q({modal:!I,fade:E,top:E&&!_&&!m},"".concat(_),E&&_),E&&m&&m.split("-")[1],w),N=a()("modal-backdrop",E?"fade":"show",u),x=a()("modal-content",c),R=pe({style:{display:"block"},id:C,tabIndex:S,role:T,"aria-hidden":"true"});return i.a.createElement(r.Fragment,null,s&&i.a.createElement(y,{timeout:k,in:this.state.isOpen,appear:this.state.isOpen,mountOnEnter:!0,unmountOnExit:!0,onEntered:function(e){return t.handleOnEntered("backdrop",e)},onExit:function(e){return t.handleOnExit("backdrop",e)},onExited:this.handleOnExited},i.a.createElement("div",{className:N})),i.a.createElement(y,{timeout:k,in:this.state.isOpen,appear:this.state.isOpen,mountOnEnter:!0,unmountOnExit:!0,onMouseDown:this.handleBackdropClick,onEntered:function(e){return t.handleOnEntered("modal",e)},onExit:function(e){return t.handleOnExit("modal",e)}},i.a.createElement("div",Y({"data-test":"modal",onKeyUp:this.handleEscape,className:O},R),i.a.createElement("div",{className:A,role:"document"},i.a.createElement("div",{ref:function(e){return t.modalContent=e},className:x},o)))))}}]),t}(r.Component);Ct.defaultProps={autoFocus:!0,backdrop:!0,backdropTransitionTimeout:150,fade:!0,isOpen:!1,keyboard:!0,modalTransitionTimeout:300,role:"dialog",tabIndex:"-1",zIndex:1050},Ct.propTypes={animation:ue.string,backdrop:ue.bool,backdropClassName:ue.string,cascading:ue.bool,centered:ue.bool,children:ue.node,className:ue.string,contentClassName:ue.string,fade:ue.bool,frame:ue.bool,fullHeight:ue.bool,hiddenModal:ue.func,hideModal:ue.func,id:ue.string,keyboard:ue.bool,modalClassName:ue.string,modalStyle:ue.string,position:ue.string,role:ue.string,size:ue.string,side:ue.bool,showModal:ue.func,tabIndex:ue.string,wrapClassName:ue.string};ue.string,ue.node;var It=function(e){var t=e.className,n=e.children,r=e.center,o=e.start,s=e.end,u=e.around,c=e.between,l=ee(e,["className","children","center","start","end","around","between"]),f=a()("modal-footer",t,{"justify-content-start":o,"justify-content-end":s,"justify-content-center":r,"justify-content-between":c,"justify-content-around":u});return i.a.createElement("div",Y({"data-test":"modal-footer"},l,{className:f}),n)};It.propTypes={className:ue.string,children:ue.node};var kt=function(e){var t,n=e.className,r=e.children,o=e.toggle,s=e.tag,u=e.closeAriaLabel,c=e.titleClass,l=ee(e,["className","children","toggle","tag","closeAriaLabel","titleClass"]),f=a()("modal-header",n),h=a()("modal-title",c);return o&&(t=i.a.createElement("button",{type:"button",onClick:o,className:"close","aria-label":u},i.a.createElement("span",{"aria-hidden":"true"},String.fromCharCode(215)))),i.a.createElement("div",Y({"data-test":"modal-header"},l,{className:f}),i.a.createElement(s,{className:h},r),t)};kt.propTypes={tag:ue.oneOfType([ue.func,ue.string]),toggle:ue.func,className:ue.string,children:ue.node,closeAriaLabel:ue.string},kt.defaultProps={tag:"h4",closeAriaLabel:"Close"};var At=function(e){var t=e.children,n=e.className,r=e.tag,o=e.tabs,s=e.color,u=e.classicTabs,c=e.pills,l=e.header,f=ee(e,["children","className","tag","tabs","color","classicTabs","pills","header"]),h=a()("nav",o&&"md-tabs",c&&"md-pills",l&&"nav-pills card-header-pills",!(!s||o||u||c)&&s,!(!c||!s)&&"pills-"+s,!(!o&&!u||!s)&&"tabs-"+s,n);return i.a.createElement(r,Y({"data-test":"nav"},f,{className:h}),t)};At.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node,color:ue.string,classicTabs:ue.bool,pills:ue.bool,tabs:ue.bool,header:ue.bool},At.defaultProps={tag:"ul",classicTabs:!1,pills:!1,tabs:!1,header:!1};var Ot=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"state",{isCollapsed:!1}),Q(te(n),"handleScroll",(function(){var e=n.props.scrollingNavbarOffset||50;window.pageYOffset>e?n.setState({isCollapsed:!0}):n.setState({isCollapsed:!1})})),n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){(this.props.scrolling||this.props.scrollingNavbarOffset)&&window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){(this.props.scrolling||this.props.scrollingNavbarOffset)&&window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e,t=this.props,n=t.expand,r=t.light,o=t.dark,s=t.sticky,u=t.fixed,c=t.scrolling,l=t.color,f=t.className,h=t.scrollingNavbarOffset,d=t.tag,p=t.double,v=t.transparent,m=ee(t,["expand","light","dark","sticky","fixed","scrolling","color","className","scrollingNavbarOffset","tag","double","transparent"]),g=a()((Q(e={"navbar-light":r,"navbar-dark":o},"sticky-".concat(s),s),Q(e,"fixed-".concat(u),u),Q(e,"scrolling-navbar",c||h),Q(e,"double-nav",p),Q(e,"top-nav-collapse",this.state.isCollapsed),Q(e,"".concat(l),l&&v?this.state.isCollapsed:l),e),"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-".concat(e))}(n),f);return i.a.createElement(d,Y({"data-test":"navbar"},m,{className:g,role:"navigation"}))}}]),t}(r.Component);Ot.propTypes={light:ue.bool,dark:ue.bool,double:ue.bool,fixed:ue.string,sticky:ue.string,scrolling:ue.bool,scrollingNavbarOffset:ue.number,color:ue.string,tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,expand:ue.oneOfType([ue.bool,ue.string]),transparent:ue.bool},Ot.defaultProps={tag:"nav",expand:!1,scrolling:!1};var Nt=function(e){var t=e.className,n=e.href,r=ee(e,["className","href"]),o=a()("navbar-brand",t);return n?i.a.createElement(W.c,Y({"data-test":"navbar-brand",to:n},r,{className:o})):i.a.createElement("div",Y({"data-test":"navbar-brand"},r,{className:o}))};Nt.propTypes={className:ue.string,href:ue.string};var xt=function(e){var t=e.children,n=e.className,r=e.right,o=e.left,s=e.tag,u=ee(e,["children","className","right","left","tag"]),c=a()("navbar-nav",r?"ml-auto":o?"mr-auto":"justify-content-around w-100",n);return i.a.createElement(s,Y({"data-test":"navbar-nav"},u,{className:c}),t)};xt.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node,right:ue.bool,left:ue.bool},xt.defaultProps={tag:"ul"};var Rt=function(e){var t=e.right,n=e.left,r=e.children,o=e.className,s=e.tag,u=e.image,c=ee(e,["right","left","children","className","tag","image"]),l=a()({"navbar-toggler-right":t,"navbar-toggler-left":n},"navbar-toggler",o);return i.a.createElement(s,Y({"data-test":"navbar-toggler"},c,{className:l}),r||(u?i.a.createElement("span",{className:"navbar-toggler-icon",style:{backgroundImage:'url("'.concat(u,'")')}}):i.a.createElement("span",{className:"navbar-toggler-icon"})))};Rt.propTypes={tag:ue.oneOfType([ue.func,ue.string]),type:ue.string,className:ue.string,children:ue.node,right:ue.bool,left:ue.bool,image:ue.string},Rt.defaultProps={tag:"button",type:"button"};var Pt=function(e){var t=e.children,n=e.className,r=e.active,o=e.text,s=e.tag,u=ee(e,["children","className","active","text","tag"]),c=a()("nav-item",r&&"active",o&&"navbar-text",n);return i.a.createElement(s,Y({"data-test":"nav-item"},u,{className:c}),t)};Pt.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,children:ue.node,active:ue.bool},Pt.defaultProps={tag:"li"};var Dt=function(e){var t=re(Object(r.useState)({}),2),n=t[0],o=t[1],s=function(t){if(!e.disabled){t.stopPropagation();var n={top:t.clientY,left:t.clientX,time:Date.now()};o(n)}},u=e.children,c=e.className,l=e.disabled,f=e.active,h=e.to,d=ee(e,["children","className","disabled","active","to"]),p=a()("nav-link",l?"disabled":"Ripple-parent",f&&"active",c);return i.a.createElement(W.c,Y({"data-test":"nav-link",className:p,onMouseUp:s,onTouchStart:s,to:h},d),u,!e.disabled&&i.a.createElement(ye,{cursorPos:n}))};Dt.propTypes={children:ue.node,className:ue.string,disabled:ue.bool,to:ue.string,active:ue.bool},Dt.defaultProps={active:!1,className:"",disabled:!1};var Mt=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"state",{componentState:n.props.show?"show":"hide"}),Q(te(n),"hide",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"===z(e)&&(e=0),setTimeout((function(){n.setState({componentState:""},(function(){setTimeout((function(){n.setState({componentState:"hide"})}),150)}))}),e)})),n}return X(t,e),G(t,[{key:"componentDidMount",value:function(){this.props.autohide>0&&this.hide(this.props.autohide)}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.className,r=(e.show,e.fade),o=e.message,s=e.bodyClassName,u=e.icon,c=e.iconClassName,l=e.title,f=e.titleClassName,h=e.text,d=e.closeClassName,p=ee(e,["tag","className","show","fade","message","bodyClassName","icon","iconClassName","title","titleClassName","text","closeClassName"]),v=a()("toast",r&&"fade",this.state.componentState,n),m=a()("toast-header",f),g=a()("mr-2",c),y=a()("toast-body",s),b=a()("ml-2","mb-1",d);return i.a.createElement(t,Y({"data-test":"notification"},p,{className:v}),i.a.createElement("div",{className:m},i.a.createElement(ve,{icon:u,className:g,size:"lg"}),i.a.createElement("strong",{className:"mr-auto"},l),i.a.createElement("small",null,h),i.a.createElement(Ue,{className:b,onClick:this.hide})),i.a.createElement("div",{className:y},o))}}]),t}(i.a.Component);Mt.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,show:ue.bool,fade:ue.bool,autohide:ue.number,iconClassName:ue.string,title:ue.string,text:ue.string,titleColor:ue.string,titleClassName:ue.string,closeClassName:ue.string,bodyClassName:ue.string,bodyColor:ue.string,message:ue.string},Mt.defaultProps={icon:"square",tag:"div",closeClassName:"text-dark"};var jt=function(e){var t=e.children,n=e.clickable,o=e.domElement,s=e.modifiers,u=e.id,c=e.isVisible,l=e.onChange,f=e.placement,h=e.popover,d=e.style,p=e.tag,v=re(Object(r.useState)(c),2),m=v[0],g=v[1];function y(e){document.elementsFromPoint(e.clientX,e.clientY).find((function(e){return e.dataset.popper===u}))||g(!1)}Object(r.useEffect)((function(){g(c)}),[c]),Object(r.useEffect)((function(){l&&l(m)}),[l,m]),Object(r.useEffect)((function(){return window.addEventListener("click",y),function(){return window.removeEventListener("click",y)}}));var b=t[0],w=t[1],_=p,E=a()("fade",h?"popover bs-popover-".concat(f," popover-enter-done"):"tooltip bs-tooltip-".concat(f),m?"show":""),S=a()(!h&&"tooltip-inner");return i.a.createElement(R,{"data-test":"popper"},i.a.createElement(q,null,(function(e){var t=e.ref;return o?i.a.createElement(b.type,Y({},b.props,{onMouseEnter:function(){return!n&&g(!0)},onMouseLeave:function(){return!n&&g(!1)},onTouchStart:function(){return!n&&g(!0)},onTouchEnd:function(){return!n&&g(!1)},onMouseDown:function(){return n&&g(!m)},ref:t,"data-popper":u})):i.a.createElement(b.type,Y({},b.props,{onMouseEnter:function(){return!n&&g(!0)},onMouseLeave:function(){return!n&&g(!1)},onTouchStart:function(){return!n&&g(!0)},onTouchEnd:function(){return!n&&g(!1)},onMouseDown:function(){return n&&g(!m)},innerRef:t,"data-popper":u}))})),m&&w.props.children&&i.a.createElement(_,{style:d},i.a.createElement(F,{modifiers:s,eventsEnabled:!0,positionFixed:!1,placement:f},(function(e){var t=e.placement,n=e.ref,r=e.style,o=e.arrowProps;return i.a.createElement(_,{ref:n,style:r,"data-placement":t,className:E,"data-popper":u},i.a.createElement(w.type,Y({},w.props,{className:S}),w.props.children),i.a.createElement("span",{ref:o.ref,style:o.style,"data-placement":t,className:"arrow"}))}))))};jt.propTypes={children:ue.node,clickable:ue.bool,domElement:ue.bool,modifiers:ue.object,id:ue.string,isVisible:ue.bool,placement:ue.string,popover:ue.bool,style:ue.objectOf(ue.string),tag:ue.string},jt.defaultProps={clickable:!1,domElement:!1,id:"popper",isVisible:!1,placement:"top",popover:!1,style:{display:"inline-block"},tag:"div"};var Lt=function(e){var t=e.attributes,n=e.children,r=e.className,o=e.tag,s=a()("popover-body",r);return i.a.createElement(o,Y({"data-test":"popover-body"},t,{className:s}),n)};Lt.propTypes={children:ue.node,className:ue.string,tag:ue.oneOfType([ue.func,ue.string])},Lt.defaultProps={tag:"div"};var Ft=function(e){var t=e.attributes,n=e.children,r=e.className,o=e.tag,s=a()("popover-header",r);return i.a.createElement(o,Y({"data-test":"popover-header"},t,{className:s}),n)};Ft.propTypes={children:ue.node,className:ue.string,tag:ue.oneOfType([ue.func,ue.string])},Ft.defaultProps={className:"",tag:"h3"};var Ut=function(e){var t=e.animated,n=e.barClassName,r=e.children,o=e.className,s=e.color,u=e.height,c=e.material,l=e.max,f=e.min,h=e.preloader,d=e.striped,p=e.wrapperStyle,v=e.value,m=ee(e,["animated","barClassName","children","className","color","height","material","max","min","preloader","striped","wrapperStyle","value"]),g=(v-f)/(l-f)*100,y=a()("progress",c&&"md-progress",h&&(s?s+"-color":"primary-color")+"-dark",o),b=a()(h?"indeterminate":"progress-bar",n||null,t?"progress-bar-animated":null,s?"bg-".concat(s):null,d||t?"progress-bar-striped":null),w=u||r&&"1rem",_=$({},p,{height:w});return i.a.createElement("div",Y({"data-test":"progress"},m,{className:y,style:_}),i.a.createElement("div",{className:b,style:{width:"".concat(g,"%"),height:w},role:"progressbar","aria-valuenow":v,"aria-valuemin":f,"aria-valuemax":l},r))};Ut.propTypes={animated:ue.bool,barClassName:ue.string,children:ue.node,className:ue.string,color:ue.string,height:ue.string,material:ue.bool,max:ue.number,min:ue.number,preloader:ue.bool,striped:ue.bool,wrapperStyle:ue.object,value:ue.number},Ut.defaultProps={animated:!1,barClassName:"",className:"",color:"indigo",height:"",material:!1,max:100,min:0,preloader:!1,striped:!1,wrapperStyle:{},value:0};var Bt=function(e){var t=e.className,n=e.tag,r=e.center,o=e.start,s=e.end,u=e.around,c=e.between,l=e.top,f=e.bottom,h=e.middle,d=ee(e,["className","tag","center","start","end","around","between","top","bottom","middle"]),p=a()("row",s&&"justify-content-end",o&&"justify-content-start",r&&"justify-content-center",c&&"justify-content-between",u&&"justify-content-around",l&&"align-self-start",h&&"align-self-center",f&&"align-self-end",t);return i.a.createElement(n,Y({"data-test":"row"},d,{className:p}))};Bt.propTypes={tag:ue.oneOfType([ue.func,ue.string]),className:ue.string,top:ue.bool,bottom:ue.bool,middle:ue.bool,end:ue.bool,start:ue.bool,center:ue.bool,between:ue.bool,around:ue.bool},Bt.defaultProps={tag:"div"};var Vt={activeItem:ue.any,tabId:ue.any,className:ue.string},qt=function(e){function t(){var e,n;K(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Q(te(n=ne(this,(e=J(t)).call.apply(e,[this].concat(i)))),"state",{activeItem:n.props.activeItem}),n}return X(t,e),G(t,[{key:"getChildContext",value:function(){return{activeItemId:this.state.activeItem}}},{key:"render",value:function(){var e=this.props.className,t=he(this.props,Object.keys(Vt)),n=a()("tab-content",e);return i.a.createElement("div",Y({"data-test":"tabContent"},t,{className:n}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeItem!==e.activeItem?{activeItem:e.activeItem}:null}}]),t}(i.a.Component);qt.childContextTypes={activeItemId:ue.any},qt.propTypes=Vt;var Wt=function(e){function t(){return K(this,t),ne(this,J(t).apply(this,arguments))}return X(t,e),G(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tabId,r=ee(e,["className","tabId"]),o=a()("tab-pane",{active:n===this.context.activeItemId},t);return i.a.createElement("div",Y({"data-test":"tab-pane"},r,{className:o,role:"tabpanel"}))}}]),t}(i.a.Component);Wt.contextTypes={activeItemId:ue.any},Wt.propTypes={tabId:ue.any,className:ue.string};var zt=function(e){var t,n=e.children,r=e.color,o=e.columns,s=e.textWhite,u=ee(e,["children","color","columns","textWhite"]),c="dark"===r||"light"===r,l=a()((Q(t={"text-white":s},"thead-".concat(r),r&&c),Q(t,"".concat(r),r&&!c),t));return i.a.createElement("thead",Y({"data-test":"table-head"},u,{className:l}),o&&i.a.createElement("tr",null,o.map((function(e){return i.a.createElement("th",{key:e.field,className:e.hasOwnProperty("minimal")?"th-".concat(e.minimal):""},e.label)}))),n)};zt.propTypes={children:ue.node,color:ue.string,columns:ue.arrayOf(ue.object),textWhite:ue.bool},zt.defaultProps={textWhite:!1};var Kt=i.a.createContext(),Ht=function(e){var t=re(Object(r.useState)(null),2),n=t[0],o=t[1];Object(r.useEffect)((function(){e.getValue&&e.getValue({item:n?n.closest("li"):n,value:n?n.closest("li").childNodes[1].textContent:n})}),[n,e]);var s=e.theme,u=e.children,c=e.className,l=(e.getValue,e.header),f=e.listClassName,h=e.tag,d=ee(e,["theme","children","className","getValue","header","listClassName","tag"]),p=a()("border",s?"treeview-".concat(s):"treeview",c),v=a()("list-unstyled",l?"pb-2 mb-1":"py-2 my-1",s&&"treeview-".concat(s,"-list"),"animated"===s||!s&&"pl-3",f),m=l&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h6",{className:"pt-3 pl-3"},l),i.a.createElement("hr",null));return i.a.createElement(h,Y({"data-test":"treeview"},d,{className:p}),m,i.a.createElement("ul",{className:v},i.a.createElement(Kt.Provider,{value:{active:n,theme:s,getActive:function(e){return o(e),e}}},u)))};Ht.propTypes={className:ue.string,header:ue.string,listClassName:ue.string,tag:ue.string,theme:ue.string,getValue:ue.func},Ht.defaultProps={tag:"div",theme:"",getValue:function(){}};var Gt=function(e){var t=re(Object(r.useState)(""),2),n=t[0],o=t[1],s=Object(r.useRef)(null),u=e.className,c=e.disabled,l=e.disabledClassName,f=e.fab,h=e.fal,d=e.far,p=e.icon,v=(e.opened,e.tag),m=e.title,g=ee(e,["className","disabled","disabledClassName","fab","fal","far","icon","opened","tag","title"]),y=Object(r.useContext)(Kt),b=y.theme,w=y.active,_=y.getActive;Object(r.useEffect)((function(){s&&s.current&&o(s.current)}),[]);var E=a()(c&&l,b&&"treeview-".concat(b,"-items treeview-").concat(b,"-element closed mb-1"),w!==n||w.classList.contains("opened")?"":"opened",u);return i.a.createElement(v,Y({"data-test":"treeview-item"},g,{className:E,ref:s,onMouseDown:function(){c||(n.classList.contains("opened")?_(null):_(n))},style:{transform:"translateY(0.3em)"}}),i.a.createElement(ve,{className:"mr-2",fab:f,fal:h,far:d,icon:p}),i.a.createElement("span",null,m))};Gt.propTypes={className:ue.string,disabled:ue.bool,disabledClassName:ue.string,fab:ue.bool,fal:ue.bool,far:ue.bool,icon:ue.string,opened:ue.bool,tag:ue.oneOfType([ue.func,ue.string])},Gt.defaultProps={disabled:!1,fab:!1,fal:!1,far:!1,icon:"folder-open",opened:!1,tag:"li"};var Qt=function(e){var t=re(Object(r.useState)(!1),2),n=t[0],o=t[1];Object(r.useEffect)((function(){o(e.opened)}),[e.opened]);var s=function(){return o(!n)},u=e.children,c=e.className,l=e.disabled,f=e.disabledClassName,h=e.fab,d=e.fal,p=e.far,v=e.icon,m=(e.opened,e.tag),g=e.title,y=ee(e,["children","className","disabled","disabledClassName","fab","fal","far","icon","opened","tag","title"]),b=Object(r.useContext)(Kt).theme,w=a()("nested",n&&"active"),_=a()(b&&"closed treeview-".concat(b,"-element d-block"),!u&&"ml-2",n&&"opened",l&&f),E=a()(b&&"treeview-".concat(b,"-items px-0"),c),S=a()(b?"mx-2":"mr-2"),T=u&&i.a.createElement("ul",{className:w,style:{height:"calc(100% + 0.6rem)",marginLeft:"2px"}},u),C=b&&i.a.createElement(He,{isOpen:n},T),I="colorful"!==b?"angle-right":n?"minus-circle":"plus-circle",k=u&&i.a.createElement(ve,{icon:I,rotate:"colorful"!==b?n?"90 down":"0":"",className:"rotate"}),A=u&&i.a.createElement(be,{flat:!0,className:"m-0 py-0 px-1 mr-1 z-depth-0",onClick:s},k);return i.a.createElement(m,Y({"data-test":"treeview-list"},y,{className:E}),i.a.createElement("span",{className:_,onClick:!l&&b?s:null},b?k:A,i.a.createElement("span",null,i.a.createElement(ve,{className:S,fab:h,fal:d,far:p,icon:v}),g)),C||T)};Qt.propTypes={className:ue.string,disabled:ue.bool,disabledClassName:ue.string,fab:ue.bool,fal:ue.bool,far:ue.bool,icon:ue.string,opened:ue.bool,tag:ue.string},Qt.defaultProps={disabled:!1,fab:!1,fal:!1,far:!1,icon:"folder-open",opened:!1,tag:"li"},Qt.contextTypes={theme:ue.string}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=n(16),a=n(33),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",l=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.tokenListeners_.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){r.tokenListeners_=r.tokenListeners_.filter((function(t){return t!==e}))},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=c),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){if(o.deepExtend(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,n=this.tokenListeners_;t<n.length;t++){var r=n[t];this.INTERNAL.addAuthTokenListener(r)}this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var i=0,a=this.analyticsEventRequests_;i<a.length;i++){var s=a[i];this.INTERNAL.analytics.logEvent.apply(void 0,s)}this.analyticsEventRequests_=[]}}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var f="7.2.0",h=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!==typeof r||null===r){r={name:r}}var a=r;void 0===a.name&&(a.name=c);var s=a.name;if("string"!==typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(t,s))throw u.create("duplicate-app",{appName:s});var f=new e(n,a,i);return t[s]=f,l(f,"create"),f},app:a,apps:null,SDK_VERSION:f,INTERNAL:{registerService:function(t,c,l,f,d){void 0===d&&(d=!1);if(n[t])return h.debug("There were multiple attempts to register service "+t+"."),i[t];n[t]=c,f&&(r[t]=f,s().forEach((function(e){f("create",e)})));function p(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==l&&o.deepExtend(p,l);return i[t]=p,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,d?e:[])},p},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:d}};function a(e){if(e=e||c,!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map((function(e){return t[e]}))}function l(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=d(e,o[i]);if(null===a)return;r[a]&&r[a](t,e)}}function d(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=e,i}(l);return t.INTERNAL=i.__assign(i.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),v=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,e)};var m=p;t.default=m,t.firebase=m},function(e,t,n){"use strict";var r,i=(r=n(4))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=i},function(e,t,n){e.exports=n(100)()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var o=n(36);function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(o.a)(e):t}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var d="FirebaseError",p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=d,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(t,e),t}(Error),v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();function m(e,t){return e.replace(g,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var _=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}function S(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=f,t.ErrorFactory=v,t.FirebaseError=p,t.Sha1=w,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new _(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=S,t.getUA=h,t.isAdmin=function(e){var t=b(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(S(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(S(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(S(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(7))},function(e,t,n){"use strict";n.r(t);var r=n(15);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(21);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function v(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=p(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"createBrowserHistory",(function(){return T})),n.d(t,"createHashHistory",(function(){return N})),n.d(t,"createMemoryHistory",(function(){return R})),n.d(t,"createLocation",(function(){return m})),n.d(t,"locationsAreEqual",(function(){return g})),n.d(t,"parsePath",(function(){return p})),n.d(t,"createPath",(function(){return v}));var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),b||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?w:u,p=o.keyLength,g=void 0===p?6:p,T=e.basename?d(l(e.basename)):"";function C(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=h(o,T)),m(o,r,n)}function I(){return Math.random().toString(36).substr(2,g)}var k=y();function A(e){Object(r.a)(B,e),B.length=t.length,k.notifyListeners(B.location,B.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(C(e.state))}function N(){R(C(S()))}var x=!1;function R(e){if(x)x=!1,A();else{k.confirmTransitionTo(e,"POP",f,(function(t){t?A({action:"POP",location:e}):function(e){var t=B.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,j(i))}(e)}))}}var P=C(S()),D=[P.key];function M(e){return T+v(e)}function j(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?(window.addEventListener(_,O),i&&window.addEventListener(E,N)):0===L&&(window.removeEventListener(_,O),i&&window.removeEventListener(E,N))}var U=!1;var B={length:t.length,action:"POP",location:P,createHref:M,push:function(e,r){var i=m(e,r,I(),B.location);k.confirmTransitionTo(i,"PUSH",f,(function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=D.indexOf(B.location.key),c=D.slice(0,u+1);c.push(i.key),D=c,A({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=m(e,r,I(),B.location);k.confirmTransitionTo(i,"REPLACE",f,(function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=D.indexOf(B.location.key);-1!==u&&(D[u]=i.key),A({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=k.appendListener(e);return F(1),function(){F(-1),t()}}};return B}var C="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(k(window.location.href)+"#"+e)}function N(e){void 0===e&&(e={}),b||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?w:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",f=I[s],p=f.encodePath,g=f.decodePath;function _(){var e=g(A());return u&&(e=h(e,u)),m(e)}var E=y();function S(e){Object(r.a)(B,e),B.length=t.length,E.notifyListeners(B.location,B.action)}var T=!1,N=null;function x(){var e,t,n=A(),r=p(n);if(n!==r)O(r);else{var i=_(),a=B.location;if(!T&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(N===v(i))return;N=null,function(e){if(T)T=!1,S();else{E.confirmTransitionTo(e,"POP",o,(function(t){t?S({action:"POP",location:e}):function(e){var t=B.location,n=M.lastIndexOf(v(t));-1===n&&(n=0);var r=M.lastIndexOf(v(e));-1===r&&(r=0);var i=n-r;i&&(T=!0,j(i))}(e)}))}}(i)}}var R=A(),P=p(R);R!==P&&O(P);var D=_(),M=[v(D)];function j(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?window.addEventListener(C,x):0===L&&window.removeEventListener(C,x)}var U=!1;var B={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+p(u+v(e))},push:function(e,t){var n=m(e,void 0,void 0,B.location);E.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=v(n),r=p(u+t);if(A()!==r){N=t,function(e){window.location.hash=e}(r);var i=M.lastIndexOf(v(B.location)),o=M.slice(0,i+1);o.push(t),M=o,S({action:"PUSH",location:n})}else S()}}))},replace:function(e,t){var n=m(e,void 0,void 0,B.location);E.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=v(n),r=p(u+t);A()!==r&&(N=t,O(r));var i=M.indexOf(v(B.location));-1!==i&&(M[i]=t),S({action:"REPLACE",location:n})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=E.appendListener(e);return F(1),function(){F(-1),t()}}};return B}function x(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=x(s,0,o.length-1),p=o.map((function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())})),g=v;function b(e){var t=x(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:g,push:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";(function(t){var r=n(19),i=Array.isArray,o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},a="object"==typeof o&&o&&o.Object===Object&&o,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")(),c=u.Symbol,l=Object.prototype,f=l.hasOwnProperty,h=l.toString,d=c?c.toStringTag:void 0;var p=function(e){var t=f.call(e,d),n=e[d];try{e[d]=void 0;var r=!0}catch(o){}var i=h.call(e);return r&&(t?e[d]=n:delete e[d]),i},v=Object.prototype.toString;var m=function(e){return v.call(e)},g="[object Null]",y="[object Undefined]",b=c?c.toStringTag:void 0;var w=function(e){return null==e?void 0===e?y:g:b&&b in Object(e)?p(e):m(e)};var _=function(e){return null!=e&&"object"==typeof e},E="[object Symbol]";var S=function(e){return"symbol"==typeof e||_(e)&&w(e)==E},T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C=/^\w*$/;var I=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!S(e))||(C.test(e)||!T.test(e)||null!=t&&e in Object(t))};var k=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},A="[object AsyncFunction]",O="[object Function]",N="[object GeneratorFunction]",x="[object Proxy]";var R=function(e){if(!k(e))return!1;var t=w(e);return t==O||t==N||t==A||t==x},P=u["__core-js_shared__"],D=function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var M=function(e){return!!D&&D in e},j=Function.prototype.toString;var L=function(e){if(null!=e){try{return j.call(e)}catch(t){}try{return e+""}catch(t){}}return""},F=/^\[object .+?Constructor\]$/,U=Function.prototype,B=Object.prototype,V=U.toString,q=B.hasOwnProperty,W=RegExp("^"+V.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var z=function(e){return!(!k(e)||M(e))&&(R(e)?W:F).test(L(e))};var K=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=K(e,t);return z(n)?n:void 0},G=H(Object,"create");var Q=function(){this.__data__=G?G(null):{},this.size=0};var Y=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$="__lodash_hash_undefined__",X=Object.prototype.hasOwnProperty;var J=function(e){var t=this.__data__;if(G){var n=t[e];return n===$?void 0:n}return X.call(t,e)?t[e]:void 0},Z=Object.prototype.hasOwnProperty;var ee=function(e){var t=this.__data__;return G?void 0!==t[e]:Z.call(t,e)},te="__lodash_hash_undefined__";var ne=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G&&void 0===t?te:t,this};function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}re.prototype.clear=Q,re.prototype.delete=Y,re.prototype.get=J,re.prototype.has=ee,re.prototype.set=ne;var ie=re;var oe=function(){this.__data__=[],this.size=0};var ae=function(e,t){return e===t||e!==e&&t!==t};var se=function(e,t){for(var n=e.length;n--;)if(ae(e[n][0],t))return n;return-1},ue=Array.prototype.splice;var ce=function(e){var t=this.__data__,n=se(t,e);return!(n<0)&&(n==t.length-1?t.pop():ue.call(t,n,1),--this.size,!0)};var le=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]};var fe=function(e){return se(this.__data__,e)>-1};var he=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function de(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}de.prototype.clear=oe,de.prototype.delete=ce,de.prototype.get=le,de.prototype.has=fe,de.prototype.set=he;var pe=de,ve=H(u,"Map");var me=function(){this.size=0,this.__data__={hash:new ie,map:new(ve||pe),string:new ie}};var ge=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ye=function(e,t){var n=e.__data__;return ge(t)?n["string"==typeof t?"string":"hash"]:n.map};var be=function(e){var t=ye(this,e).delete(e);return this.size-=t?1:0,t};var we=function(e){return ye(this,e).get(e)};var _e=function(e){return ye(this,e).has(e)};var Ee=function(e,t){var n=ye(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=me,Se.prototype.delete=be,Se.prototype.get=we,Se.prototype.has=_e,Se.prototype.set=Ee;var Te=Se,Ce="Expected a function";function Ie(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Ce);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ie.Cache||Te),n}Ie.Cache=Te;var ke=Ie,Ae=500;var Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/\\(\\)?/g,xe=function(e){var t=ke(e,(function(e){return n.size===Ae&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Oe,(function(e,n,r,i){t.push(r?i.replace(Ne,"$1"):n||e)})),t}));var Re=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Pe=1/0,De=c?c.prototype:void 0,Me=De?De.toString:void 0;var je=function e(t){if("string"==typeof t)return t;if(i(t))return Re(t,e)+"";if(S(t))return Me?Me.call(t):"";var n=t+"";return"0"==n&&1/t==-Pe?"-0":n};var Le=function(e){return null==e?"":je(e)};var Fe=function(e,t){return i(e)?e:I(e,t)?[e]:xe(Le(e))},Ue=1/0;var Be=function(e){if("string"==typeof e||S(e))return e;var t=e+"";return"0"==t&&1/e==-Ue?"-0":t};var Ve=function(e,t){for(var n=0,r=(t=Fe(t,e)).length;null!=e&&n<r;)e=e[Be(t[n++])];return n&&n==r?e:void 0};var qe=function(e,t,n){var r=null==e?void 0:Ve(e,t);return void 0===r?n:r},We=function(e,t){return t.modules[e]?t.modules[e]:t.proxySupported?new Proxy({},{get:function(t,n){return function(){return r.logError('Oh no! Looks like you have not imported the "'+e+'" module.')}}}):null},ze=function(e){if(!e.firebaseApp)throw new Error('[FLAMELINK]: Please provide a "firebaseApp" Firebase app instance when initializing your Flamelink app')},Ke=function(e){return!!qe(e,"options.credential")&&!qe(e,"options.apiKey")},He=function(){var e=!1;try{e="[object process]"===Object.prototype.toString.call(t.process)}catch(n){}return e},Ge=["content","schemas","storage","nav","settings","users"],Qe="production",Ye="en-US",$e="rtdb",Xe=function(){var e=[],t=function(t){e.forEach((function(e){var n=e.moduleName,i=(0,e.setupModule)(t);if(i)return t.modules[n]?r.logWarning('Duplicate import for the "'+n+'" module'):void Object.defineProperty(t.modules,n,{value:i,writable:!1})}))};function n(e){var n={firebaseApp:e.firebaseApp,env:e.env||Qe,locale:e.locale||Ye,dbType:e.dbType||$e,modules:{},services:{},cache:{},emitter:new r.EventEmitter,precache:"undefined"===typeof e.precache||e.precache,proxySupported:"undefined"!==typeof Proxy,usesAdminApp:Ke(e.firebaseApp),isNodeEnvironment:He()};return ze(n),t(n),Ge.reduce((function(e,t){var r;return Object.assign(e,(r={},Object.defineProperty(r,t,{get:function(){return We(t,n)},enumerable:!0,configurable:!0}),r))}),{})}return n._registerModule=function(t,n){e.push({moduleName:t,setupModule:n})},n._ensureService=function(e,t){if(t.services[e])return t.services[e];try{t.services[e]=t.firebaseApp[e]()}catch(n){throw r.logError('The "'+e+'" Firebase service could not be instantiated. Please ensure you have imported the package for this service.'),n}return t.services[e]},n}();e.exports=Xe}).call(this,n(7))},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i=n(31))&&"object"===typeof i&&"default"in i?i.default:i,a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}var d=Array.isArray,p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function v(e,t){return e(t={exports:{}},t.exports),t.exports}var m="object"==typeof p&&p&&p.Object===Object&&p,g="object"==typeof self&&self&&self.Object===Object&&self,y=m||g||Function("return this")(),b=y.Symbol,w=Object.prototype,_=w.hasOwnProperty,E=w.toString,S=b?b.toStringTag:void 0;var T=function(e){var t=_.call(e,S),n=e[S];try{e[S]=void 0;var r=!0}catch(o){}var i=E.call(e);return r&&(t?e[S]=n:delete e[S]),i},C=Object.prototype.toString;var I=function(e){return C.call(e)},k="[object Null]",A="[object Undefined]",O=b?b.toStringTag:void 0;var N=function(e){return null==e?void 0===e?A:k:O&&O in Object(e)?T(e):I(e)};var x=function(e){return null!=e&&"object"==typeof e},R="[object Symbol]";var P=function(e){return"symbol"==typeof e||x(e)&&N(e)==R},D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;var j=function(e,t){if(d(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!P(e))||(M.test(e)||!D.test(e)||null!=t&&e in Object(t))};var L=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},F="[object AsyncFunction]",U="[object Function]",B="[object GeneratorFunction]",V="[object Proxy]";var q=function(e){if(!L(e))return!1;var t=N(e);return t==U||t==B||t==F||t==V},W=y["__core-js_shared__"],z=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var K=function(e){return!!z&&z in e},H=Function.prototype.toString;var G=function(e){if(null!=e){try{return H.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Q=/^\[object .+?Constructor\]$/,Y=Function.prototype,$=Object.prototype,X=Y.toString,J=$.hasOwnProperty,Z=RegExp("^"+X.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=function(e){return!(!L(e)||K(e))&&(q(e)?Z:Q).test(G(e))};var te=function(e,t){return null==e?void 0:e[t]};var ne=function(e,t){var n=te(e,t);return ee(n)?n:void 0},re=ne(Object,"create");var ie=function(){this.__data__=re?re(null):{},this.size=0};var oe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ae="__lodash_hash_undefined__",se=Object.prototype.hasOwnProperty;var ue=function(e){var t=this.__data__;if(re){var n=t[e];return n===ae?void 0:n}return se.call(t,e)?t[e]:void 0},ce=Object.prototype.hasOwnProperty;var le=function(e){var t=this.__data__;return re?void 0!==t[e]:ce.call(t,e)},fe="__lodash_hash_undefined__";var he=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=re&&void 0===t?fe:t,this};function de(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}de.prototype.clear=ie,de.prototype.delete=oe,de.prototype.get=ue,de.prototype.has=le,de.prototype.set=he;var pe=de;var ve=function(){this.__data__=[],this.size=0};var me=function(e,t){return e===t||e!==e&&t!==t};var ge=function(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1},ye=Array.prototype.splice;var be=function(e){var t=this.__data__,n=ge(t,e);return!(n<0)&&(n==t.length-1?t.pop():ye.call(t,n,1),--this.size,!0)};var we=function(e){var t=this.__data__,n=ge(t,e);return n<0?void 0:t[n][1]};var _e=function(e){return ge(this.__data__,e)>-1};var Ee=function(e,t){var n=this.__data__,r=ge(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=ve,Se.prototype.delete=be,Se.prototype.get=we,Se.prototype.has=_e,Se.prototype.set=Ee;var Te=Se,Ce=ne(y,"Map");var Ie=function(){this.size=0,this.__data__={hash:new pe,map:new(Ce||Te),string:new pe}};var ke=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ae=function(e,t){var n=e.__data__;return ke(t)?n["string"==typeof t?"string":"hash"]:n.map};var Oe=function(e){var t=Ae(this,e).delete(e);return this.size-=t?1:0,t};var Ne=function(e){return Ae(this,e).get(e)};var xe=function(e){return Ae(this,e).has(e)};var Re=function(e,t){var n=Ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pe.prototype.clear=Ie,Pe.prototype.delete=Oe,Pe.prototype.get=Ne,Pe.prototype.has=xe,Pe.prototype.set=Re;var De=Pe,Me="Expected a function";function je(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Me);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(je.Cache||De),n}je.Cache=De;var Le=je,Fe=500;var Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Be=/\\(\\)?/g,Ve=function(e){var t=Le(e,(function(e){return n.size===Fe&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ue,(function(e,n,r,i){t.push(r?i.replace(Be,"$1"):n||e)})),t}));var qe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},We=1/0,ze=b?b.prototype:void 0,Ke=ze?ze.toString:void 0;var He=function e(t){if("string"==typeof t)return t;if(d(t))return qe(t,e)+"";if(P(t))return Ke?Ke.call(t):"";var n=t+"";return"0"==n&&1/t==-We?"-0":n};var Ge=function(e){return null==e?"":He(e)};var Qe=function(e,t){return d(e)?e:j(e,t)?[e]:Ve(Ge(e))},Ye=1/0;var $e=function(e){if("string"==typeof e||P(e))return e;var t=e+"";return"0"==t&&1/e==-Ye?"-0":t};var Xe=function(e,t){for(var n=0,r=(t=Qe(t,e)).length;null!=e&&n<r;)e=e[$e(t[n++])];return n&&n==r?e:void 0};var Je=function(e,t,n){var r=null==e?void 0:Xe(e,t);return void 0===r?n:r},Ze=function(){try{var e=ne(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var et=function(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},tt=Object.prototype.hasOwnProperty;var nt=function(e,t,n){var r=e[t];tt.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||et(e,t,n)},rt=9007199254740991,it=/^(?:0|[1-9]\d*)$/;var ot=function(e,t){var n=typeof e;return!!(t=null==t?rt:t)&&("number"==n||"symbol"!=n&&it.test(e))&&e>-1&&e%1==0&&e<t};var at=function(e,t,n,r){if(!L(e))return e;for(var i=-1,o=(t=Qe(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=$e(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=L(l)?l:ot(t[i+1])?[]:{})}nt(s,u,c),s=s[u]}return e};var st=function(e,t,n){return null==e?e:at(e,t,n)};var ut=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},ct="[object Arguments]";var lt=function(e){return x(e)&&N(e)==ct},ft=Object.prototype,ht=ft.hasOwnProperty,dt=ft.propertyIsEnumerable,pt=lt(function(){return arguments}())?lt:function(e){return x(e)&&ht.call(e,"callee")&&!dt.call(e,"callee")};var vt=function(){return!1},mt=v((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?y.Buffer:void 0,o=(i?i.isBuffer:void 0)||vt;e.exports=o})),gt=9007199254740991;var yt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=gt},bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt["[object Arguments]"]=bt["[object Array]"]=bt["[object ArrayBuffer]"]=bt["[object Boolean]"]=bt["[object DataView]"]=bt["[object Date]"]=bt["[object Error]"]=bt["[object Function]"]=bt["[object Map]"]=bt["[object Number]"]=bt["[object Object]"]=bt["[object RegExp]"]=bt["[object Set]"]=bt["[object String]"]=bt["[object WeakMap]"]=!1;var wt=function(e){return x(e)&&yt(e.length)&&!!bt[N(e)]};var _t=function(e){return function(t){return e(t)}},Et=v((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&m.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),St=Et&&Et.isTypedArray,Tt=St?_t(St):wt,Ct=Object.prototype.hasOwnProperty;var It=function(e,t){var n=d(e),r=!n&&pt(e),i=!n&&!r&&mt(e),o=!n&&!r&&!i&&Tt(e),a=n||r||i||o,s=a?ut(e.length,String):[],u=s.length;for(var c in e)!t&&!Ct.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ot(c,u))||s.push(c);return s},kt=Object.prototype;var At=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||kt)};var Ot=function(e,t){return function(n){return e(t(n))}},Nt=Ot(Object.keys,Object),xt=Object.prototype.hasOwnProperty;var Rt=function(e){if(!At(e))return Nt(e);var t=[];for(var n in Object(e))xt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Pt=function(e){return null!=e&&yt(e.length)&&!q(e)};var Dt=function(e){return Pt(e)?It(e):Rt(e)};var Mt=function(){if(!arguments.length)return[];var e=arguments[0];return d(e)?e:[e]};var jt=function(e){return e},Lt=ne(y,"WeakMap"),Ft=Lt&&new Lt,Ut=Ft?function(e,t){return Ft.set(e,t),e}:jt,Bt=Object.create,Vt=function(){function e(){}return function(t){if(!L(t))return{};if(Bt)return Bt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var qt=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vt(e.prototype),r=e.apply(n,t);return L(r)?r:n}},Wt=1;var zt=function(e,t,n){var r=t&Wt,i=qt(e);return function t(){return(this&&this!==y&&this instanceof t?i:e).apply(r?n:this,arguments)}};var Kt=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Ht=Math.max;var Gt=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=Ht(o-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l},Qt=Math.max;var Yt=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Qt(o-s,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f};var $t=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var Xt=function(){},Jt=4294967295;function Zt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Jt,this.__views__=[]}Zt.prototype=Vt(Xt.prototype),Zt.prototype.constructor=Zt;var en=Zt;var tn=Ft?function(e){return Ft.get(e)}:function(){},nn={},rn=Object.prototype.hasOwnProperty;var on=function(e){for(var t=e.name+"",n=nn[t],r=rn.call(nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function an(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}an.prototype=Vt(Xt.prototype),an.prototype.constructor=an;var sn=an;var un=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var cn=function(e){if(e instanceof en)return e.clone();var t=new sn(e.__wrapped__,e.__chain__);return t.__actions__=un(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},ln=Object.prototype.hasOwnProperty;function fn(e){if(x(e)&&!d(e)&&!(e instanceof en)){if(e instanceof sn)return e;if(ln.call(e,"__wrapped__"))return cn(e)}return new sn(e)}fn.prototype=Xt.prototype,fn.prototype.constructor=fn;var hn=fn;var dn=function(e){var t=on(e),n=hn[t];if("function"!=typeof n||!(t in en.prototype))return!1;if(e===n)return!0;var r=tn(n);return!!r&&e===r[0]},pn=800,vn=16,mn=Date.now;var gn=function(e){var t=0,n=0;return function(){var r=mn(),i=vn-(r-n);if(n=r,i>0){if(++t>=pn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},yn=gn(Ut),bn=/\{\n\/\* \[wrapped with (.+)\] \*/,wn=/,? & /;var _n=function(e){var t=e.match(bn);return t?t[1].split(wn):[]},En=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Sn=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(En,"{\n/* [wrapped with "+t+"] */\n")};var Tn=function(e){return function(){return e}},Cn=gn(Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:Tn(t),writable:!0})}:jt);var In=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var kn=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var An=function(e){return e!==e};var On=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Nn=function(e,t,n){return t===t?On(e,t,n):kn(e,An,n)};var xn=function(e,t){return!!(null==e?0:e.length)&&Nn(e,t,0)>-1},Rn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Pn=function(e,t){return In(Rn,(function(n){var r="_."+n[0];t&n[1]&&!xn(e,r)&&e.push(r)})),e.sort()};var Dn=function(e,t,n){var r=t+"";return Cn(e,Sn(r,Pn(_n(r),n)))},Mn=1,jn=2,Ln=4,Fn=8,Un=32,Bn=64;var Vn=function(e,t,n,r,i,o,a,s,u,c){var l=t&Fn;t|=l?Un:Bn,(t&=~(l?Bn:Un))&Ln||(t&=~(Mn|jn));var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return dn(e)&&yn(h,f),h.placeholder=r,Dn(h,e,t)};var qn=function(e){return e.placeholder},Wn=Math.min;var zn=function(e,t){for(var n=e.length,r=Wn(t.length,n),i=un(e);r--;){var o=t[r];e[r]=ot(o,n)?i[o]:void 0}return e},Kn="__lodash_placeholder__";var Hn=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Kn||(e[n]=Kn,o[i++]=n)}return o},Gn=1,Qn=2,Yn=8,$n=16,Xn=128,Jn=512;var Zn=function e(t,n,r,i,o,a,s,u,c,l){var f=n&Xn,h=n&Gn,d=n&Qn,p=n&(Yn|$n),v=n&Jn,m=d?void 0:qt(t);return function g(){for(var b=arguments.length,w=Array(b),_=b;_--;)w[_]=arguments[_];if(p)var E=qn(g),S=$t(w,E);if(i&&(w=Gt(w,i,o,p)),a&&(w=Yt(w,a,s,p)),b-=S,p&&b<l){var T=Hn(w,E);return Vn(t,n,e,g.placeholder,r,w,T,u,c,l-b)}var C=h?r:this,I=d?C[t]:t;return b=w.length,u?w=zn(w,u):v&&b>1&&w.reverse(),f&&c<b&&(w.length=c),this&&this!==y&&this instanceof g&&(I=m||qt(I)),I.apply(C,w)}};var er=function(e,t,n){var r=qt(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,u=qn(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:Hn(a,u);return(o-=c.length)<n?Vn(e,t,Zn,i.placeholder,void 0,a,c,void 0,void 0,n-o):Kt(this&&this!==y&&this instanceof i?r:e,this,a)}},tr=1;var nr=function(e,t,n,r){var i=t&tr,o=qt(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=Array(c+s),f=this&&this!==y&&this instanceof t?o:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return Kt(f,i?n:this,l)}},rr="__lodash_placeholder__",ir=1,or=2,ar=4,sr=8,ur=128,cr=256,lr=Math.min;var fr=function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ir|or|ur),a=r==ur&&n==sr||r==ur&&n==cr&&e[7].length<=t[8]||r==(ur|cr)&&t[7].length<=t[8]&&n==sr;if(!o&&!a)return e;r&ir&&(e[2]=t[2],i|=n&ir?0:ar);var s=t[3];if(s){var u=e[3];e[3]=u?Gt(u,s,t[4]):s,e[4]=u?Hn(e[3],rr):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?Yt(u,s,t[6]):s,e[6]=u?Hn(e[5],rr):t[6]),(s=t[7])&&(e[7]=s),r&ur&&(e[8]=null==e[8]?t[8]:lr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},hr=NaN,dr=/^\s+|\s+$/g,pr=/^[-+]0x[0-9a-f]+$/i,vr=/^0b[01]+$/i,mr=/^0o[0-7]+$/i,gr=parseInt;var yr=function(e){if("number"==typeof e)return e;if(P(e))return hr;if(L(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=L(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(dr,"");var n=vr.test(e);return n||mr.test(e)?gr(e.slice(2),n?2:8):pr.test(e)?hr:+e},br=1/0,wr=17976931348623157e292;var _r=function(e){return e?(e=yr(e))===br||e===-br?(e<0?-1:1)*wr:e===e?e:0:0===e?e:0};var Er=function(e){var t=_r(e),n=t%1;return t===t?n?t-n:t:0},Sr="Expected a function",Tr=1,Cr=2,Ir=8,kr=16,Ar=32,Or=64,Nr=Math.max;var xr=function(e,t,n,r,i,o,a,s){var u=t&Cr;if(!u&&"function"!=typeof e)throw new TypeError(Sr);var c=r?r.length:0;if(c||(t&=~(Ar|Or),r=i=void 0),a=void 0===a?a:Nr(Er(a),0),s=void 0===s?s:Er(s),c-=i?i.length:0,t&Or){var l=r,f=i;r=i=void 0}var h=u?void 0:tn(e),d=[e,t,n,r,i,l,f,o,a,s];if(h&&fr(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(s=d[9]=void 0===d[9]?u?0:e.length:Nr(d[9]-c,0))&&t&(Ir|kr)&&(t&=~(Ir|kr)),t&&t!=Tr)p=t==Ir||t==kr?er(e,t,s):t!=Ar&&t!=(Tr|Ar)||i.length?Zn.apply(void 0,d):nr(e,t,n,r);else var p=zt(e,t,n);return Dn((h?Ut:yn)(p,d),e,t)},Rr=8;function Pr(e,t,n){var r=xr(e,Rr,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Pr.placeholder,r}Pr.placeholder={};var Dr=Pr;var Mr=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};var jr=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}();var Lr=function(e,t){return function(n,r){if(null==n)return n;if(!Pt(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&jr(e,t,Dt)}));var Fr=function(){this.__data__=new Te,this.size=0};var Ur=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Br=function(e){return this.__data__.get(e)};var Vr=function(e){return this.__data__.has(e)},qr=200;var Wr=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!Ce||r.length<qr-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new De(r)}return n.set(e,t),this.size=n.size,this};function zr(e){var t=this.__data__=new Te(e);this.size=t.size}zr.prototype.clear=Fr,zr.prototype.delete=Ur,zr.prototype.get=Br,zr.prototype.has=Vr,zr.prototype.set=Wr;var Kr=zr,Hr="__lodash_hash_undefined__";var Gr=function(e){return this.__data__.set(e,Hr),this};var Qr=function(e){return this.__data__.has(e)};function Yr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new De;++t<n;)this.add(e[t])}Yr.prototype.add=Yr.prototype.push=Gr,Yr.prototype.has=Qr;var $r=Yr;var Xr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Jr=function(e,t){return e.has(t)},Zr=1,ei=2;var ti=function(e,t,n,r,i,o){var a=n&Zr,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,h=n&ei?new $r:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var d=e[l],p=t[l];if(r)var v=a?r(p,d,l,t,e,o):r(d,p,l,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!Xr(t,(function(e,t){if(!Jr(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},ni=y.Uint8Array;var ri=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var ii=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},oi=1,ai=2,si="[object Boolean]",ui="[object Date]",ci="[object Error]",li="[object Map]",fi="[object Number]",hi="[object RegExp]",di="[object Set]",pi="[object String]",vi="[object Symbol]",mi="[object ArrayBuffer]",gi="[object DataView]",yi=b?b.prototype:void 0,bi=yi?yi.valueOf:void 0;var wi=function(e,t,n,r,i,o,a){switch(n){case gi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mi:return!(e.byteLength!=t.byteLength||!o(new ni(e),new ni(t)));case si:case ui:case fi:return me(+e,+t);case ci:return e.name==t.name&&e.message==t.message;case hi:case pi:return e==t+"";case li:var s=ri;case di:var u=r&oi;if(s||(s=ii),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=ai,a.set(e,t);var l=ti(s(e),s(t),r,i,o,a);return a.delete(e),l;case vi:if(bi)return bi.call(e)==bi.call(t)}return!1};var _i=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var Ei=function(e,t,n){var r=t(e);return d(e)?r:_i(r,n(e))};var Si=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var Ti=function(){return[]},Ci=Object.prototype.propertyIsEnumerable,Ii=Object.getOwnPropertySymbols,ki=Ii?function(e){return null==e?[]:(e=Object(e),Si(Ii(e),(function(t){return Ci.call(e,t)})))}:Ti;var Ai=function(e){return Ei(e,Dt,ki)},Oi=1,Ni=Object.prototype.hasOwnProperty;var xi=function(e,t,n,r,i,o){var a=n&Oi,s=Ai(e),u=s.length;if(u!=Ai(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Ni.call(t,l)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++c<u;){var p=e[l=s[c]],v=t[l];if(r)var m=a?r(v,p,l,t,e,o):r(p,v,l,e,t,o);if(!(void 0===m?p===v||i(p,v,n,r,o):m)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h},Ri=ne(y,"DataView"),Pi=ne(y,"Promise"),Di=ne(y,"Set"),Mi=G(Ri),ji=G(Ce),Li=G(Pi),Fi=G(Di),Ui=G(Lt),Bi=N;(Ri&&"[object DataView]"!=Bi(new Ri(new ArrayBuffer(1)))||Ce&&"[object Map]"!=Bi(new Ce)||Pi&&"[object Promise]"!=Bi(Pi.resolve())||Di&&"[object Set]"!=Bi(new Di)||Lt&&"[object WeakMap]"!=Bi(new Lt))&&(Bi=function(e){var t=N(e),n="[object Object]"==t?e.constructor:void 0,r=n?G(n):"";if(r)switch(r){case Mi:return"[object DataView]";case ji:return"[object Map]";case Li:return"[object Promise]";case Fi:return"[object Set]";case Ui:return"[object WeakMap]"}return t});var Vi=Bi,qi=1,Wi="[object Arguments]",zi="[object Array]",Ki="[object Object]",Hi=Object.prototype.hasOwnProperty;var Gi=function(e,t,n,r,i,o){var a=d(e),s=d(t),u=a?zi:Vi(e),c=s?zi:Vi(t),l=(u=u==Wi?Ki:u)==Ki,f=(c=c==Wi?Ki:c)==Ki,h=u==c;if(h&&mt(e)){if(!mt(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Kr),a||Tt(e)?ti(e,t,n,r,i,o):wi(e,t,u,n,r,i,o);if(!(n&qi)){var p=l&&Hi.call(e,"__wrapped__"),v=f&&Hi.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new Kr),i(m,g,n,r,o)}}return!!h&&(o||(o=new Kr),xi(e,t,n,r,i,o))};var Qi=function e(t,n,r,i,o){return t===n||(null==t||null==n||!x(t)&&!x(n)?t!==t&&n!==n:Gi(t,n,r,i,e,o))},Yi=1,$i=2;var Xi=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Kr;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?Qi(l,c,Yi|$i,r,f):h))return!1}}return!0};var Ji=function(e){return e===e&&!L(e)};var Zi=function(e){for(var t=Dt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ji(i)]}return t};var eo=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var to=function(e){var t=Zi(e);return 1==t.length&&t[0][2]?eo(t[0][0],t[0][1]):function(n){return n===e||Xi(n,e,t)}};var no=function(e,t){return null!=e&&t in Object(e)};var ro=function(e,t,n){for(var r=-1,i=(t=Qe(t,e)).length,o=!1;++r<i;){var a=$e(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&yt(i)&&ot(a,i)&&(d(e)||pt(e))};var io=function(e,t){return null!=e&&ro(e,t,no)},oo=1,ao=2;var so=function(e,t){return j(e)&&Ji(t)?eo($e(e),t):function(n){var r=Je(n,e);return void 0===r&&r===t?io(n,e):Qi(t,r,oo|ao)}};var uo=function(e){return function(t){return null==t?void 0:t[e]}};var co=function(e){return function(t){return Xe(t,e)}};var lo=function(e){return j(e)?uo($e(e)):co(e)};var fo=function(e){return"function"==typeof e?e:null==e?jt:"object"==typeof e?d(e)?so(e[0],e[1]):to(e):lo(e)};var ho=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};var po=function(e,t,n){var r=d(e)?Mr:ho,i=arguments.length<3;return r(e,fo(t),n,i,Lr)};var vo=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?et(n,s,u):nt(n,s,u)}return n};var mo=function(e,t){return e&&vo(t,Dt(t),e)};var go=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},yo=Object.prototype.hasOwnProperty;var bo=function(e){if(!L(e))return go(e);var t=At(e),n=[];for(var r in e)("constructor"!=r||!t&&yo.call(e,r))&&n.push(r);return n};var wo=function(e){return Pt(e)?It(e,!0):bo(e)};var _o=function(e,t){return e&&vo(t,wo(t),e)},Eo=v((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?y.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}));var So=function(e,t){return vo(e,ki(e),t)},To=Ot(Object.getPrototypeOf,Object),Co=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)_i(t,ki(e)),e=To(e);return t}:Ti;var Io=function(e,t){return vo(e,Co(e),t)};var ko=function(e){return Ei(e,wo,Co)},Ao=Object.prototype.hasOwnProperty;var Oo=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ao.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var No=function(e){var t=new e.constructor(e.byteLength);return new ni(t).set(new ni(e)),t};var xo=function(e,t){var n=t?No(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Ro=/\w*$/;var Po=function(e){var t=new e.constructor(e.source,Ro.exec(e));return t.lastIndex=e.lastIndex,t},Do=b?b.prototype:void 0,Mo=Do?Do.valueOf:void 0;var jo=function(e){return Mo?Object(Mo.call(e)):{}};var Lo=function(e,t){var n=t?No(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Fo="[object Boolean]",Uo="[object Date]",Bo="[object Map]",Vo="[object Number]",qo="[object RegExp]",Wo="[object Set]",zo="[object String]",Ko="[object Symbol]",Ho="[object ArrayBuffer]",Go="[object DataView]",Qo="[object Float32Array]",Yo="[object Float64Array]",$o="[object Int8Array]",Xo="[object Int16Array]",Jo="[object Int32Array]",Zo="[object Uint8Array]",ea="[object Uint8ClampedArray]",ta="[object Uint16Array]",na="[object Uint32Array]";var ra=function(e,t,n){var r=e.constructor;switch(t){case Ho:return No(e);case Fo:case Uo:return new r(+e);case Go:return xo(e,n);case Qo:case Yo:case $o:case Xo:case Jo:case Zo:case ea:case ta:case na:return Lo(e,n);case Bo:return new r;case Vo:case zo:return new r(e);case qo:return Po(e);case Wo:return new r;case Ko:return jo(e)}};var ia=function(e){return"function"!=typeof e.constructor||At(e)?{}:Vt(To(e))},oa="[object Map]";var aa=function(e){return x(e)&&Vi(e)==oa},sa=Et&&Et.isMap,ua=sa?_t(sa):aa,ca="[object Set]";var la=function(e){return x(e)&&Vi(e)==ca},fa=Et&&Et.isSet,ha=fa?_t(fa):la,da=1,pa=2,va=4,ma="[object Arguments]",ga="[object Function]",ya="[object GeneratorFunction]",ba="[object Object]",wa={};wa[ma]=wa["[object Array]"]=wa["[object ArrayBuffer]"]=wa["[object DataView]"]=wa["[object Boolean]"]=wa["[object Date]"]=wa["[object Float32Array]"]=wa["[object Float64Array]"]=wa["[object Int8Array]"]=wa["[object Int16Array]"]=wa["[object Int32Array]"]=wa["[object Map]"]=wa["[object Number]"]=wa[ba]=wa["[object RegExp]"]=wa["[object Set]"]=wa["[object String]"]=wa["[object Symbol]"]=wa["[object Uint8Array]"]=wa["[object Uint8ClampedArray]"]=wa["[object Uint16Array]"]=wa["[object Uint32Array]"]=!0,wa["[object Error]"]=wa[ga]=wa["[object WeakMap]"]=!1;var _a=function e(t,n,r,i,o,a){var s,u=n&da,c=n&pa,l=n&va;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!L(t))return t;var f=d(t);if(f){if(s=Oo(t),!u)return un(t,s)}else{var h=Vi(t),p=h==ga||h==ya;if(mt(t))return Eo(t,u);if(h==ba||h==ma||p&&!o){if(s=c||p?{}:ia(t),!u)return c?Io(t,_o(s,t)):So(t,mo(s,t))}else{if(!wa[h])return o?t:{};s=ra(t,h,u)}}a||(a=new Kr);var v=a.get(t);if(v)return v;a.set(t,s),ha(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):ua(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var m=l?c?ko:Ai:c?keysIn:Dt,g=f?void 0:m(t);return In(g||t,(function(i,o){g&&(i=t[o=i]),nt(s,o,e(i,n,r,o,t,a))})),s},Ea=1,Sa=4;var Ta=function(e){return _a(e,Ea|Sa)},Ca="[object Object]",Ia=Function.prototype,ka=Object.prototype,Aa=Ia.toString,Oa=ka.hasOwnProperty,Na=Aa.call(Object);var xa=function(e){if(!x(e)||N(e)!=Ca)return!1;var t=To(e);if(null===t)return!0;var n=Oa.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Aa.call(n)==Na},Ra=v((function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})),Pa=(Ra.aliasToReal,Ra.aryMethod,Ra.aryRearg,Ra.iterateeAry,Ra.iterateeRearg,Ra.methodRearg,Ra.methodSpread,Ra.mutate,Ra.realToAlias,Ra.remap,Ra.skipFixed,Ra.skipRearg,{}),Da=Array.prototype.push;function Ma(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function ja(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function La(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}var Fa=function e(t,n,r,i){var o="function"==typeof n,a=n===Object(n);if(a&&(i=r,r=n,n=void 0),null==r)throw new TypeError;i||(i={});var s={cap:!("cap"in i)||i.cap,curry:!("curry"in i)||i.curry,fixed:!("fixed"in i)||i.fixed,immutable:!("immutable"in i)||i.immutable,rearg:!("rearg"in i)||i.rearg},u=o?r:Pa,c="curry"in i&&i.curry,l="fixed"in i&&i.fixed,f="rearg"in i&&i.rearg,h=o?r.runInContext():void 0,d=o?r:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},p=d.ary,v=d.assign,m=d.clone,g=d.curry,y=d.forEach,b=d.isArray,w=d.isError,_=d.isFunction,E=d.isWeakMap,S=d.keys,T=d.rearg,C=d.toInteger,I=d.toPath,k=S(Ra.aryMethod),A={castArray:function(e){return function(){var t=arguments[0];return b(t)?e(ja(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),i=r.length;return s.cap&&"number"==typeof n?(n=n>2?n-2:1,i&&i<=n?r:Ma(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!_(n))return e(n,Object(t));var r=[];return y(S(t),(function(e){_(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),y(r,(function(e){var t=e[1];_(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:C(t)+1;return g(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return g(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),i)}}};function O(e,t){if(s.cap){var n=Ra.iterateeRearg[e];if(n)return function(e,t){return D(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(T(Ma(e,n),t),n)}))}(t,n);var r=!o&&Ra.iterateeAry[e];if(r)return function(e,t){return D(e,(function(e){return"function"==typeof e?Ma(e,t):e}))}(t,r)}return t}function N(e,t,n){if(s.fixed&&(l||!Ra.skipFixed[e])){var r=Ra.methodSpread[e],i=r&&r.start;return void 0===i?p(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[t],a=i.slice(0,t);return o&&Da.apply(a,o),t!=r&&Da.apply(a,i.slice(t+1)),e.apply(this,a)}}(t,i)}return t}function x(e,t,n){return s.rearg&&n>1&&(f||!Ra.skipRearg[e])?T(t,Ra.methodRearg[e]||Ra.aryRearg[n]):t}function R(e,t){for(var n=-1,r=(t=I(t)).length,i=r-1,o=m(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],u=a[s];null==u||_(u)||w(u)||E(u)||(a[s]=m(n==i?u:Object(u))),a=a[s]}return o}function P(t,n){var r=Ra.aliasToReal[t]||t,a=Ra.remap[r]||r,s=i;return function(t){var i=o?h:d,u=o?h[a]:n,c=v(v({},s),t);return e(i,r,u,c)}}function D(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=s.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function M(e,t,n){var r,i=Ra.aliasToReal[e]||e,o=t,a=A[i];return a?o=a(t):s.immutable&&(Ra.mutate.array[i]?o=La(t,ja):Ra.mutate.object[i]?o=La(t,function(e){return function(t){return e({},t)}}(t)):Ra.mutate.set[i]&&(o=La(t,R))),y(k,(function(e){return y(Ra.aryMethod[e],(function(t){if(i==t){var n=Ra.methodSpread[i],a=n&&n.afterRearg;return r=a?N(i,x(i,o,e),e):x(i,N(i,o,e),e),r=function(e,t,n){return c||s.curry&&n>1?g(t,n):t}(0,r=O(i,r),e),!1}})),!r})),r||(r=o),r==t&&(r=c?g(r,1):function(){return t.apply(this,arguments)}),r.convert=P(i,t),r.placeholder=t.placeholder=n,r}if(!a)return M(n,r,u);var j=r,L=[];return y(k,(function(e){y(Ra.aryMethod[e],(function(e){var t=j[Ra.remap[e]||e];t&&L.push([e,M(e,t,j)])}))})),y(S(j),(function(e){var t=j[e];if("function"==typeof t){for(var n=L.length;n--;)if(L[n][0]==e)return;t.convert=P(e,t),L.push([e,t])}})),y(L,(function(e){j[e[0]]=e[1]})),j.convert=function(e){return j.runInContext.convert(e)(void 0)},j.placeholder=j,y(S(j),(function(e){y(Ra.realToAlias[e]||[],(function(t){j[t]=j[e]}))})),j},Ua=128;var Ba=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,xr(e,Ua,void 0,void 0,void 0,void 0,t)},Va=4;var qa=function(e){return _a(e,Va)},Wa="[object DOMException]",za="[object Error]";var Ka=function(e){if(!x(e))return!1;var t=N(e);return t==za||t==Wa||"string"==typeof e.message&&"string"==typeof e.name&&!xa(e)},Ha="[object WeakMap]";var Ga=function(e){return x(e)&&Vi(e)==Ha},Qa=1;var Ya=function(e){return fo("function"==typeof e?e:_a(e,Qa))},$a=b?b.isConcatSpreadable:void 0;var Xa=function(e){return d(e)||pt(e)||!!($a&&e&&e[$a])};var Ja=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Xa),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):_i(o,u):i||(o[o.length]=u)}return o};var Za=function(e){return(null==e?0:e.length)?Ja(e,1):[]},es=Math.max;var ts=function(e,t,n){return t=es(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=es(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Kt(e,this,s)}};var ns=function(e){return Cn(ts(e,void 0,Za),e+"")},rs=ns((function(e,t){return xr(e,256,void 0,void 0,void 0,t)}));var is=function(e){return d(e)?qe(e,$e):P(e)?[e]:un(Ve(Ge(e)))},os={ary:Ba,assign:mo,clone:qa,curry:Dr,forEach:In,isArray:d,isError:Ka,isFunction:q,isWeakMap:Ga,iteratee:Ya,keys:Rt,rearg:rs,toInteger:Er,toPath:is};var as=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Xe(e,a);n(s,a)&&at(o,Qe(a,e),s)}return o};var ss=function(e,t){return as(e,t,(function(t,n){return io(e,n)}))},us=function(e,t,n){return Fa(os,e,t,n)}("pick",ns((function(e,t){return null==e?{}:ss(e,t)})));us.placeholder=Pa;var cs=us;void 0===Symbol.asyncIterator&&(Symbol.asyncIterator=Symbol.for("asyncIterator"));var ls={};function fs(e){console.warn("[FLAMELINK] "+e)}var hs=Dr((function(e,t){var n;return(n={})[e]=t,n})),ds=Dr((function(e,t){return t[e]})),ps=function(e){function t(t,n,r){void 0===n&&(n="generic-error"),void 0===r&&(r=!1);var i=e.call(this,"\n"+t+"\n")||this;return i.code=n,i.showStackTrace=r,i.name="FlamelinkError",i.showStackTrace||(i.stack=null),i}return s(t,e),t}(Error),vs=function(){function e(){this.events={"*":[]}}return e.prototype.on=function(e,t){var n=this;return"object"!==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),function(){return n.off(e,t)}},e.prototype.off=function(e,t){"object"===typeof this.events[e]&&(this.events[e]=this.events[e].filter((function(e){return e!==t})))},e.prototype.offAll=function(){var e=this;Object.keys(this.events).forEach((function(t){return e.events[t]=[]}))},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"object"===typeof this.events[e]&&this.events[e].slice().forEach((function(e){return e.apply(t,n)})),this.events["*"].slice().forEach((function(r){return r.apply(t,[e].concat(n))}))},e.prototype.once=function(e,t){var n=this,r=this.on(e,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r(),t.apply(n,e)}));return r},e}(),ms=function(e){function t(t){var n=e.call(this)||this;if(n.callback=t,n.state="PENDING",n.internalValue=null,n.chain=[],"function"!==typeof t)throw new Error("The callback must be a function");var r=function(e){if("PENDING"!==n.state)return n.internalValue;n.state="REJECTED",n.internalValue=e,c(n,void 0,void 0,(function(){var t,n,r,i,o,a;return l(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),t=h(this.chain),s.label=1;case 1:return[4,t.next()];case 2:if((n=s.sent()).done)return[3,4];if("function"===typeof(r=n.value.onRejected))return[2,r(e)];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i=s.sent(),o={error:i},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(a=t.return)?[4,a.call(t)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return[2]}}))}))},i=function e(t){if("PENDING"!==n.state)return n.internalValue;var i=Je(t,"then",null);if("function"===typeof i)return i(e,r);n.state="FULFILLED",n.internalValue=t,c(n,void 0,void 0,(function(){var e,n,r,i,o,a;return l(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),e=h(this.chain),s.label=1;case 1:return[4,e.next()];case 2:if((n=s.sent()).done)return[3,4];if("function"===typeof(r=n.value.onFulfilled))return[2,r(t)];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i=s.sent(),o={error:i},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(a=e.return)?[4,a.call(e)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return[2]}}))}))};try{setTimeout((function(){return t(i,r,n)}),0)}catch(o){r(o)}return n}return s(t,e),t.prototype.then=function(e,t){return c(this,void 0,void 0,(function(){return l(this,(function(n){return"FULFILLED"===this.state&&"function"===typeof e?[2,e(this.internalValue)]:"REJECTED"===this.state&&"function"===typeof t?[2,t(this.internalValue)]:(this.chain.push({onFulfilled:e,onRejected:t}),[2])}))}))},t.prototype.catch=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){return"FULFILLED"===this.state?[2]:"REJECTED"===this.state&&"function"===typeof e?[2,e(this.internalValue)]:(this.chain.push({onFulfilled:void 0,onRejected:e}),[2])}))}))},t}(vs),gs=function(e){return e.usesAdminApp?Je(e,"firebaseApp.firebaseInternals_.firebase_.firestore"):Je(e,"firebaseApp.firebase_.firestore")},ys=function(e){return e.usesAdminApp?Je(e,"firebaseApp.firebaseInternals_.firebase_.auth"):Je(e,"firebaseApp.firebase_.auth")},bs=["limitToFirst","limitToLast","startAt","endAt","equalTo"],ws=["startAt","startAfter","endAt","endBefore"],_s=function(e,t){if(t.orderByChild){if("string"!==typeof t.orderByChild||""===t.orderByChild)throw new ps('"orderByChild" should specify the child key to order by');return e.orderByChild(t.orderByChild)}return t.orderByValue?e.orderByValue():t.orderByKey?e.orderByKey():e},Es=function(e,t){return void 0===t&&(t={}),Dt(t).length?bs.reduce((function(e,n){var r=t[n];return"undefined"===typeof r?e:e[n].apply(e,Mt(r))}),e):e},Ss=function e(t,n){if(!Dt(n).length)return t;if(n.orderBy){if("string"===typeof n.orderBy)return t.orderBy?t.orderBy(n.orderBy,"asc"):t;if(xa(n.orderBy)&&n.orderBy.field)return t.orderBy?t.orderBy(n.orderBy.field,n.orderBy.order||"asc"):t;if(Array.isArray(n.orderBy))return n.orderBy.reduce((function(t,n){return e(t,{orderBy:n})}),t);fs('Ignored invalid "orderBy" parameters supplied.')}return t},Ts=function(e,t){return Dt(t).length&&Array.isArray(t.filters)?t.filters.reduce((function(e,t){return Array.isArray(t)?e.where?e.where.apply(e,t):e:(fs('The following invalid "filter" clause has been ignored: '+JSON.stringify(t)),e)}),e):e},Cs=function(e,t){if(!Dt(t).length)return e;var n=ws.reduce((function(e,n){return"undefined"!==typeof t[n]&&e[n]?e[n].apply(e,Mt(t[n])):e}),e);return Je(t,"limit")&&(n=e.limit?e.limit(t.limit):e),n},Is=Dr((function(e,t){if(!t||!d(e))return t;var n=cs(e);return d(t)?po(t,(function(e,t){return e.concat(n(t))}),[]):xa(t)?po(t,(function(e,t,r){var i;return Object.assign(e,((i={})[r]=n(t),i))}),{}):t})),ks=function(e){return"object"===typeof e&&"function"===typeof Je(e,"get")},As=Dr((function(e,t,n){var r=t||{},i=r.idProperty,o=void 0===i?"id":i,a=r.parentProperty,s=void 0===a?"parentId":a,c=d(n)?n:Dt(n).map((function(e){return n[e]}));if(!d(c))throw new ps('"formatStructure" should be called with an array of items');if("nested"===e||"tree"===e){return function e(t,n){return void 0===n&&(n=0),t.map((function(e){return u({},e,{children:c.filter((function(t){return Je(t,s)===Je(e,o)}))})})).filter((function(e){return Je(e,s,0)===n})).map((function(t){return 0===t.children.length?t:u({},t,{children:e(t.children,Je(t,o))})}))}(c,0)}return c})),Os=function(e){return"undefined"===typeof ls.prepPopulateFields&&(ls.prepPopulateFields=Le((function(e){return e&&d(e)?e.map((function(e){return"string"===typeof e?{field:e}:e})):[]}),(function(e){return JSON.stringify(e)}))),ls.prepPopulateFields(e)},Ns=Dr((function(e,t,n){return c(void 0,void 0,void 0,(function(){var r,i,o,a=this;return l(this,(function(s){return xa(n)?(r=Je(e,"modules.storage"),i=function(e){return c(a,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return r?[4,r.getURL({fileId:e.id,size:t.size})]:(fs('The Flamelink "storage" module is not available. Please make sure it is imported and try again.'),[2,e]);case 1:return n=i.sent(),[2,st(e,"url",n)]}}))}))},[2,(o=function(e){return c(a,void 0,void 0,(function(){var t=this;return l(this,(function(n){switch(n.label){case 0:return Array.isArray(e)?[2,Promise.all(e.map((function(e){return c(t,void 0,void 0,(function(){return l(this,(function(t){return[2,o(e)]}))}))})))]:xa(e)?(r=e).hasOwnProperty("file")&&r.hasOwnProperty("id")&&r.hasOwnProperty("contentType")&&r.hasOwnProperty("folderId")?[2,i(e)]:[4,Promise.all(Dt(e).map((function(n){return c(t,void 0,void 0,(function(){var t;return l(this,(function(r){switch(r.label){case 0:return t={propKey:n},[4,o(e[n])];case 1:return[2,(t.propValue=r.sent(),t)]}}))}))})))]:[3,2];case 1:return[2,n.sent().reduce((function(e,t){return st(e,t.propKey,t.propValue)}),u({},e))];case 2:return[2,e]}var r}))}))})(n)]):[2,n]}))}))})),xs=Dr((function(e,t,n){return c(void 0,void 0,void 0,(function(){var r,i,a,s=this;return l(this,(function(f){switch(f.label){case 0:return xa(n)&&Je(t,"populate")&&(r=Je(e,"services.firestore"))?(i=!0===t.populate,a=[],d(t.populate)?a=Os(t.populate):i&&(a=Os(Object.keys(n))),[4,Promise.all(a.map((function(t){return c(s,void 0,void 0,(function(){var a,s,u,f,h,d,p,v,m=this;return l(this,(function(g){switch(g.label){case 0:return a=t.field,s=t.populate,u=t.subFields,f=Je(n,a),h=Ns(e,t),d=xs(e,{populate:!!i||(Array.isArray(u)?u:s)}),p=function(e){return c(m,void 0,void 0,(function(){var t,n,i=this;return l(this,(function(a){switch(a.label){case 0:return[4,r.doc(e.path).get()];case 1:return"function"===typeof(t=a.sent()).forEach?(n=[],t.forEach((function(e){return c(i,void 0,void 0,(function(){return l(this,(function(t){return[2,n.push(d(e.data()))]}))}))})),[2,Promise.all(n)]):[4,o(d,h)(t.data())];case 2:return[2,a.sent()]}}))}))},v=f,Array.isArray(f)?[4,Promise.all(f.map((function(e){return c(m,void 0,void 0,(function(){return l(this,(function(t){return ks(e)?[2,p(e)]:[2,d(e)]}))}))})))]:[3,2];case 1:return v=g.sent(),[3,6];case 2:return xa(f)?[4,d(f)]:[3,4];case 3:return v=g.sent(),[3,6];case 4:return ks(f)?[4,p(f)]:[3,6];case 5:v=g.sent(),g.label=6;case 6:return[2,{fieldKey:a,fieldValue:v}]}}))}))})))]):[2,n];case 1:return[2,f.sent().reduce((function(e,t){return st(e,t.fieldKey,t.fieldValue)}),u({},n))]}}))}))})),Rs=Dr((function(e,t,n){return c(void 0,void 0,void 0,(function(){var r=this;return l(this,(function(i){switch(i.label){case 0:return Array.isArray(n)?[2,Promise.all(n.map((function(n){return c(r,void 0,void 0,(function(){return l(this,(function(r){return[2,xs(e,t,n)]}))}))})))]:xa(n)?[4,Promise.all(Dt(n).map((function(i){return c(r,void 0,void 0,(function(){return l(this,(function(r){return[2,xs(e,t,n[i])]}))}))})))]:[3,2];case 1:return[2,i.sent().reduce((function(e,t){return e.then((function(e){return c(r,void 0,void 0,(function(){var n;return l(this,(function(r){return[2,Object.assign(e,(n={},n[Je(t,"_fl_meta_.fl_id",t.id)]=t,n))]}))}))}))}),Promise.resolve({}))];case 2:return[2,n]}}))}))})),Ps=Dr((function(e,t){return{start:function(){return t.reduce((function(t,n,r){return t.then((function(t){return c(void 0,void 0,void 0,(function(){var i;return l(this,(function(o){switch(o.label){case 0:return[4,e(n,r)];case 1:return i=o.sent(),[2,t.concat([i])]}}))}))}))}),Promise.resolve([]))}}})),Ds=function e(t,n){return c(void 0,void 0,void 0,(function(){var r=this;return l(this,(function(i){return[2,n.reduce((function(n,i){return c(r,void 0,void 0,(function(){var r=this;return l(this,(function(o){switch(i.type){case"media":return[2,n.then((function(e){return e.concat({field:i.key})}))];case"select-relational":case"tree-relational":return[2,n.then((function(n){return c(r,void 0,void 0,(function(){var r,o,a,s,u;return l(this,(function(c){switch(c.label){case 0:return o=(r=n).concat,a={field:i.key},s=e,u=[t],[4,t.getFields({schemaKey:i.relation})];case 1:return[4,s.apply(void 0,u.concat([c.sent()]))];case 2:return[2,o.apply(r,[(a.populate=c.sent(),a)])]}}))}))}))];case"fieldset":case"repeater":return[2,n.then((function(n){return c(r,void 0,void 0,(function(){var r,o,a;return l(this,(function(s){switch(s.label){case 0:return o=(r=n).concat,a={field:i.key},[4,e(t,i.options)];case 1:return[2,o.apply(r,[(a.subFields=s.sent(),a)])]}}))}))}))];default:return[2,n]}return[2]}))}))}),Promise.resolve([]))]}))}))},Ms=Dr((function(e,t,n,r){return c(void 0,void 0,void 0,(function(){var i,a,s,f,h,p,v,m,g=this;return l(this,(function(y){switch(y.label){case 0:if(!r)return[2,r];if(0===(i=Dt(r)).length)throw new ps('"populateEntry" should be called with an object of objects');return a=e.modules.content,s=e.modules.schemas,f=e.modules.storage,h=Dr((function(t,n,r,i){return c(g,void 0,void 0,(function(){var s,p,v=this;return l(this,(function(m){switch(m.label){case 0:return r[0]&&(s=function(e,t){return e.reduce((function(e,n){var r=t&&t.find((function(e){return e.key===n.field}));return r?r.relation?e.concat([u({},n,{contentType:r.relation,populateType:"relational"})]):"media"===r.type?e.concat([u({},n,{populateType:"media"})]):"repeater"===r.type&&d(n.subFields)?e.concat([u({},n,{populateType:"repeater"})]):"fieldset"===r.type&&d(n.subFields)?e.concat([u({},n,{populateType:"fieldset"})]):e:e}),[])}(r,n))[0]?[4,Promise.all(s.map((function(r){return c(v,void 0,void 0,(function(){var s,p,v,m,g,y,b,w,_,E,S=this;return l(this,(function(T){switch(T.label){case 0:switch(s=r.field,p=r.subFields,v=r.contentType,m=r.populateType,m){case"media":return[3,1];case"relational":return[3,2];case"repeater":return[3,3];case"fieldset":return[3,4]}return[3,7];case 1:if(t[i]&&t[i].hasOwnProperty(s)){if(g=t[i][s]||[],!d(g))throw new ps('The "'+s+'" field does not seem to be a valid media property.');return[2,Promise.all(g.map((function(t){return c(S,void 0,void 0,(function(){var n,i,a,s,c;return l(this,(function(l){switch(l.label){case 0:return n=Is(r.fields),i=Ms(e,v,r.populate),[4,Promise.all([f.getFile(u({},r,{fileId:t})),f.getURL(u({},r,{fileId:t}))])];case 1:return a=l.sent(),s=a[0],c=a[1],[4,o(ds(t),i,n,hs(t))(u({},s,{url:c}))];case 2:return[2,l.sent()]}}))}))})))]}return[2,null];case 2:return t[i]&&t[i].hasOwnProperty(s)?(y=t[i][s],y=Mt(y),[2,Promise.all(y.map((function(e){return c(S,void 0,void 0,(function(){return l(this,(function(t){return[2,a.get(u({},r,{schemaKey:v,entryId:e}))]}))}))})))]):[2,null];case 3:if(t[i]&&t[i].hasOwnProperty(s)){if(b=t[i][s]||[],!d(b))throw new ps('The "'+s+'" field does not seem to be a valid repeater field.');return w=n&&n.find((function(e){return e.key===s})),[2,Promise.all(b.map((function(e,t){return c(S,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:return n=t.toString(),[4,h(hs(n,e),w.options||[],Os(p),n)];case 1:return r=i.sent(),[2,ds(n,r)]}}))}))})))]}return[2,null];case 4:if(!t[i]||!t[i].hasOwnProperty(s))return[3,6];if(_=t[i][s],!xa(_))throw new ps('The "'+s+'" field does not seem to be a valid fieldset field.');return E=n&&n.find((function(e){return e.key===s})),[4,Promise.all(Dt(_).map((function(e,t){return c(S,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){switch(o.label){case 0:return n=t.toString(),[4,h(hs(n,(i={},i[e]=_[e],i)),E.options||[],Os(p),n)];case 1:return r=o.sent(),[2,ds(n,r)]}}))}))})))];case 5:return[2,T.sent().reduce((function(e,t){return Object.assign(e,t)}),{})];case 6:return[2,null];case 7:return[2,t[i][s]]}}))}))})))]:[2,t];case 1:return p=m.sent(),[2,s.reduce((function(e,t,n){var r=t.field;return e[i]&&e[i].hasOwnProperty(r)&&(e[i][r]=p[n]),e}),Ta(t))]}}))}))})),[4,s.getFields({schemaKey:t})];case 1:return p=y.sent(),!0!==n?[3,3]:[4,Ds(s,p)];case 2:n=y.sent(),y.label=3;case 3:return v=Os(n),[4,Promise.all(i.map(h(r,p,v)))];case 4:return m=y.sent(),[2,i.reduce((function(e,t,n){var r;return Object.assign(e,((r={})[t]=m[n][t],r))}),{})]}}))}))})),js=Dr((function(e,t,n,r){return c(void 0,void 0,void 0,(function(){var i=this;return l(this,(function(o){return Array.isArray(r)?[2,Promise.all(r.map((function(r){return c(i,void 0,void 0,(function(){return l(this,(function(i){return[2,Ms(e,t,n,r)]}))}))})))]:[2,[]]}))}))}));t.AVAILABLE_FILTER_OPTIONS_FOR_RTDB=bs,t.CF_QUERY_CURSORS=ws,t.EventEmitter=vs,t.FlamelinkError=ps,t.PromiseEmitter=ms,t.applyFiltersForCF=Ts,t.applyFiltersForRTDB=Es,t.applyLimitAndOffsetsForCF=Cs,t.applyOptionsForCF=function(e,t){var n=Ts(e,t),r=Ss(n,t);return Cs(r,t)},t.applyOptionsForRTDB=function(e,t){var n=_s(e,t);return Es(n,t)},t.applyOrderByForCF=Ss,t.applyOrderByForRTDB=_s,t.createQueue=Ps,t.formatStructure=As,t.getAuthServiceFactory=ys,t.getCurrentUser=function(e){var t=ys(e);return"function"!==typeof t?"UNKNOWN":Je(t(),"currentUser.uid","UNKNOWN")},t.getDefaultImport=function(e){return e&&"object"===typeof e&&"default"in e?e.default:e},t.getFirestoreServiceFactory=gs,t.getStorageServiceFactory=function(e){return e.usesAdminApp?Je(e,"firebaseApp.firebaseInternals_.firebase_.storage"):Je(e,"firebaseApp.firebase_.storage")},t.getTimestamp=function(e){return"cf"===e.dbType?Je(gs(e),"Timestamp.now",(function(){return(new Date).toISOString()}))():(new Date).toISOString()},t.hasNonCacheableOptionsForCF=function(e){var t=Dt(e),n=["noCache","includeMetadataChanges","source","changeType","limit"].concat(ws);return t.some((function(e){return n.includes(e)}))},t.hasNonCacheableOptionsForRTDB=function(e){var t=Dt(e),n=["noCache","event","orderByValue","orderByChild"].concat(bs);return t.some((function(e){return n.includes(e)}))},t.isRefLike=ks,t.logError=function(e){console.error("[FLAMELINK] "+e)},t.logWarning=fs,t.patchFileUrlForCF=Ns,t.pluckResultFields=Is,t.populateEntries=js,t.populateEntriesForCF=Rs,t.populateEntry=Ms,t.prepPopulateFields=Os,t.processReferencesForCF=xs,t.unwrap=ds,t.wrap=hs}).call(this,n(7),n(29))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return w}));var r=n(28),i=n(22),o=n(0),a=n.n(o),s=n(17),u=(n(6),n(15)),c=n(27),l=n(21),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.createBrowserHistory)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.createLocation)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var m=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.a.createElement("a",l)}));var g=v((function(e,t){var n=e.component,i=void 0===n?m:n,o=e.replace,s=e.to,f=e.innerRef,g=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(h(s,e.location),e.location),c=r?n.createHref(r):"",m=Object(u.a)({},g,{href:c,navigate:function(){var t=h(s,e.location);(o?n.replace:n.push)(t)}});return p!==v?m.ref=t||f:m.innerRef=f,a.a.createElement(i,m)}))})),y=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);var w=b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,p=e.className,v=e.exact,m=e.isActive,w=e.location,_=e.strict,E=e.style,S=e.to,T=e.innerRef,C=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,o=d(h(S,n),n),c=o.pathname,I=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=I?Object(r.e)(n.pathname,{path:I,exact:v,strict:_}):null,A=!!(m?m(k,n):k),O=A?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,N=A?Object(u.a)({},E,{},f):E,x=Object(u.a)({"aria-current":A&&i||null,className:O,style:N,to:o},C);return y!==b?x.ref=t||T:x.innerRef=T,a.a.createElement(g,x)}))}))},function(e,t,n){"use strict";var r=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(i):new Error(i+": "+(t||""))}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,i=(r=n(4))&&"object"===typeof r&&"default"in r?r.default:r;n(51),n(79),n(80),n(82),n(83),n(84),n(85),n(86),n(87),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),e.exports=i},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(75)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(22),i=n(0),o=n.n(i),a=n(6),s=n.n(a),u=n(17),c=n(25),l=n.n(c),f=n(45),h=n.n(f),d=1073741823;var p=o.a.createContext||function(e,t){var n,r,o="__create-react-context-"+h()()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}l()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):d,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?d:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?d:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},v=n(21),m=n(15),g=n(48),y=n.n(g),b=(n(55),n(27));n(66);n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return C}));var w=function(e){var t=p();return t.displayName=e,t}("Router"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;o.a.Component;var E={},S=1e4,T=0;function C(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=E[n]||(E[n]={});if(r[e])return r[e];var i=[],o={regexp:y()(e,i,t),keys:i};return T<S&&(r[e]=o,T++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var I=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(v.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?C(n.pathname,e.props):t.match,i=Object(m.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(w.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function k(e){return"/"===e.charAt(0)?e:"/"+e}function A(e,t){if(!e)return t;var n=k(e);return 0!==t.pathname.indexOf(n)?t:Object(m.a)({},t,{pathname:t.pathname.substr(n.length)})}function O(e){return"string"===typeof e?e:Object(u.createPath)(e)}function N(e){return function(){Object(v.a)(!1)}}function x(){}o.a.Component;var R=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(v.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?C(i.pathname,Object(m.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);o.a.useContext},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(38),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=n(34);o.inherits=n(32);var a=n(56),s=n(44);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return e.then(t)}),Promise.resolve(e))}}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return u})),n.d(t,"setLogLevel",(function(){return c}));var i,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var a=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function c(e){o.forEach((function(t){t.logLevel=e}))}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(43).Buffer)},function(e,t,n){"use strict";var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r;n(88),n(89),n(52),n(53),n(90),n(91),n(92),n(93),n(94),n(96),n(97),n(98),console.warn("\n[Flamelink] Warning!\n\nImporting the whole Flamelink SDK is fine for development or quick prototyping,\nbut it is highly recommended that you only import the individual modules used\nby your application when you use this SDK in production.\n\n---------------------------------- CommonJS ------------------------------------\n\nconst flamelink = require('flamelink/app')\nrequire('flamelink/<module>')\n\n------------------------------- EcmaScript Modules -----------------------------\n\nimport flamelink from 'flamelink/app'\nimport 'flamelink/<module>'\n\n----------------------------------- TypeScript ---------------------------------\n\nimport flamelink from 'flamelink/app'\nimport 'flamelink/<module>'\n\n--------------------------------------------------------------------------------\n\nWhere <module> can be one of 'content', 'navigation', 'storage', 'users' or 'settings'\n"),e.exports=i},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"registerInstallations",(function(){return Q}));var r,i=n(4),o=n.n(i),a=n(2),s=n(16),u=n(62),c=1e4,l="w:0.3.0",f="FIS_v2",h="https://firebaseinstallations.googleapis.com/v1",d=36e5,p=((r={})["missing-app-config-values"]="Missing App configuration values.",r["create-installation-failed"]="Could not register Firebase Installation.",r["generate-token-failed"]="Could not generate Auth Token.",r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),v=new s.ErrorFactory("installations","Installations",p);function m(e){return e instanceof s.FirebaseError&&e.code.includes("request-failed")}function g(e){if(!e||!e.options)throw v.create("missing-app-config-values");var t=e.name,n=e.options,r=n.projectId,i=n.apiKey,o=n.appId;if(!t||!r||!i||!o)throw v.create("missing-app-config-values");return{appName:t,projectId:r,apiKey:i,appId:o}}function y(e){var t=e.projectId;return h+"/projects/"+t+"/installations"}function b(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function w(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,v.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function _(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E(e,t){var n=t.refreshToken,r=_(e);return r.append("Authorization",function(e){return f+" "+e}(n)),r}function S(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function T(e,t){var n=t.fid;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return t=y(e),r=_(e),i={fid:n,authVersion:f,appId:e.appId,sdkVersion:l},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,S((function(){return fetch(t,o)}))];case 1:return(s=a.sent()).ok?[4,s.json()]:[3,3];case 2:return u=a.sent(),[2,{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:b(u.authToken)}];case 3:return[4,w("Create Installation",s)];case 4:throw a.sent()}}))}))}function C(e){return new Promise((function(t){setTimeout(t,e)}))}var I=/^[cdef][\w-]{21}$/,k="";function A(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(a.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return I.test(t)?t:k}catch(r){return k}}var O="firebase-installations-database",N=1,x="firebase-installations-store",R=null;function P(){return R||(R=Object(u.openDb)(O,N,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(x)}}))),R}function D(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return n=L(e),[4,P()];case 1:return r=o.sent(),[4,(i=r.transaction(x,"readwrite")).objectStore(x).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function M(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return t=L(e),[4,P()];case 1:return n=i.sent(),[4,(r=n.transaction(x,"readwrite")).objectStore(x).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function j(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=L(e),[4,P()];case 1:return r=a.sent(),i=r.transaction(x,"readwrite"),[4,(o=i.objectStore(x)).get(n)];case 2:return s=a.sent(),void 0!==(u=t(s))?[3,4]:[4,o.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:a.sent(),a.label=6;case 6:return[4,i.complete];case 7:return a.sent(),[2,u]}}))}))}function L(e){return e.appName+"!"+e.appId}function F(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,j(e,(function(n){var r=function(e){return V(e||{fid:A(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(v.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,T(e,t)];case 1:return n=i.sent(),[2,D(e,n)];case 2:return m(r=i.sent())&&409===r.serverCode?[4,M(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,D(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:U(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return(n=i.sent()).fid!==k?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function U(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,B(e)];case 1:t=n.sent(),n.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,C(100)];case 3:return n.sent(),[4,B(e)];case 4:return t=n.sent(),[3,2];case 5:if(0===t.registrationStatus)throw v.create("create-installation-failed");return[2,t]}}))}))}function B(e){return j(e,(function(e){if(!e)throw v.create("installation-not-found");return V(e)}))}function V(e){return 1===(t=e).registrationStatus&&t.registrationTime+c<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function q(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return y(e)+"/"+n+"/authTokens:generate"}(e,t),r=E(e,t),i={installation:{sdkVersion:l}},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,S((function(){return fetch(n,o)}))];case 1:return(s=a.sent()).ok?[4,s.json()]:[3,3];case 2:return u=a.sent(),[2,b(u)];case 3:return[4,w("Generate Auth Token",s)];case 4:throw a.sent()}}))}))}function W(e,t){return void 0===t&&(t=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,j(e,(function(r){if(!K(r))throw v.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+d}(e)}(i))return r;if(1===i.requestStatus)return n=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,z(e)];case 1:t=r.sent(),r.label=2;case 2:return 1!==t.authToken.requestStatus?[3,5]:[4,C(100)];case 3:return r.sent(),[4,z(e)];case 4:return t=r.sent(),[3,2];case 5:if(0===(n=t.authToken).requestStatus)throw v.create("generate-token-failed");return[2,n]}}))}))}(e),r;if(!navigator.onLine)throw v.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(a.__assign)(Object(a.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,q(e,t)];case 1:return n=o.sent(),i=Object(a.__assign)(Object(a.__assign)({},t),{authToken:n}),[4,D(e,i)];case 2:return o.sent(),[2,n];case 3:return!m(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,M(e)];case 4:return o.sent(),[3,7];case 5:return i=Object(a.__assign)(Object(a.__assign)({},t),{authToken:{requestStatus:0}}),[4,D(e,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i.token]}}))}))}function z(e){return j(e,(function(e){if(!K(e))throw v.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+c<Date.now()?Object(a.__assign)(Object(a.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function K(e){return void 0!==e&&2===e.registrationStatus}function H(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,F(e)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?[4,r]:[3,3];case 2:return i.sent(),[3,4];case 3:if(2!==n.registrationStatus)throw v.create("create-installation-failed");i.label=4;case 4:return[2]}}))}))}function G(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return y(e)+"/"+n}(e,t),r=E(e,t),i={method:"DELETE",headers:r},[4,S((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,w("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Q(e){e.INTERNAL.registerService("installations",(function(e){return g(e),{app:e,getId:function(){return function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,F(t=g(e))];case 1:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)&&i.catch((function(){})),2===r.registrationStatus&&W(t).catch((function(){})),[2,r.fid]}}))}))}(e)},getToken:function(t){return function(e,t){return void 0===t&&(t=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,H(n=g(e))];case 1:return r.sent(),[2,W(n,t)]}}))}))}(e,t)},delete:function(){return function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,j(t=g(e),(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw v.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw v.create("app-offline");case 3:return[4,G(t,n)];case 4:return r.sent(),[4,M(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(e)}}}))}Q(o.a)},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(29))},,function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)o(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=e.exports=n(56)).Stream=t,t.Readable=t,t.Writable=n(44),t.Duplex=n(30),t.Transform=n(61),t.PassThrough=n(113)},function(e,t,n){var r=n(43),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(e){var r=n(104),i=n(105),o=n(57);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return W(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return _(e,t,n,r)}function S(e,t,n,r){return W(q(t),e,n,r)}function T(e,t,n,r){return W(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:V(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(7))},function(e,t,n){"use strict";(function(t,r,i){var o=n(38);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=g;var c=n(34);c.inherits=n(32);var l={deprecate:n(111)},f=n(58),h=n(42).Buffer,d=i.Uint8Array||function(){};var p,v=n(59);function m(){}function g(e,t){s=s||n(30),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}(e,n,r,t,i);else{var a=E(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),r?u(w,e,n,a,i):w(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(30),!p.call(y,this)&&!(this instanceof s))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=E(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(y,f),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof g)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=m),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=h.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return u}(this,i,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(29),n(109).setImmediate,n(7))},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(7))},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";(function(e){for(var n="undefined"!==typeof window&&"undefined"!==typeof document,r=["Edge","Trident","Firefox"],i=0,o=0;o<r.length;o+=1)if(n&&navigator.userAgent.indexOf(r[o])>=0){i=1;break}var a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),i))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:l(c(e))}var f=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?f:10===e?h:f||h}function p(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function v(e){return null!==e.parentNode?v(e.parentNode):e}function m(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(a)?a:p(a);var s=v(e);return s.host?m(s.host,t):m(e,v(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(e){return T({},e,{right:e.left+e.width,bottom:e.top+e.height})}function I(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?w(e.ownerDocument):{},a=o.width||e.clientWidth||i.right-i.left,s=o.height||e.clientHeight||i.bottom-i.top,c=e.offsetWidth-a,l=e.offsetHeight-s;if(c||l){var f=u(e);c-=y(f,"x"),l-=y(f,"y"),i.width-=c,i.height-=l}return C(i)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),i="HTML"===t.nodeName,o=I(e),a=I(t),s=l(e),c=u(t),f=parseFloat(c.borderTopWidth,10),h=parseFloat(c.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=C({top:o.top-a.top-f,left:o.left-a.left-h,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var v=parseFloat(c.marginTop,10),m=parseFloat(c.marginLeft,10);p.top-=f-v,p.bottom-=f-v,p.left-=h-m,p.right-=h-m,p.marginTop=v,p.marginLeft=m}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),i=g(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(p,t)),p}function A(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===u(t,"transform");)t=t.parentElement;return t||document.documentElement}function O(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?A(e):m(e,t);if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=k(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:g(n),s=t?0:g(n,"left");return C({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=l(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var f=k(s,a,i);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===u(t,"position"))return!0;var r=c(t);return!!r&&e(r)}(a))o=f;else{var h=w(e.ownerDocument),d=h.height,p=h.width;o.top+=f.top-f.marginTop,o.bottom=d+f.top,o.left+=f.left-f.marginLeft,o.right=p+f.left}}var v="number"===typeof(n=n||0);return o.left+=v?n:n.left||0,o.top+=v?n:n.top||0,o.right-=v?n:n.right||0,o.bottom-=v?n:n.bottom||0,o}function N(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=O(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map((function(e){return T({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,r?A(t):m(t,n),r)}function R(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function P(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function D(e,t,n){n=n.split("-")[0];var r=R(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[P(s)],i}function M(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=M(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))})),t}function L(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=x(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=N(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function F(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function U(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function B(){return this.state.isDestroyed=!0,F(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(e){var t=e.ownerDocument;return t?t.defaultView:window}function q(e,t,n,r){n.updateBound=r,V(e).addEventListener("resize",n.updateBound,{passive:!0});var i=l(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),o||e(l(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function W(){this.state.eventsEnabled||(this.state=q(this.reference,this.options,this.state,this.scheduleUpdate))}function z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,V(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function K(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var G=n&&/Firefox/i.test(navigator.userAgent);function Q(e,t,n){var r=M(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$=Y.slice(3);function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$.indexOf(e),r=$.slice(n+1).concat($.slice(0,n));return t?r.reverse():r}var J={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Z(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(M(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return C(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){K(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ee={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:S({},u,o[u]),end:S({},u,o[u]+o[c]-a[c])};e.offsets.popper=T({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=K(+n)?[+n,0]:Z(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=U("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=O(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),S({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),S({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=T({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",f=c?"Top":"Left",h=f.toLowerCase(),d=c?"left":"top",p=c?"bottom":"right",v=R(r)[l];s[p]-v<a[h]&&(e.offsets.popper[h]-=a[h]-(s[p]-v)),s[h]+v>a[p]&&(e.offsets.popper[h]+=s[h]+v-a[p]),e.offsets.popper=C(e.offsets.popper);var m=s[h]+s[l]/2-v/2,g=u(e.instance.popper),y=parseFloat(g["margin"+f],10),b=parseFloat(g["border"+f+"Width"],10),w=m-e.offsets.popper[h]-y-b;return w=Math.max(Math.min(a[l]-v,w),0),e.arrowElement=r,e.offsets.arrow=(S(n={},h,Math.round(w)),S(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(F(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=O(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=P(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case J.FLIP:a=[r,i];break;case J.CLOCKWISE:a=X(r);break;case J.COUNTERCLOCKWISE:a=X(r,!0);break;default:a=t.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=P(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,h="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),d=f(c.left)<f(n.left),p=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),g="left"===r&&d||"right"===r&&p||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&v||!y&&"end"===o&&m),w=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&d||!y&&"start"===o&&m||!y&&"end"===o&&v),_=b||w;(h||g||_)&&(e.flipped=!0,(h||g)&&(r=a[u+1]),_&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=T({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=P(t),e.offsets.popper=C(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=M(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=M(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=p(e.instance.popper),u=I(s),c={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),h=t?l||f||u%2===c%2?o:a:s,d=t?o:s;return{left:h(u%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:h(r.right)}}(e,window.devicePixelRatio<2||!G),f="bottom"===n?"top":"bottom",h="right"===r?"left":"right",d=U("transform"),v=void 0,m=void 0;if(m="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,v="right"===h?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&d)c[d]="translate3d("+v+"px, "+m+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,y="right"===h?-1:1;c[f]=m*g,c[h]=v*y,c.willChange=f+", "+h}var b={"x-placement":e.placement};return e.attributes=T({},b,e.attributes),e.styles=T({},c,e.styles),e.arrowStyles=T({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return H(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=x(i,t,e,n.positionFixed),a=N(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),H(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},te=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=T({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(T({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=T({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return T({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return E(e,[{key:"update",value:function(){return L.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return W.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();te.Utils=("undefined"!==typeof window?window:e).PopperUtils,te.placements=Y,te.Defaults=ee,t.a=te}).call(this,n(7))},function(e,t,n){var r=n(102);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=p&&p!==v,E="+"===b||"*"===b,S="?"===b||"*"===b,T=n[2]||l,C=g||y;r.push({name:m||o++,prefix:v||"",delimiter:T,optional:S,repeat:E,partial:_,asterisk:!!w,pattern:C?c(C):w?".*":"[^"+u(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!t[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!t[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){e.exports=n(118)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";n.r(t),function(e){var t=n(4),r=n.n(t);(function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ja(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ja(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ja(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self;function c(e){return"string"==typeof e}function l(e){return"boolean"==typeof e}var f=/^[\w+/_-]+[=]{0,2}$/,h=null;function d(){}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function v(e){return null===e}function m(e){return"array"==p(e)}function g(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function y(e){return"function"==p(e)}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function E(e,t,n){return e.call.apply(e.bind,arguments)}function S(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function T(e,t,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:S).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now||function(){return+new Date};function k(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.fd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function A(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function O(e){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function N(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");O.call(this,n+e[r])}function x(e,t){throw new N("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function R(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function P(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function D(){this.b=this.a=null}k(O,Error),O.prototype.name="CustomError",k(N,O),N.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var M=new R((function(){return new L}),(function(e){e.reset()}));function j(){var e=ze,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function L(){this.next=this.b=this.a=null}function F(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(b(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}D.prototype.add=function(e,t){var n=M.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},L.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(c(e))return c(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=c(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function W(e,t){return 0<=U(e,t)}function z(e,t){var n;return(n=0<=(t=U(e,t)))&&Array.prototype.splice.call(e,t,1),n}function K(e,t){!function(e,t){for(var n=c(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function H(e){return Array.prototype.concat.apply([],arguments)}function G(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Q(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Y(e){for(var t in e)return!1;return!0}function $(e){var t,n={};for(t in e)n[t]=e[t];return n}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<X.length;o++)n=X[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Z(e,t){this.a=e===ne&&t||"",this.b=te}function ee(e){return e instanceof Z&&e.constructor===Z&&e.b===te?e.a:(x("expected object of type Const, got '"+e+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var te={},ne={},re=new Z(ne,"");function ie(){this.a="",this.b=ce}function oe(e){return e instanceof ie&&e.constructor===ie&&e.b===ce?e.a:(x("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function ae(e,t){var n=ee(e);if(!ue.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return le(e=n.replace(se,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof Z?ee(e):encodeURIComponent(String(e))})))}ie.prototype.qa=!0,ie.prototype.pa=function(){return this.a.toString()},ie.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var se=/%{(\w+)}/g,ue=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ce={};function le(e){var t=new ie;return t.a=e,t}var fe=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},he=/&/g,de=/</g,pe=/>/g,ve=/"/g,me=/'/g,ge=/\x00/g,ye=/[\x00&<>"']/;function be(e,t){return-1!=e.indexOf(t)}function we(e,t){return e<t?-1:e>t?1:0}function _e(){this.a="",this.b=Ie}function Ee(e){return e instanceof _e&&e.constructor===_e&&e.b===Ie?e.a:(x("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}_e.prototype.qa=!0,_e.prototype.pa=function(){return this.a.toString()},_e.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Se=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Te(e){return e instanceof _e?e:(e="object"==typeof e&&e.qa?e.pa():String(e),Se.test(e)||(e="about:invalid#zClosurez"),ke(e))}var Ce,Ie={};function ke(e){var t=new _e;return t.a=e,t}ke("about:blank");e:{var Ae=u.navigator;if(Ae){var Oe=Ae.userAgent;if(Oe){Ce=Oe;break e}}Ce=""}function Ne(e){return be(Ce,e)}function xe(){this.a="",this.b=Pe}function Re(e){return e instanceof xe&&e.constructor===xe&&e.b===Pe?e.a:(x("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}xe.prototype.qa=!0,xe.prototype.pa=function(){return this.a.toString()},xe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pe={};function De(e){var t=new xe;return t.a=e,t}De("<!DOCTYPE html>");var Me,je,Le=De("");function Fe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ue(e){return ye.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(he,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(de,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(pe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ve,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(me,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ge,"&#0;"))),e}function Be(e){u.setTimeout((function(){throw e}),0)}function Ve(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Ne("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=le(ee(re));F(e,"HTMLIFrameElement"),e.src=oe(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(Re(Le)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=T((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!Ne("Trident")&&!Ne("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}function qe(e,t){je||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);je=function(){e.then(Ke)}}else je=function(){var e=Ke;!y(u.setImmediate)||u.Window&&u.Window.prototype&&!Ne("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Me||(Me=Ve()),Me(e)):u.setImmediate(e)}}(),We||(je(),We=!0),ze.add(e,t)}De("<br>");var We=!1,ze=new D;function Ke(){for(var e;e=j();){try{e.a.call(e.b)}catch(t){Be(t)}P(M,e)}We=!1}function He(e,t){if(this.a=Ge,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=d)try{var n=this;e.call(t,(function(e){ot(n,Qe,e)}),(function(e){if(!(e instanceof ht))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}ot(n,Ye,e)}))}catch(r){ot(this,Ye,r)}}var Ge=0,Qe=2,Ye=3;function $e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}$e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Xe=new R((function(){return new $e}),(function(e){e.reset()}));function Je(e,t,n){var r=Xe.get();return r.g=e,r.b=t,r.f=n,r}function Ze(e){if(e instanceof He)return e;var t=new He(d);return ot(t,Qe,e),t}function et(e){return new He((function(t,n){n(e)}))}function tt(e,t,n){at(e,t,n,null)||qe(C(t,e))}function nt(e){return new He((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)tt(e[o],C(i,o,!0),C(i,o,!1));else t(r)}))}function rt(e,t){e.b||e.a!=Qe&&e.a!=Ye||st(e),e.f?e.f.next=t:e.b=t,e.f=t}function it(e,t,n,r){var i=Je(null,null,null);return i.a=new He((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof ht?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,rt(e,i),i.a}function ot(e,t,n){e.a==Ge&&(e===n&&(t=Ye,n=new TypeError("Promise cannot resolve to itself")),e.a=1,at(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,st(e),t!=Ye||n instanceof ht||function(e,t){e.g=!0,qe((function(){e.g&&ft.call(null,t)}))}(e,n)))}function at(e,t,n,r){if(e instanceof He)return rt(e,Je(t||d,n||null,r)),!0;if(A(e))return e.then(t,n,r),!0;if(b(e))try{var i=e.then;if(y(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function st(e){e.h||(e.h=!0,qe(e.Zb,e))}function ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function ct(e,t,n,r){if(n==Ye&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,lt(t,n,r);else try{t.c?t.g.call(t.f):lt(t,n,r)}catch(i){ft.call(null,i)}P(Xe,t)}function lt(e,t,n){t==Qe?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}He.prototype.then=function(e,t,n){return it(this,y(e)?e:null,y(t)?t:null,n)},He.prototype.$goog_Thenable=!0,(t=He.prototype).ka=function(e,t){return(e=Je(e,e,t)).c=!0,rt(this,e),this},t.s=function(e,t){return it(this,null,e,t)},t.cancel=function(e){this.a==Ge&&qe((function(){!function e(t,n){if(t.a==Ge)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Ge&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):ut(r),ct(r,o,Ye,n)))}t.c=null}else ot(t,Ye,n)}(this,new ht(e))}),this)},t.Oc=function(e){this.a=Ge,ot(this,Qe,e)},t.Pc=function(e){this.a=Ge,ot(this,Ye,e)},t.Zb=function(){for(var e;e=ut(this);)ct(this,e,this.a,this.i);this.h=!1};var ft=Be;function ht(e){O.call(this,e)}function dt(){0!=pt&&(vt[this[w]||(this[w]=++_)]=this),this.ta=this.ta,this.la=this.la}k(ht,O),ht.prototype.name="cancel";var pt=0,vt={};function mt(e){if(!e.ta&&(e.ta=!0,e.xa(),0!=pt)){var t=e[w]||(e[w]=++_);if(0!=pt&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete vt[t]}}function gt(e){return gt[" "](e),e}dt.prototype.ta=!1,dt.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},gt[" "]=d;var yt,bt=Ne("Opera"),wt=Ne("Trident")||Ne("MSIE"),_t=Ne("Edge"),Et=_t||wt,St=Ne("Gecko")&&!(be(Ce.toLowerCase(),"webkit")&&!Ne("Edge"))&&!(Ne("Trident")||Ne("MSIE"))&&!Ne("Edge"),Tt=be(Ce.toLowerCase(),"webkit")&&!Ne("Edge");function Ct(){var e=u.document;return e?e.documentMode:void 0}e:{var It="",kt=function(){var e=Ce;return St?/rv:([^\);]+)(\)|;)/.exec(e):_t?/Edge\/([\d\.]+)/.exec(e):wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Tt?/WebKit\/(\S+)/.exec(e):bt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(kt&&(It=kt?kt[1]:""),wt){var At=Ct();if(null!=At&&At>parseFloat(It)){yt=String(At);break e}}yt=It}var Ot,Nt={};function xt(e){return function(e,t){var n=Nt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=fe(String(yt)).split("."),r=fe(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=we(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||we(0==a[2].length,0==s[2].length)||we(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}Ot=u.document&&wt?Ct():void 0;var Rt=Object.freeze||function(e){return e},Pt=!wt||9<=Number(Ot),Dt=wt&&!xt("9"),Mt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",d,t),u.removeEventListener("test",d,t)}catch(n){}return e}();function jt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Lt(e,t){if(jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(St){e:{try{gt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=c(e.pointerType)?e.pointerType:Ft[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}jt.prototype.preventDefault=function(){this.Mb=!1},k(Lt,jt);var Ft=Rt({2:"touch",3:"pen",4:"mouse"});Lt.prototype.preventDefault=function(){Lt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Dt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Lt.prototype.f=function(){return this.a};var Ut="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function Vt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++Bt,this.ra=this.Ia=!1}function qt(e){e.ra=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function Wt(e){this.src=e,this.a={},this.b=0}function zt(e,t){var n=t.type;n in e.a&&z(e.a[n],t)&&(qt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Kt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ra&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}Wt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Kt(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new Vt(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var Ht="closure_lm_"+(1e6*Math.random()|0),Gt={};function Qt(e,t,n,r,i){if(r&&r.once)$t(e,t,n,r,i);else if(m(t))for(var o=0;o<t.length;o++)Qt(e,t[o],n,r,i);else n=an(n),e&&e[Ut]?un(e,t,n,b(r)?!!r.capture:!!r,i):Yt(e,t,n,!1,r,i)}function Yt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=rn(e);if(s||(e[Ht]=s=new Wt(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=nn,t=Pt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function $t(e,t,n,r,i){if(m(t))for(var o=0;o<t.length;o++)$t(e,t[o],n,r,i);else n=an(n),e&&e[Ut]?cn(e,t,n,b(r)?!!r.capture:!!r,i):Yt(e,t,n,!0,r,i)}function Xt(e,t,n,r,i){if(m(t))for(var o=0;o<t.length;o++)Xt(e,t[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=an(n),e&&e[Ut]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=Kt(o=e.a[t],n,r,i))&&(qt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=rn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Kt(t,n,r,i)),(n=-1<e?t[e]:null)&&Jt(n))}function Jt(e){if("number"!=typeof e&&e&&!e.ra){var t=e.src;if(t&&t[Ut])zt(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),0,(n=rn(t))?(zt(n,e),0==n.b&&(n.src=null,t[Ht]=null)):qt(e)}}}function Zt(e){return e in Gt?Gt[e]:Gt[e]="on"+e}function en(e,t,n,r){var i=!0;if((e=rn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ra&&(o=tn(o,r),i=i&&!1!==o)}return i}function tn(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Jt(e),n.call(r,t)}function nn(e,t){if(e.ra)return!0;if(!Pt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Lt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=en(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=en(r[i],e,!1,t),n=n&&o}return n}return tn(e,new Lt(t,this))}function rn(e){return(e=e[Ht])instanceof Wt?e:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(e){return y(e)?e:(e[on]||(e[on]=function(t){return e.handleEvent(t)}),e[on])}function sn(){dt.call(this),this.u=new Wt(this),this.Sb=this,this.Wa=null}function un(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function cn(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function ln(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&zt(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function fn(e,t,n){if(y(e))n&&(e=T(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=T(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function hn(e){var t=null;return new He((function(n,r){-1==(t=fn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw u.clearTimeout(t),e}))}function dn(e){if(e.U&&"function"==typeof e.U)return e.U();if(c(e))return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function pn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(g(e)||c(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function vn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof vn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function mn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];gn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)gn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(sn,dt),sn.prototype[Ut]=!0,sn.prototype.addEventListener=function(e,t,n,r){Qt(this,e,t,n,r)},sn.prototype.removeEventListener=function(e,t,n,r){Xt(this,e,t,n,r)},sn.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Sb;var r=e.type||e;if(c(e))e=new jt(e,n);else if(e instanceof jt)e.target=e.target||n;else{var i=e;J(e=new jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=ln(a,r,!0,e)&&i}if(i=ln(a=e.b=n,r,!0,e)&&i,i=ln(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ln(a=e.b=t[o],r,!1,e)&&i;return i},sn.prototype.xa=function(){if(sn.qb.xa.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,qt(n[r]);delete t.a[e],t.b--}}this.Wa=null},(t=vn.prototype).U=function(){mn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.X=function(){return mn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(e,t){return gn(this.b,e)?this.b[e]:t},t.set=function(e,t){gn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var yn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof bn?(this.h=void 0!==t?t:e.h,wn(this,e.f),this.i=e.i,this.b=e.b,_n(this,e.l),this.c=e.c,En(this,Vn(e.a)),this.g=e.g):e&&(n=String(e).match(yn))?(this.h=!!t,wn(this,n[1]||"",!0),this.i=kn(n[2]||""),this.b=kn(n[3]||"",!0),_n(this,n[4]),this.c=kn(n[5]||"",!0),En(this,n[6]||"",!0),this.g=kn(n[7]||"")):(this.h=!!t,this.a=new Mn(null,this.h))}function wn(e,t,n){e.f=n?kn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function _n(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function En(e,t,n){t instanceof Mn?(e.a=t,function(e,t){t&&!e.f&&(jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fn(this,t),Bn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=An(t,Pn)),e.a=new Mn(t,e.h))}function Sn(e,t,n){e.a.set(t,n)}function Tn(e,t){return e.a.get(t)}function Cn(e){return e instanceof bn?new bn(e):new bn(e,void 0)}function In(e,t){var n=new bn(null,void 0);return wn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function An(e,t,n){return c(e)?(e=encodeURI(e).replace(t,On),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function On(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(An(t,Nn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(An(t,Nn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(An(n,"/"==n.charAt(0)?Rn:xn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",An(n,Dn)),e.join("")},bn.prototype.resolve=function(e){var t=new bn(this),n=!!e.f;n?wn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)_n(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(be(i,"./")||be(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?En(t,Vn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var Nn=/[#\/\?@]/g,xn=/[#\?:]/g,Rn=/[#\?]/g,Pn=/[#\?@]/g,Dn=/#/g;function Mn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function jn(e){e.a||(e.a=new vn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ln(e){var t=pn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Mn(null,void 0);e=dn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];m(o)?Bn(n,i,o):n.add(i,o)}return n}function Fn(e,t){jn(e),t=qn(e,t),gn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,gn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&mn(e)))}function Un(e,t){return jn(e),t=qn(e,t),gn(e.a.b,t)}function Bn(e,t,n){Fn(e,t),0<n.length&&(e.c=null,e.a.set(qn(e,t),G(n)),e.b+=n.length)}function Vn(e){var t=new Mn;return t.c=e.c,e.a&&(t.a=new vn(e.a),t.b=e.b),t}function qn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(t=Mn.prototype).add=function(e,t){jn(this),this.c=null,e=qn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(e,t){jn(this),this.a.forEach((function(n,r){B(n,(function(n){e.call(t,n,r,this)}),this)}),this)},t.X=function(){jn(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},t.U=function(e){jn(this);var t=[];if(c(e))Un(this,e)&&(t=H(t,this.a.get(qn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=H(t,e[n])}return t},t.set=function(e,t){return jn(this),this.c=null,Un(this,e=qn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Wn=!wt||9<=Number(Ot);function zn(e){var t=document;return c(e)?t.getElementById(e):e}function Kn(e,t){Q(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Hn.hasOwnProperty(n)?e.setAttribute(Hn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var Hn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Gn(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!Wn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ue(a.name),'"'),a.type){o.push(' type="',Ue(a.type),'"');var s={};J(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(c(a)?o.className=a:m(a)?o.className=a.join(" "):Kn(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(c(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||b(o)&&0<o.nodeType?r(o):B(Qn(o)?G(o):o,r)}}(i,o,r),o}function Qn(e){if(e&&"number"==typeof e.length){if(b(e))return"function"==typeof e.item||"string"==typeof e.item;if(y(e))return"function"==typeof e.item}return!1}function Yn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(m(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new $n,e,t),t.join("")}function $n(){}var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(e,t){t.push('"',e.replace(Jn,(function(e){var t=Xn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Xn[e]=t),t})),'"')}function er(){var e=br();return wt&&!!Ot&&11==Ot||/Edge\/\d+/.test(e)}function tr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function nr(e,t){t=t||u.window;var n="about:blank";e&&(n=Ee(Te(e)).toString()),t.location.href=n}function rr(e){return!!((e=(e||br()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ir(e){e=e||u.window;try{e.close()}catch(t){}}function or(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=br().toLowerCase(),r&&(t.target=r,be(n,"crios/")&&(t.target="_blank")),mr(br())==pr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof _e?n:Te("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((Ne("iPhone")&&!Ne("iPod")&&!Ne("iPad")||Ne("iPad")||Ne("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(F(a=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof _e||t instanceof _e||(t="object"==typeof t&&t.qa?t.pa():String(t),Se.test(t)||(t="about:invalid#zClosurez"),t=ke(t)),a.href=Ee(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Ee(t).toString(),a&&(Et&&be(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=De('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ue(e)+'">'),a.document.write(Re(e)),a.document.close())):(a=r.open(Ee(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ur(){var e=null;return new He((function(t){"complete"==u.document.readyState?t():(e=function(){t()},$t(window,"load",e))})).s((function(t){throw Xt(window,"load",e),t}))}function cr(e){return e=e||br(),!("file:"!==Tr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function fr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function hr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":fr()?"Worker":"Browser"}function dr(){var e=hr();return"ReactNative"===e||"Node"===e}var pr="Firefox",vr="Chrome";function mr(e){var t=e.toLowerCase();return be(t,"opera/")||be(t,"opr/")||be(t,"opios/")?"Opera":be(t,"iemobile")?"IEMobile":be(t,"msie")||be(t,"trident/")?"IE":be(t,"edge/")?"Edge":be(t,"firefox/")?pr:be(t,"silk/")?"Silk":be(t,"blackberry")?"Blackberry":be(t,"webos")?"Webos":!be(t,"safari/")||be(t,"chrome/")||be(t,"crios/")||be(t,"android")?!be(t,"chrome/")&&!be(t,"crios/")||be(t,"edge/")?be(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":vr:"Safari"}var gr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function yr(e,t){t=t||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=hr())?r=mr(i=br()):"Worker"===r&&(r=mr(i=br())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function br(){return u.navigator&&u.navigator.userAgent||""}function wr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function _r(){try{var e=u.localStorage,t=Or();if(e)return e.setItem(t,"1"),e.removeItem(t),!er()||!!u.indexedDB}catch(n){return fr()&&!!u.indexedDB}return!1}function Er(){return(Sr()||"chrome-extension:"===Tr()||cr())&&!dr()&&_r()&&!fr()}function Sr(){return"http:"===Tr()||"https:"===Tr()}function Tr(){return u.location&&u.location.protocol||null}function Cr(e){return!rr(e=e||br())&&mr(e)!=pr}function Ir(e){return"undefined"===typeof e?null:Yn(e)}function kr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ar(e){if(null!==e)return JSON.parse(e)}function Or(e){return e||Math.floor(1e9*Math.random()).toString()}function Nr(e){return"Safari"!=mr(e=e||br())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Rr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=br(),t=hr(),this.b=rr(e)||"ReactNative"===t}function Pr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Dr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Mr(){return!(!wr("fireauth.oauthhelper",u)&&!wr("fireauth.iframe",u))}Rr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Sr()&&"chrome-extension:"!==Tr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Lr={};function Fr(e){Lr[e]||(Lr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Ur={};Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Ur.abcd}catch(Ho){jr=!1}function Br(e,t,n){jr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Vr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Br(e,n,t[n])}function qr(e){var t={};return Vr(t,e),t}function Wr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Br(t,n,Wr(e[n]));return t}function zr(e){var t={},n=e[Hr],r=e[Gr];if(!(e=e[Qr])||e!=Kr&&!n)throw Error("Invalid provider user info!");t[$r]=r||null,t[Yr]=n||null,Br(this,Jr,e),Br(this,Xr,Wr(t))}var Kr="EMAIL_SIGNIN",Hr="email",Gr="newEmail",Qr="requestType",Yr="email",$r="fromEmail",Xr="data",Jr="operation";function Zr(e,t){this.code=ti+e,this.message=t||ni[e]||""}function ei(e){var t=e&&e.code;return t?new Zr(t.substring(ti.length),e.message):null}k(Zr,Error),Zr.prototype.A=function(){return{code:this.code,message:this.message}},Zr.prototype.toJSON=function(){return this.A()};var ti="auth/",ni={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ri(e){var t=Tn(e=Cn(e),ii)||null,n=Tn(e,oi)||null,r=Tn(e,ui)||null;if(r=r&&li[r]||null,!t||!n||!r)throw new Zr("argument-error",ii+", "+oi+"and "+ui+" are required in a valid action code URL.");Vr(this,{apiKey:t,operation:r,code:n,continueUrl:Tn(e,ai)||null,languageCode:Tn(e,si)||null,tenantId:Tn(e,ci)||null})}var ii="apiKey",oi="oobCode",ai="continueUrl",si="languageCode",ui="mode",ci="tenantId",li={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Kr,verifyEmail:"VERIFY_EMAIL"};function fi(e){try{return new ri(e)}catch(t){return null}}function hi(e){var t=e[gi];if("undefined"===typeof t)throw new Zr("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new Zr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[di];if(n&&"object"===typeof n){t=n[wi];var r=n[yi];if(n=n[bi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Zr("argument-error",yi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Zr("argument-error",bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new Zr("argument-error",wi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Zr("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Zr("argument-error",di+" property must be a non null object when specified.");if(this.f=null,(t=e[mi])&&"object"===typeof t){if("string"===typeof(t=t[_i])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new Zr("argument-error",_i+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new Zr("argument-error",mi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[vi])&&"boolean"!==typeof t)throw new Zr("argument-error",vi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[pi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new Zr("argument-error",pi+" property must be a non empty string when specified.");this.i=e||null}var di="android",pi="dynamicLinkDomain",vi="handleCodeInApp",mi="iOS",gi="url",yi="installApp",bi="minimumVersion",wi="packageName",_i="bundleId";function Ei(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Si=null,Ti=null;function Ci(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ti[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Si){Si={},Ti={};for(var e=0;65>e;e++)Si[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Ti[Si[e]]=e,62<=e&&(Ti["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Ii(e){this.f=e.sub,I(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ki(e){return(e=Ai(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ii(e):null}function Ai(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Ci(e))}catch(r){}return null}Ii.prototype.R=function(){return this.c},Ii.prototype.g=function(){return this.b};var Oi,Ni={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function xi(e){for(var t in Ni)if(Ni[t].id===e)return{firebaseEndpoint:(e=Ni[t]).bb,secureTokenEndpoint:e.ib};return null}Oi=xi("__EID__")?"__EID__":void 0;var Ri="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Pi=["client_id","response_type","scope","redirect_uri","state"],Di={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Pi},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Pi},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Pi},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Ri}};function Mi(e){for(var t in Di)if(Di[t].Pa==e)return Di[t];return null}function ji(e){var t={};t["facebook.com"]=Vi,t["google.com"]=Wi,t["github.com"]=qi,t["twitter.com"]=zi;var n=e&&e[Fi];try{if(n)return t[n]?new t[n](e):new Bi(e);if("undefined"!==typeof e[Li])return new Ui(e)}catch(r){}return null}var Li="idToken",Fi="providerId";function Ui(e){var t=e[Fi];if(!t&&e[Li]){var n=ki(e[Li]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Br(this,"providerId",t),Br(this,"isNewUser",n)}function Bi(e){Ui.call(this,e),Br(this,"profile",Wr((e=Ar(e.rawUserInfo||"{}"))||{}))}function Vi(e){if(Bi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function qi(e){if(Bi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Wi(e){if(Bi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function zi(e){if(Bi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",e.screenName||null)}function Ki(e){var t=Cn(e),n=Tn(t,"link"),r=Tn(Cn(n),"link");return t=Tn(t,"deep_link_id"),Tn(Cn(t),"link")||t||r||n||e}function Hi(){}function Gi(e,t){return e.then((function(e){if(e[ja]){var n=ki(e[ja]);if(!n||t!=n.f)throw new Zr("user-mismatch");return e}throw new Zr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==ti+"user-not-found"?new Zr("user-mismatch"):e}))}function Qi(e,t){if(!t)throw new Zr("internal-error","failed to construct a credential");this.a=t,Br(this,"providerId",e),Br(this,"signInMethod",e)}function Yi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function $i(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Qi(e.providerId,e.pendingToken)}catch(t){}return null}function Xi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Br(this,"idToken",t.idToken),t.accessToken&&Br(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Br(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Zr("internal-error","failed to construct a credential");Br(this,"accessToken",t.oauthToken),Br(this,"secret",t.oauthTokenSecret)}Br(this,"providerId",e),Br(this,"signInMethod",n)}function Ji(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Ln(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Zi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Xi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function eo(e,t){this.Fc=t||[],Vr(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(Mi(e)||{}).Oa||null,this.ab=null}function to(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new Zr("argument-error",'SAML provider IDs must be prefixed with "saml."');eo.call(this,e,[])}function no(e){eo.call(this,e,Pi),this.a=[]}function ro(){no.call(this,"facebook.com")}function io(e){if(!e)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new ro).credential({accessToken:t})}function oo(){no.call(this,"github.com")}function ao(e){if(!e)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new oo).credential({accessToken:t})}function so(){no.call(this,"google.com"),this.wa("profile")}function uo(e,t){var n=e;return b(e)&&(n=e.idToken,t=e.accessToken),(new so).credential({idToken:n,accessToken:t})}function co(){eo.call(this,"twitter.com",Ri)}function lo(e,t){var n=e;if(b(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Zr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xi("twitter.com",n,"twitter.com")}function fo(e,t,n){this.a=e,this.c=t,Br(this,"providerId","password"),Br(this,"signInMethod",n===po.EMAIL_LINK_SIGN_IN_METHOD?po.EMAIL_LINK_SIGN_IN_METHOD:po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ho(e){return e&&e.email&&e.password?new fo(e.email,e.password,e.signInMethod):null}function po(){Vr(this,{providerId:"password",isOAuthProvider:!1})}function vo(e,t){if(!(t=mo(t)))throw new Zr("argument-error","Invalid email link!");return new fo(e,t.code,po.EMAIL_LINK_SIGN_IN_METHOD)}function mo(e){return(e=fi(e=Ki(e)))&&e.operation===Kr?e:null}function go(e){if(!(e.Ua&&e.Ta||e.Fa&&e.ba))throw new Zr("internal-error");this.a=e,Br(this,"providerId","phone"),Br(this,"signInMethod","phone")}function yo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new go(t)}return null}function bo(e){return e.a.Fa&&e.a.ba?{temporaryProof:e.a.Fa,phoneNumber:e.a.ba}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function wo(e){try{this.a=e||r.a.auth()}catch(t){throw new Zr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vr(this,{providerId:"phone",isOAuthProvider:!1})}function _o(e,t){if(!e)throw new Zr("missing-verification-id");if(!t)throw new Zr("missing-verification-code");return new go({Ua:e,Ta:t})}function Eo(e){if(e.temporaryProof&&e.phoneNumber)return new go({Fa:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return uo(o,n);case"facebook.com":return io(n);case"github.com":return ao(n);case"twitter.com":return lo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Qi(t,a):new Xi(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new no(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function So(e){if(!e.isOAuthProvider)throw new Zr("invalid-oauth-provider")}function To(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Zr("invalid-auth-event");if(this.g&&this.a)throw new Zr("invalid-auth-event");if(this.g&&!this.f)throw new Zr("invalid-auth-event")}function Co(e){return(e=e||{}).type?new To(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&ei(e.error),e.postBody,e.tenantId):null}function Io(){this.b=null,this.a=[]}k(Bi,Ui),k(Vi,Bi),k(qi,Bi),k(Wi,Bi),k(zi,Bi),Qi.prototype.na=function(e){return es(e,Yi(this))},Qi.prototype.b=function(e,t){var n=Yi(this);return n.idToken=t,ts(e,n)},Qi.prototype.f=function(e,t){return Gi(ns(e,Yi(this)),t)},Qi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Xi.prototype.na=function(e){return es(e,Ji(this))},Xi.prototype.b=function(e,t){var n=Ji(this);return n.idToken=t,ts(e,n)},Xi.prototype.f=function(e,t){return Gi(ns(e,Ji(this)),t)},Xi.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},eo.prototype.Ea=function(e){return this.zb=$(e),this},k(to,eo),k(no,eo),no.prototype.wa=function(e){return W(this.a,e)||this.a.push(e),this},no.prototype.Hb=function(){return G(this.a)},no.prototype.credential=function(e,t){var n;if(!(n=b(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Zr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xi(this.providerId,n,this.providerId)},k(ro,no),Br(ro,"PROVIDER_ID","facebook.com"),Br(ro,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(oo,no),Br(oo,"PROVIDER_ID","github.com"),Br(oo,"GITHUB_SIGN_IN_METHOD","github.com"),k(so,no),Br(so,"PROVIDER_ID","google.com"),Br(so,"GOOGLE_SIGN_IN_METHOD","google.com"),k(co,eo),Br(co,"PROVIDER_ID","twitter.com"),Br(co,"TWITTER_SIGN_IN_METHOD","twitter.com"),fo.prototype.na=function(e){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?xs(e,ls,{email:this.a,oobCode:this.c}):xs(e,ks,{email:this.a,password:this.c})},fo.prototype.b=function(e,t){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?xs(e,fs,{idToken:t,email:this.a,oobCode:this.c}):xs(e,_s,{idToken:t,email:this.a,password:this.c})},fo.prototype.f=function(e,t){return Gi(this.na(e),t)},fo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Vr(po,{PROVIDER_ID:"password"}),Vr(po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vr(po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),go.prototype.na=function(e){return e.Va(bo(this))},go.prototype.b=function(e,t){var n=bo(this);return n.idToken=t,xs(e,Os,n)},go.prototype.f=function(e,t){var n=bo(this);return n.operation="REAUTH",Gi(e=xs(e,Ns,n),t)},go.prototype.A=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.ba&&(e.phoneNumber=this.a.ba),e},wo.prototype.Va=function(e,t){var n=this.a.b;return Ze(t.verify()).then((function(r){if(!c(r))throw new Zr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return xs(e,bs,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new Zr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Vr(wo,{PROVIDER_ID:"phone"}),Vr(wo,{PHONE_SIGN_IN_METHOD:"phone"}),To.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},To.prototype.R=function(){return this.h},To.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var ko,Ao=null;function Oo(e){var t="unauthorized-domain",n=void 0,r=Cn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Zr.call(this,t,n)}function No(e,t,n){Zr.call(this,e,n),(e=t||{}).Ab&&Br(this,"email",e.Ab),e.ba&&Br(this,"phoneNumber",e.ba),e.credential&&Br(this,"credential",e.credential),e.Qb&&Br(this,"tenantId",e.Qb)}function xo(e){if(e.code){var t=e.code||"";0==t.indexOf(ti)&&(t=t.substring(ti.length));var n={credential:Eo(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Zr(t,e.message||void 0);return new No(t,n,e.message)}return null}function Ro(){}function Po(e){return e.c||(e.c=e.b())}function Do(){}function Mo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function jo(){}function Lo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.fc,this),this.a.onerror=T(this.Ib,this),this.a.onprogress=T(this.gc,this),this.a.ontimeout=T(this.kc,this)}function Fo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Uo(e,t,n){this.reset(e,t,n,void 0,void 0)}k(Oo,Zr),k(No,Zr),No.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&J(e,t),e},No.prototype.toJSON=function(){return this.A()},Ro.prototype.c=null,k(Do,Ro),Do.prototype.a=function(){var e=Mo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Do.prototype.b=function(){var e={};return Mo(this)&&(e[0]=!0,e[1]=!0),e},ko=new Do,k(jo,Ro),jo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Lo;throw Error("Unsupported browser")},jo.prototype.b=function(){return{}},(t=Lo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},t.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Fo(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Fo(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Fo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Uo.prototype.a=null;function Bo(e){this.f=e,this.b=this.c=this.a=null}function Vo(e,t){this.name=e,this.value=t}Uo.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||I(),delete this.a},Vo.prototype.toString=function(){return this.name};var qo=new Vo("SEVERE",1e3),Wo=new Vo("WARNING",900),zo=new Vo("CONFIG",700),Ko=new Vo("FINE",500);Bo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(x("Root logger has no level set."),null)}(this).value)for(y(t)&&(t=t()),e=new Uo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Ho,Go={},Qo=null;function Yo(e){var t;if(Qo||(Qo=new Bo(""),Go[""]=Qo,Qo.c=zo),!(t=Go[e])){t=new Bo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Yo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Go[e]=t}return t}function $o(e,t){e&&e.log(Ko,t,void 0)}function Xo(e){this.f=e}function Jo(e){sn.call(this),this.o=e,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Yo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(Xo,Ro),Xo.prototype.a=function(){return new Jo(this.f)},Xo.prototype.b=(Ho={},function(){return Ho}),k(Jo,sn);var Zo=0;function ea(e){e.c.read().then(e.ec.bind(e)).catch(e.Ma.bind(e))}function ta(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,na(e)}function na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ra(e){sn.call(this),this.headers=new vn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ia,this.v=this.P=!1}(t=Jo.prototype).open=function(e,t){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,na(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ta(this,!1)),this.readyState=Zo},t.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ea(this)):e.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ta(this,!0):na(this),3==this.readyState&&ea(this)}},t.ic=function(e){this.a&&(this.response=this.responseText=e,ta(this,!0))},t.hc=function(e){this.a&&(this.response=e,ta(this,!0))},t.Ma=function(e){var t=this.h;t&&t.log(Wo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ta(this,!0)},t.setRequestHeader=function(e,t){this.i.append(e,t)},t.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Wo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Wo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},k(ra,sn);var ia="";ra.prototype.b=Yo("goog.net.XhrIo");var oa=/^https?$/i,aa=["POST","PUT"];function sa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():ko.a(),e.w=e.B?Po(e.B):Po(ko),e.a.onreadystatechange=T(e.Lb,e);try{$o(e.b,ma(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(a){return $o(e.b,ma(e,"Error opening Xhr: "+a.message)),void ca(e,a)}t=r||"";var o=new vn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||c(e))B(e,t,void 0);else for(var n=pn(e),r=dn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ua,n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:c(e)?e.charAt(t):e[t]}(o.X()),r=u.FormData&&t instanceof u.FormData,!W(aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{da(e),0<e.g&&(e.v=function(e){return wt&&xt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),$o(e.b,ma(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=T(e.Ga,e)):e.o=fn(e.Ga,e.g,e)),$o(e.b,ma(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){$o(e.b,ma(e,"Send error: "+a.message)),ca(e,a)}}function ua(e){return"content-type"==e.toLowerCase()}function ca(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,la(e),ha(e)}function la(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function fa(e){if(e.c&&"undefined"!=typeof s)if(e.w[1]&&4==pa(e)&&2==va(e))$o(e.b,ma(e,"Local request error detected and ignored"));else if(e.i&&4==pa(e))fn(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==pa(e)){$o(e.b,ma(e,"Request complete")),e.c=!1;try{var t,n=va(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(yn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!oa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<pa(e)?e.a.statusText:""}catch(l){$o(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+va(e)+"]",la(e)}}finally{ha(e)}}}function ha(e,t){if(e.a){da(e);var n=e.a,r=e.w[0]?d:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(qo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function da(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(u.clearTimeout(e.o),e.o=null)}function pa(e){return e.a?e.a.readyState:0}function va(e){try{return 2<pa(e)?e.a.status:-1}catch(t){return-1}}function ma(e,t){return t+" ["+e.O+" "+e.l+" "+va(e)+"]"}function ga(e){var t=Aa;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ya(e,t,n){e.a=!0,e.c=n,e.f=!t,Ea(e)}function ba(e){if(e.a){if(!e.u)throw new Sa(e);e.u=!1}}function wa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ea(e)}function _a(e){return q(e.g,(function(e){return y(e[1])}))}function Ea(e){if(e.h&&e.a&&_a(e)){var t=e.h,n=Ia[t];n&&(u.clearTimeout(n.a),delete Ia[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(A(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,_a(e)||(n=!0)}}e.c=t,r&&(s=T(e.m,e,!0),r=T(e.m,e,!1),t instanceof ga?(wa(t,s,r),t.w=!0):t.then(s,r)),n&&(t=new Ca(t),Ia[t.a]=t,e.h=t.a)}function Sa(){O.call(this)}function Ta(){O.call(this)}function Ca(e){this.a=u.setTimeout(T(this.c,this),0),this.b=e}(t=ra.prototype).Ga=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",$o(this.b,ma(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&($o(this.b,ma(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ha(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ha(this,!0)),ra.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?fa(this):this.yc())},t.yc=function(){fa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(qo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return $o(this.b,"Can not get response: "+t.message),null}},ga.prototype.cancel=function(e){if(this.a)this.c instanceof ga&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Ta(this),ba(this),ya(this,!1,e))}},ga.prototype.m=function(e,t){this.i=!1,ya(this,e,t)},ga.prototype.then=function(e,t,n){var r,i,o=new He((function(e,t){r=e,i=t}));return wa(this,r,(function(e){e instanceof Ta?o.cancel():i(e)})),o.then(e,t,n)},ga.prototype.$goog_Thenable=!0,k(Sa,O),Sa.prototype.message="Deferred has already fired",Sa.prototype.name="AlreadyCalledError",k(Ta,O),Ta.prototype.message="Deferred was canceled",Ta.prototype.name="CanceledError",Ca.prototype.c=function(){throw delete Ia[this.a],this.b};var Ia={};function ka(e){var t={},n=t.document||document,r=oe(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new ga(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Oa(i,!0);var e=new Ra(xa,"Timeout reached for loading script "+r);ba(a),ya(a,!1,e)}),c),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Oa(i,t.gd||!1,s),ba(a),ya(a,!0,null))},i.onerror=function(){Oa(i,!0,s);var e=new Ra(Na,"Error while loading script "+r);ba(a),ya(a,!1,e)},J(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Kn(i,o),function(e,t){F(e,"HTMLScriptElement"),e.src=oe(t),null===h&&(h=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""),(t=h)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Aa(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Oa(e,!0,this.Ga)}}function Oa(e,t,n){null!=n&&u.clearTimeout(n),e.onload=d,e.onerror=d,e.onreadystatechange=d,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Na=0,xa=1;function Ra(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),O.call(this,n),this.code=e}function Pa(e){this.f=e}function Da(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||La,this.g=$(e.secureTokenHeaders||Fa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Ua,this.a=$(e.firebaseHeaders||Ba),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hr(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!fr())throw new Zr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,fr()?this.f=new Xo(self):dr()?this.f=new Pa(n):this.f=new jo,this.b=null}k(Ra,O),k(Pa,Ro),Pa.prototype.a=function(){return new this.f},Pa.prototype.b=function(){return{}};var Ma,ja="idToken",La=new Rr(3e4,6e4),Fa={"Content-Type":"application/x-www-form-urlencoded"},Ua=new Rr(3e4,6e4),Ba={"Content-Type":"application/json"};function Va(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function qa(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Wa(e,t,n,r,i,o,a){(function(){var e=br();return!((e=mr(e)!=vr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!wt||!Ot||9<Ot)})()||fr()?e=T(e.o,e):(Ma||(Ma=new He((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[Ka]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){wa(e,null,t,void 0)}(ka(ae(za,{onload:Ka})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=T(e.m,e)),e(t,n,r,i,o,a)}Da.prototype.R=function(){return this.b},Da.prototype.o=function(e,t,n,r,i,o){if(fr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new Zr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ra(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}un(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return $o(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),cn(a,"ready",(function(){s&&clearTimeout(s),mt(this)})),cn(a,"timeout",(function(){s&&clearTimeout(s),mt(this),t&&t(null)})),sa(a,e,n,r,i)};var za=new Z(ne,"https://apis.google.com/js/client.js?onload=%{onload}"),Ka="__fcb"+Math.floor(1e6*Math.random()).toString();function Ha(e){if(!c(e=e.email)||!sr.test(e))throw new Zr("invalid-email")}function Ga(e){"email"in e&&Ha(e)}function Qa(e){if(!e[ja])throw new Zr("internal-error")}function Ya(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Zr("internal-error")}else{if(!e.sessionInfo)throw new Zr("missing-verification-id");if(!e.code)throw new Zr("missing-verification-code")}}Da.prototype.m=function(e,t,n,r,i){var o=this;Ma.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Da.prototype.ob=function(){return xs(this,Es,{})},Da.prototype.rb=function(e,t){return xs(this,ws,{idToken:e,email:t})},Da.prototype.sb=function(e,t){return xs(this,_s,{idToken:e,password:t})};var $a={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Xa(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Zr("internal-error")}function Ja(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Un(e=new Mn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Za(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=xo(e)):e.errorMessage&&(t=Rs(e.errorMessage)),t)throw t;if(!e[ja])throw new Zr("internal-error")}function es(e,t){return t.returnIdpCredential=!0,xs(e,Ss,t)}function ts(e,t){return t.returnIdpCredential=!0,xs(e,Cs,t)}function ns(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,xs(e,Ts,t)}function rs(e){if(!e.oobCode)throw new Zr("invalid-action-code")}(t=Da.prototype).tb=function(e,t){var n={idToken:e},r=[];return Q($a,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),xs(this,ws,n)},t.kb=function(e,t){return J(e={requestType:"PASSWORD_RESET",email:e},t),xs(this,vs,e)},t.lb=function(e,t){return J(e={requestType:"EMAIL_SIGNIN",email:e},t),xs(this,ds,e)},t.jb=function(e,t){return J(e={requestType:"VERIFY_EMAIL",idToken:e},t),xs(this,ps,e)},t.Va=function(e){return xs(this,As,e)},t.$a=function(e,t){return xs(this,ys,{oobCode:e,newPassword:t})},t.Ka=function(e){return xs(this,os,{oobCode:e})},t.Xa=function(e){return xs(this,is,{oobCode:e})};var is={endpoint:"setAccountInfo",D:rs,fa:"email",F:!0},os={endpoint:"resetPassword",D:rs,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Zr("internal-error")},F:!0},as={endpoint:"signupNewUser",D:function(e){if(Ha(e),!e.password)throw new Zr("weak-password")},K:Qa,T:!0,F:!0},ss={endpoint:"createAuthUri",F:!0},us={endpoint:"deleteAccount",V:["idToken"]},cs={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!m(e.deleteProvider))throw new Zr("internal-error")}},ls={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Ha,K:Qa,T:!0,F:!0},fs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Ha,K:Qa,T:!0},hs={endpoint:"getAccountInfo"},ds={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Zr("internal-error");Ha(e)},fa:"email",F:!0},ps={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Zr("internal-error")},fa:"email",F:!0},vs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Zr("internal-error");Ha(e)},fa:"email",F:!0},ms={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},gs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Zr("internal-error")}},ys={endpoint:"resetPassword",D:rs,fa:"email",F:!0},bs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ws={endpoint:"setAccountInfo",V:["idToken"],D:Ga,T:!0},_s={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Ga(e),!e.password)throw new Zr("weak-password")},K:Qa,T:!0},Es={endpoint:"signupNewUser",K:Qa,T:!0,F:!0},Ss={endpoint:"verifyAssertion",D:Xa,Qa:Ja,K:Za,T:!0,F:!0},Ts={endpoint:"verifyAssertion",D:Xa,Qa:Ja,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Zr("user-not-found");if(e.errorMessage)throw Rs(e.errorMessage);if(!e[ja])throw new Zr("internal-error")},T:!0,F:!0},Cs={endpoint:"verifyAssertion",D:function(e){if(Xa(e),!e.idToken)throw new Zr("internal-error")},Qa:Ja,K:Za,T:!0},Is={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Zr("invalid-custom-token")},K:Qa,T:!0,F:!0},ks={endpoint:"verifyPassword",D:function(e){if(Ha(e),!e.password)throw new Zr("wrong-password")},K:Qa,T:!0,F:!0},As={endpoint:"verifyPhoneNumber",D:Ya,K:Qa,F:!0},Os={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Zr("internal-error");Ya(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",xo(e);Qa(e)}},Ns={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ya,K:Qa,F:!0};function xs(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.V))return et(new Zr("internal-error"));var r,i=t.Kb||"POST";return Ze(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o){var a=Cn(e.h+t);Sn(a,"key",e.c),o&&Sn(a,"cb",I().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Sn(a,u,r[u]);return new He((function(t,o){Wa(e,a.toString(),(function(e){e?e.error?o(Ps(e,i||{})):t(e):o(new Zr("network-request-failed"))}),n,s?void 0:Yn(kr(r)),e.a,e.i.get())}))}(e,t.endpoint,i,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Qa?t.Qa(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new Zr("internal-error");return r[t.fa]}))}function Rs(e){return Ps({error:{errors:[{message:e}],code:400,message:e}})}function Ps(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Zr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",J(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Zr(r[i],t);return!t&&e&&(t=Ir(e)),new Zr("internal-error",t)}function Ds(e){this.b=e,this.a=null,this.fb=function(e){return(Fs||(Fs=new He((function(e,t){function n(){xr(),wr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){xr(),t(Error("Network Error"))},timeout:js.get()})}if(wr("gapi.iframes.Iframe"))e();else if(wr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){wr("gapi.load")?n():t(Error("Network Error"))},Ze(ka(r=ae(Ms,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Fs=null,e})))).then((function(){return new He((function(t,n){wr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ls.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ms=new Z(ne,"https://apis.google.com/js/api.js?onload=%{onload}"),js=new Rr(3e4,6e4),Ls=new Rr(5e3,15e3),Fs=null;function Us(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=In(this.i,"/__/auth/iframe"),Sn(this.a,"apiKey",this.g),Sn(this.a,"appName",this.h),this.b=null,this.c=[]}function Bs(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Vs(e){try{return r.a.app(e).auth().Aa()}catch(t){return[]}}function qs(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ws(e){var t=tr();return function(e){return xs(e,ms,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Cn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Cn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ar.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Oo(tr())}))}function zs(e){return e.l?e.l:(e.l=ur().then((function(){if(!e.o){var t=e.c,n=e.h,r=Vs(e.b),i=new Us(e.u,e.f,e.b);i.f=t,i.b=n,i.c=G(r||[]),e.o=i.toString()}e.i=new Ds(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.fb.then((function(){e.a.register("authEvent",t,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Co(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ze(n)}return n.status="ERROR",Ze(n)}))}(e)})),e.l)}function Ks(e){return e.m||(e.v=e.c?yr(e.c,Vs(e.b)):null,e.m=new Da(e.f,xi(e.h),e.v)),e.m}function Hs(e,t,n,r,i,o,a,s,u,c,l){return(e=new Bs(e,t,n,r,i)).l=o,e.g=a,e.i=s,e.b=$(u||null),e.f=c,e.nb(l).toString()}function Gs(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Zr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Qs(e){this.b=e,this.a={},this.f=T(this.c,this)}Us.prototype.toString=function(){return this.f?Sn(this.a,"v",this.f):Fn(this.a.a,"v"),this.b?Sn(this.a,"eid",this.b):Fn(this.a.a,"eid"),this.c.length?Sn(this.a,"fw",this.c.join(",")):Fn(this.a.a,"fw"),this.a.toString()},Bs.prototype.nb=function(e){return this.h=e,this},Bs.prototype.toString=function(){var e=In(this.o,"/__/auth/handler");if(Sn(e,"apiKey",this.m),Sn(e,"appName",this.c),Sn(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(u){n=null}for(var i in t.ab=n,Sn(e,"providerId",this.a.providerId),n=kr((t=this.a).zb))n[i]=n[i].toString();i=t.Fc,n=$(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}t.cb&&t.ab&&!n[t.cb]&&(n[t.cb]=t.ab),Y(n)||Sn(e,"customParameters",Ir(n))}if("function"===typeof this.a.Hb&&((t=this.a.Hb()).length&&Sn(e,"scopes",t.join(","))),this.l?Sn(e,"redirectUrl",this.l):Fn(e.a,"redirectUrl"),this.g?Sn(e,"eventId",this.g):Fn(e.a,"eventId"),this.i?Sn(e,"v",this.i):Fn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Tn(e,s)&&Sn(e,s,this.b[s]);return this.h?Sn(e,"tid",this.h):Fn(e.a,"tid"),this.f?Sn(e,"eid",this.f):Fn(e.a,"eid"),(s=Vs(this.c)).length&&Sn(e,"fw",s.join(",")),e.toString()},(t=qs.prototype).Fb=function(e,t,n){var r=new Zr("popup-closed-by-user"),i=new Zr("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return zs(e).then((function(){return function(e,t){return e.fb.then((function(){return new He((function(n){e.a.send(t.type,t,n,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&ir(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new He((function(t){return function n(){hn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return hn(n).then((function(){t(r)}))}))},t.Ob=function(){var e=br();return!Cr(e)&&!Nr(e)},t.Jb=function(){return!1},t.Db=function(e,t,n,r,i,o,a,s){if(!e)return et(new Zr("popup-blocked"));if(a&&!Cr())return this.ia().s((function(t){ir(e),i(t)})),r(),Ze();this.a||(this.a=Ws(Ks(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw ir(e),i(t),t}));return r(),t})).then((function(){(So(n),a)||nr(Hs(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},t.Eb=function(e,t,n,r){this.a||(this.a=Ws(Ks(this)));var i=this;return this.a.then((function(){So(t),nr(Hs(i.u,i.f,i.b,e,t,tr(),n,i.c,void 0,i.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},t.ia=function(){var e=this;return zs(this).then((function(){return e.i.fb})).s((function(){throw e.a=null,new Zr("network-request-failed")}))},t.Rb=function(){return!0},t.ya=function(e){this.g.push(e)},t.La=function(e){K(this.g,(function(t){return t==e}))},(t=Gs.prototype).get=function(e){return Ze(this.a.getItem(e)).then((function(e){return e&&Ar(e)}))},t.set=function(e,t){return Ze(this.a.setItem(e,Ir(t)))},t.S=function(e){return Ze(this.a.removeItem(e))},t.$=function(){},t.ea=function(){};var Ys,$s=[];function Xs(e,t,n){Y(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Js(e){this.a=e}function Zs(e){this.c=e,this.b=!1,this.a=[]}function eu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return et(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new He((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:f,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return tu(e,c),t})).s((function(t){throw tu(e,c),t}))}function tu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(e.a,(function(e){return e==t}))}}function nu(){if(!ou())throw new Zr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;fr()&&self?(this.l=function(){var e=fr()?self:null;if(B($s,(function(n){n.b==e&&(t=n)})),!t){var t=new Qs(e);$s.push(t)}return t}(),Xs(this.l,"keyChanged",(function(t,n){return lu(e).then((function(t){return 0<t.length&&B(e.a,(function(e){e(t)})),{keyProcessed:W(t,n.key)}}))})),Xs(this.l,"ping",(function(){return Ze(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Ze().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Ze(null)}().then((function(t){(e.h=t)&&(e.g=new Zs(new Js(t)),eu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function ru(e){return new He((function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new He((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return ru(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function iu(e){return e.m||(e.m=ru(e)),e.m}function ou(){try{return!!u.indexedDB}catch(Ho){return!1}}function au(e){return e.objectStore("firebaseLocalStorage")}function su(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function uu(e){return new He((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function cu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?eu(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Ze()}function lu(e){return iu(e).then((function(e){var t=au(su(e,!1));return t.getAll?uu(t.getAll()):new He((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function fu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function hu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ze().then((function(){if(ou()){var e=Or(),r="__sak"+e;return Ys||(Ys=new nu),(n=Ys).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){B(t.a,(function(t){t(e)}))})),e}))}function du(){this.a={},this.type="inMemory"}function pu(){if(!function(){var e="Node"==hr();if(!(e=vu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Zr("internal-error","The LocalStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=vu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function vu(){try{var e=u.localStorage,t=Or();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function mu(){this.type="nullStorage"}function gu(){if(!function(){var e="Node"==hr();if(!(e=yu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Zr("internal-error","The SessionStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=yu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function yu(){try{var e=u.sessionStorage,t=Or();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function bu(){var e={};e.Browser=Eu,e.Node=Su,e.ReactNative=Tu,e.Worker=Cu,this.a=e[hr()]}Qs.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];B(r,(function(t){i.push(Ze().then((function(){return t(e.origin,e.data.data)})))})),nt(i).then((function(r){var i=[];B(r,(function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),B(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Js.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Zs.prototype.close=function(){for(;0<this.a.length;)tu(this,this.a[0]);this.b=!0},(t=nu.prototype).set=function(e,t){var n,r=!1,i=this;return iu(this).then((function(t){return uu((t=au(su(n=t,!0))).get(e))})).then((function(o){var a=au(su(n,!0));return o?(o.value=t,uu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,uu(a.add(o)))})).then((function(){return i.c[e]=t,cu(i,e)})).ka((function(){r&&i.b--}))},t.get=function(e){return iu(this).then((function(t){return uu(au(su(t,!1)).get(e))})).then((function(e){return e&&e.value}))},t.S=function(e){var t=!1,n=this;return iu(this).then((function(r){return t=!0,n.b++,uu(au(su(r,!0)).delete(e))})).then((function(){return delete n.c[e],cu(n,e)})).ka((function(){t&&n.b--}))},t.$=function(e){0==this.a.length&&function(e){fu(e),function t(){e.f=setTimeout((function(){e.i=lu(e).then((function(t){0<t.length&&B(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},t.ea=function(e){K(this.a,(function(t){return t==e})),0==this.a.length&&fu(this)},(t=hu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},t.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},t.S=function(e){return this.b.then((function(t){return t.S(e)}))},t.$=function(e){this.a.push(e)},t.ea=function(e){K(this.a,(function(t){return t==e}))},(t=du.prototype).get=function(e){return Ze(this.a[e])},t.set=function(e,t){return this.a[e]=t,Ze()},t.S=function(e){return delete this.a[e],Ze()},t.$=function(){},t.ea=function(){},(t=pu.prototype).get=function(e){var t=this;return Ze().then((function(){return Ar(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var r=Ir(t);null===r?n.S(e):n.a.setItem(e,r)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(e){u.window&&Qt(u.window,"storage",e)},t.ea=function(e){u.window&&Xt(u.window,"storage",e)},(t=mu.prototype).get=function(){return Ze(null)},t.set=function(){return Ze()},t.S=function(){return Ze()},t.$=function(){},t.ea=function(){},(t=gu.prototype).get=function(e){var t=this;return Ze().then((function(){return Ar(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var r=Ir(t);null===r?n.S(e):n.a.setItem(e,r)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(){},t.ea=function(){};var wu,_u,Eu={C:pu,Sa:gu},Su={C:pu,Sa:gu},Tu={C:Gs,Sa:mu},Cu={C:pu,Sa:mu},Iu={$c:"local",NONE:"none",bd:"session"};function ku(){var e=!(Nr(br())||!lr()),t=Cr(),n=_r();this.m=e,this.h=t,this.l=n,this.a={},wu||(wu=new bu),e=wu;try{this.g=!er()&&Mr()||!u.indexedDB?new e.a.C:new hu(fr()?new du:new e.a.C)}catch(r){this.g=new du,this.h=!0}try{this.i=new e.a.Sa}catch(r){this.i=new du}this.u=new du,this.f=T(this.Pb,this),this.b={}}function Au(){return _u||(_u=new ku),_u}function Ou(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Nu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function xu(e,t,n){return n=Nu(t,n),"local"==t.C&&(e.b[n]=null),Ou(e,t.C).S(n)}function Ru(e){e.c&&(clearInterval(e.c),e.c=null)}function Pu(e){this.a=e,this.b=Au()}(t=ku.prototype).get=function(e,t){return Ou(this,e.C).get(Nu(e,t))},t.set=function(e,t,n){var r=Nu(e,n),i=this,o=Ou(this,e.C);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},t.addListener=function(e,t,n){e=Nu(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),Y(this.a)&&(Ou(this,"local").$(this.f),this.h||(er()||!Mr())&&u.indexedDB||!this.l||function(e){Ru(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Lt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},t.removeListener=function(e,t,n){e=Nu(e,t),this.a[e]&&(K(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),Y(this.a)&&(Ou(this,"local").ea(this.f),Ru(this))},t.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?Ou(this,"local").ea(this.f):Ru(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.Za(t))},wt&&Ot&&10==Ot&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else B(e,T(this.Za,this))},t.Za=function(e){this.a[e]&&B(this.a[e],(function(e){e()}))};var Du,Mu={name:"authEvent",C:"local"};function ju(){this.a=Au()}function Lu(e,t){this.b=Fu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0!==Du||(Du=u.Int32Array?new Int32Array(Ku):Ku),this.reset()}k(Lu,(function(){this.b=-1}));for(var Fu=64,Uu=Fu-1,Bu=[],Vu=0;Vu<Uu;Vu++)Bu[Vu]=0;var qu=H(128,Bu);function Wu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|Du[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function zu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(c(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Wu(e),i=0);else{if(!g(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Wu(e),i=0)}}e.c=i,e.g+=n}Lu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):G(this.h)};var Ku=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hu(){Lu.call(this,8,Gu)}k(Hu,Lu);var Gu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Qu(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new ju,this.g=new Pu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Yu(e){return new Zr("invalid-cordova-configuration",e)}function $u(e){var t=new Hu;zu(t,e),e=[];var n=8*t.g;56>t.c?zu(t,qu,56-t.c):zu(t,qu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Wu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Xu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ju(e){return e.f||(e.f=e.ia().then((function(){return new He((function(t){e.ya((function n(r){return t(r),e.La(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Zu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=Ki(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ar(Tn(o=Cn(i),"firebaseError")||null))?ei(o):null)?new To(r.c,r.b,null,null,o,null,r.R()):new To(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}Xu(e,i)}))}var n=new To("unknown",null,null,null,new Zr("no-auth-event")),r=!1,i=hn(500).then((function(){return Zu(e).then((function(){r||Xu(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(wr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Ao||(Ao=new Io),function(e){var t=Ao;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=wr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Zu(e){var t=null;return function(e){return e.b.get(Mu,e.a).then((function(e){return Co(e)}))}(e.g).then((function(n){return t=n,xu((n=e.g).b,Mu,n.a)})).then((function(){return t}))}function ec(e){this.a=e,this.b=Au()}(t=Qu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(cr(void 0)?ur().then((function(){return new He((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof wr("universalLinks.subscribe",u))throw Yu("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof wr("BuildInfo.packageName",u))throw Yu("cordova-plugin-buildinfo is not installed");if("function"!==typeof wr("cordova.plugins.browsertab.openUrl",u))throw Yu("cordova-plugin-browsertab is not installed");if("function"!==typeof wr("cordova.InAppBrowser.open",u))throw Yu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Zr("cordova-not-ready")}))},t.Fb=function(e,t){return t(new Zr("operation-not-supported-in-this-environment")),Ze()},t.Db=function(){return et(new Zr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(e,t,n,r){if(this.c)return et(new Zr("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ze().then((function(){return So(t),Ju(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new To(t,r,null,o,new Zr("no-auth-event"),null,i),s=wr("BuildInfo.packageName",u);if("string"!==typeof s)throw new Zr("invalid-cordova-configuration");var c=wr("BuildInfo.displayName",u),l={};if(br().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!br().toLowerCase().match(/android/))return et(new Zr("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=$u(o),l.sessionId=o;var f=Hs(e.u,e.i,e.l,t,n,null,r,e.m,l,e.o,i);return e.ia().then((function(){var t=e.h;return e.v.a.set(Mu,a.A(),t)})).then((function(){var t=wr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new Zr("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=wr("cordova.plugins.browsertab.openUrl",u)))throw new Zr("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=wr("cordova.InAppBrowser.open",u)))throw new Zr("invalid-cordova-configuration");t=br(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new He((function(e,t){s=function(){var t=wr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(s),c=function(){a||(a=hn(2e3).then((function(){t(new Zr("redirect-cancelled-by-user"))})))},l=function(){Pr()&&c()},o.addEventListener("resume",c,!1),br().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(e){return Zu(i).then((function(){throw e}))}))})).ka((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.La(s),i.c=null}))},t.ya=function(e){this.b.push(e),Ju(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new To("unknown",null,null,null,new Zr("no-auth-event")),e(t))}))},t.La=function(e){K(this.b,(function(t){return t==e}))};var tc={name:"pendingRedirect",C:"session"};function nc(e){return xu(e.b,tc,e.a)}function rc(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=T(this.o,this),this.b=new gc,this.w=new Ec,this.g=new ec(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=ic(this.B,this.u,this.m,Oi)}function ic(e,t,n,i){var o=r.a.SDK_VERSION||null;return cr()?new Qu(e,t,n,o,i):new qs(e,t,n,o,i)}function oc(e){e.f||(e.f=!0,e.a.ya(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function ac(e){e.a.Ob()&&oc(e).s((function(t){var n=new To("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));hc(t)&&e.o(n)})),e.a.Jb()||yc(e.b)}function sc(e,t){W(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(tc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?nc(e.g).then((function(){oc(e).s((function(t){var n=new To("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));hc(t)&&e.o(n)}))})):ac(e)})).s((function(){ac(e)}))}function uc(e,t){K(e.h,(function(e){return e==t}))}rc.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=ic(this.B,this.u,this.m),this.i={}},rc.prototype.o=function(e){if(!e)throw new Zr("invalid-auth-event");if(6e5<=I()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=I())),t=!0;break}}return yc(this.b),t};var cc=new Rr(2e3,1e4),lc=new Rr(3e4,6e4);function fc(e,t,n,r,i,o,a){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.ya(e.l))}),(function(){e.reset()}),i,o,a)}function hc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function dc(e,t,n,r,i){var o;return function(e){return e.b.set(tc,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,i).s((function(t){if(hc(t))throw new Zr("operation-not-supported-in-this-environment");return o=t,nc(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new He((function(){})):nc(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function pc(e,t,n,r,i){return e.a.Fb(r,(function(e){t.ja(n,null,e,i)}),cc.get())}rc.prototype.oa=function(){return this.b.oa()};var vc={};function mc(e,t,n){var r=t+":"+n;return vc[r]||(vc[r]=new rc(e,t,n)),vc[r]}function gc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function yc(e){e.g||(e.g=!0,_c(e,!1,null,null))}function bc(e){e.g&&!e.i&&_c(e,!1,null,null)}function wc(e,t){if(e.b=function(){return Ze(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function _c(e,t,n,r){t?r?function(e,t){if(e.b=function(){return et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):wc(e,n):wc(e,{user:null}),e.f=[],e.c=[]}function Ec(){}function Sc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Tc(e,t){this.a=t,Br(this,"verificationId",e)}function Cc(e,t,n,r){return new wo(e).Va(t,n).then((function(e){return new Tc(e,r)}))}function Ic(e){var t=Ai(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Zr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vr(this,{token:e,expirationTime:Dr(1e3*t.exp),authTime:Dr(1e3*t.auth_time),issuedAtTime:Dr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function kc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ac(e){this.f=e,this.b=this.a=null,this.c=0}function Oc(e,t){var n=t[ja],r=t.refreshToken;t=Nc(t.expiresIn),e.b=n,e.c=t,e.a=r}function Nc(e){return I()+1e3*parseInt(e,10)}function xc(e,t){return function(e,t){return new He((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Wa(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Ps(e)):e.access_token&&e.refresh_token?n(e):r(new Zr("internal-error")):r(new Zr("network-request-failed"))}),"POST",Ln(t).toString(),e.g,e.u.get()):r(new Zr("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=Nc(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Rc(e,t){this.a=e||null,this.b=t||null,Vr(this,{lastSignInTime:Dr(t||null),creationTime:Dr(e||null)})}function Pc(e,t,n,r,i,o){Vr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Dc(e,t){for(var n in jt.call(this,e),t)this[n]=t[n]}function Mc(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=r.a.SDK_VERSION?yr(r.a.SDK_VERSION):null,this.a=new Da(this.l,xi(Oi),e),this.b=new Ac(this.a),qc(this,t[ja]),Oc(this.b,t),Br(this,"refreshToken",this.b.a),Kc(this,n||{}),sn.call(this),this.J=!1,this.o&&Er()&&(this.i=mc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new kc((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-I()-3e5;return 0<t?t:0}))}(this),this.W=T(this.Ha,this);var i=this;this.ga=null,this.va=function(e){i.sa(e.g)},this.Z=null,this.P=[],this.ua=function(e){Lc(i,e.c)},this.Y=null}function jc(e,t){e.Z&&Xt(e.Z,"languageCodeChanged",e.va),(e.Z=t)&&Qt(t,"languageCodeChanged",e.va)}function Lc(e,t){e.P=t,qa(e.a,r.a.SDK_VERSION?yr(r.a.SDK_VERSION,e.P):null)}function Fc(e,t){e.Y&&Xt(e.Y,"frameworkChanged",e.ua),(e.Y=t)&&Qt(t,"frameworkChanged",e.ua)}function Uc(e){try{return r.a.app(e.m).auth()}catch(t){throw new Zr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Bc(e){e.B||e.w.b||(e.w.start(),Xt(e,"tokenChanged",e.W),Qt(e,"tokenChanged",e.W))}function Vc(e){Xt(e,"tokenChanged",e.W),e.w.stop()}function qc(e,t){e.ma=t,Br(e,"_lat",t)}function Wc(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return nt(t).then((function(){return e}))}function zc(e){e.i&&!e.J&&(e.J=!0,sc(e.i,e))}function Kc(e,t){Vr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Rc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Hc(){}function Gc(e){return Ze().then((function(){if(e.B)throw new Zr("app-deleted")}))}function Qc(e){return V(e.providerData,(function(e){return e.providerId}))}function Yc(e,t){t&&($c(e,t.providerId),e.providerData.push(t))}function $c(e,t){K(e.providerData,(function(e){return e.providerId==t}))}function Xc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Br(e,t,n)}function Jc(e,t){e!=t&&(Vr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Br(e,"metadata",function(e){return new Rc(e.a,e.b)}(t.metadata)):Br(e,"metadata",new Rc),B(t.providerData,(function(t){Yc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Br(e,"refreshToken",e.b.a))}function Zc(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return xs(e.a,hs,{idToken:t}).then(T(e.zc,e))}(e,t).then((function(){return n||Xc(e,"isAnonymous",!1),t}))}))}function el(e,t){t[ja]&&e.ma!=t[ja]&&(Oc(e.b,t),e.dispatchEvent(new Dc("tokenChanged")),qc(e,t[ja]),Xc(e,"refreshToken",e.b.a))}function tl(e,t){return Zc(e).then((function(){if(W(Qc(e),t))return Wc(e).then((function(){throw new Zr("provider-already-linked")}))}))}function nl(e,t,n){return qr({user:e,credential:Eo(t),additionalUserInfo:t=ji(t),operationType:n})}function rl(e,t){return el(e,t),e.reload().then((function(){return e}))}function il(e,t,n,i,o){if(!Er())return et(new Zr("operation-not-supported-in-this-environment"));if(e.h&&!o)return et(e.h);var a=Mi(n.providerId),s=Or(e.uid+":::"),u=null;(!Cr()||lr())&&e.o&&n.isOAuthProvider&&(u=Hs(e.o,e.l,e.m,t,n,null,s,r.a.SDK_VERSION||null,null,null,e.tenantId));var c=or(u,a&&a.Da,a&&a.Ca);return i=i().then((function(){if(al(e),!o)return e.G().then((function(){}))})).then((function(){return fc(e.i,c,t,n,s,!!u,e.tenantId)})).then((function(){return new He((function(n,r){e.ja(t,null,new Zr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=pc(e.i,e,t,c,s)}))})).then((function(e){return c&&ir(c),e?qr(e):null})).s((function(e){throw c&&ir(c),e})),sl(e,i,o)}function ol(e,t,n,r,i){if(!Er())return et(new Zr("operation-not-supported-in-this-environment"));if(e.h&&!i)return et(e.h);var o=null,a=Or(e.uid+":::");return r=r().then((function(){if(al(e),!i)return e.G().then((function(){}))})).then((function(){return e.ca=a,Wc(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(ll,e.A(),t.a)),t})).then((function(){return dc(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.da)return fl(e.da);throw o})).then((function(){if(o)throw o})),sl(e,r,i)}function al(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Zr("internal-error");throw new Zr("auth-domain-config-required")}}function sl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),et(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Dc("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){z(e.I,r)})),r}function ul(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[ja]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-I())/1e3;var r=new Mc(t,n,e);return e.providerData&&B(e.providerData,(function(e){e&&Yc(r,qr(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function cl(e){this.a=e,this.b=Au()}gc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},gc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(_c(this,!0,null,e.a),Ze()):t.za(n,r)?function(e,t,n){n=n.za(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){_c(e,s,t,null)})).s((function(t){_c(e,s,null,t)}))}(this,e,t):et(new Zr("invalid-auth-event")):(_c(this,!1,null,null),Ze())}else et(new Zr("invalid-auth-event"))},gc.prototype.oa=function(){var e=this;return new He((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Zr("timeout");e.a&&e.a.cancel(),e.a=hn(lc.get()).then((function(){e.b||(e.g=!0,_c(e,!0,null,t))}))}(e))}))},Ec.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Ze()):t.za(n,r)?function(e,t){var n=e.b,r=e.c;t.za(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):et(new Zr("invalid-auth-event"))}else et(new Zr("invalid-auth-event"))},Tc.prototype.confirm=function(e){return e=_o(this.verificationId,e),this.a(e)},kc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=hn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=u.document,t=null;return Pr()||!e?Ze():new He((function(n){t=function(){Pr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},kc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ac.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ac.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?et(new Zr("user-token-expired")):e||!this.b||I()>this.c-3e4?this.a?xc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ze(null):Ze({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Rc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Dc,jt),k(Mc,sn),Mc.prototype.sa=function(e){this.ga=e,Va(this.a,e)},Mc.prototype.ha=function(){return this.ga},Mc.prototype.Aa=function(){return G(this.P)},Mc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Br(Mc.prototype,"providerId","firebase"),(t=Mc.prototype).reload=function(){var e=this;return sl(this,Gc(this).then((function(){return Zc(e).then((function(){return Wc(e)})).then(Hc)})))},t.dc=function(e){return this.G(e).then((function(e){return new Ic(e)}))},t.G=function(e){var t=this;return sl(this,Gc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Zr("internal-error");return e.accessToken!=t.ma&&(qc(t,e.accessToken),t.dispatchEvent(new Dc("tokenChanged"))),Xc(t,"refreshToken",e.refreshToken),e.accessToken})))},t.zc=function(e){if(!(e=e.users)||!e.length)throw new Zr("internal-error");Kc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?V(e,(function(e){return new Pc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Yc(this,t[n]);Xc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},t.Ac=function(e){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},t.gb=function(e){var t=this,n=null;return sl(this,e.f(this.a,this.uid).then((function(e){return el(t,e),n=nl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},t.rc=function(e){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},t.eb=function(e){var t=this,n=null;return sl(this,tl(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=nl(t,e,"link"),rl(t,e)})).then((function(){return n})))},t.sc=function(e,t){var n=this;return sl(this,tl(this,"phone").then((function(){return Cc(Uc(n),e,t,T(n.eb,n))})))},t.Bc=function(e,t){var n=this;return sl(this,Ze().then((function(){return Cc(Uc(n),e,t,T(n.gb,n))})),!0)},t.rb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return el(t,e),t.reload()})))},t.Sc=function(e){var t=this;return sl(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return el(t,e),t.reload()})))},t.sb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return el(t,e),t.reload()})))},t.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Gc(this);var t=this;return sl(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return el(t,e),Xc(t,"displayName",e.displayName||null),Xc(t,"photoURL",e.photoUrl||null),B(t.providerData,(function(e){"password"===e.providerId&&(Br(e,"displayName",t.displayName),Br(e,"photoURL",t.photoURL))})),Wc(t)})).then(Hc))},t.Qc=function(e){var t=this;return sl(this,Zc(this).then((function(n){return W(Qc(t),e)?function(e,t,n){return xs(e,cs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return B(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),B(Qc(t),(function(e){n[e]||$c(t,e)})),n[wo.PROVIDER_ID]||Br(t,"phoneNumber",null),Wc(t)})):Wc(t).then((function(){throw new Zr("no-such-provider")}))})))},t.delete=function(){var e=this;return sl(this,this.G().then((function(t){return xs(e.a,us,{idToken:t})})).then((function(){e.dispatchEvent(new Dc("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");jc(e,null),Fc(e,null),e.I=[],e.B=!0,Vc(e),Br(e,"refreshToken",null),e.i&&uc(e.i,e)}))},t.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},t.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?T(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?T(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?T(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?T(this.Cb,this):null},t.tc=function(e){var t=this;return il(this,"linkViaPopup",e,(function(){return tl(t,e.providerId).then((function(){return Wc(t)}))}),!1)},t.Cc=function(e){return il(this,"reauthViaPopup",e,(function(){return Ze()}),!0)},t.uc=function(e){var t=this;return ol(this,"linkViaRedirect",e,(function(){return tl(t,e.providerId)}),!1)},t.Dc=function(e){return ol(this,"reauthViaRedirect",e,(function(){return Ze()}),!0)},t.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,this.G().then((function(n){return ts(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=nl(i,e,"link"),rl(i,e)})).then((function(){return o})))},t.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,Ze().then((function(){return Gi(ns(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=nl(i,e,"reauthenticate"),el(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},t.jb=function(e){var t=this,n=null;return sl(this,this.G().then((function(t){return n=t,"undefined"===typeof e||Y(e)?{}:Ei(new hi(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(e,this.metadata.A()),B(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var ll={name:"redirectUser",C:"session"};function fl(e){return xu(e.b,ll,e.a)}function hl(e){this.a=e,this.b=Au(),this.c=null,this.f=function(e){var t=vl("local"),n=vl("session"),r=vl("none");return function(e,t,n){var r=Nu(t,n),i=Ou(e,t.C);return e.get(t,n).then((function(o){var a=null;try{a=Ar(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(pl,e.a).then((function(e){return e?vl(e):t}))}))}))})).then((function(t){return e.c=t,dl(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(vl("local"),this.a,T(this.g,this))}function dl(e,t){var n,r=[];for(n in Iu)Iu[n]!==t&&r.push(xu(e.b,vl(Iu[n]),e.a));return r.push(xu(e.b,pl,e.a)),function(e){return new He((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)tt(e[s],C(o,s),a);else t(i)}))}(r)}hl.prototype.g=function(){var e=this,t=vl("local");bl(this,(function(){return Ze().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return dl(e,"local").then((function(){e.c=t}))}))}))};var pl={name:"persistence",C:"session"};function vl(e){return{name:"authUser",C:e}}function ml(e,t){return bl(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function gl(e){return bl(e,(function(){return xu(e.b,e.c,e.a)}))}function yl(e,t){return bl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),ul(e||{})}))}))}function bl(e,t){return e.f=e.f.then(t,t),e.f}function wl(e){if(this.l=!1,Br(this,"settings",new Sc),Br(this,"app",e),!Al(this).options||!Al(this).options.apiKey)throw new Zr("invalid-api-key");e=r.a.SDK_VERSION?yr(r.a.SDK_VERSION):null,this.b=new Da(Al(this).options&&Al(this).options.apiKey,xi(Oi),e),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(T(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(T(this.pc,this)),Il(this,null),this.h=new hl(Al(this).options.apiKey+":"+Al(this).name),this.w=new cl(Al(this).options.apiKey+":"+Al(this).name),this.Y=Rl(this,function(e){var t=Al(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ll,e.a).then((function(e){return e&&t&&(e.authDomain=t),ul(e||{})}))}(e.w,Al(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),fl(e.w)}));return Rl(e,t)}(e).then((function(){return yl(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return ml(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:gl(e.h)}))):null})).then((function(t){Il(e,t||null)}));return Rl(e,n)}(this)),this.i=Rl(this,function(e){return e.Y.then((function(){return Tl(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(vl("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=T(this.Nc,this),this.ub=T(this.aa,this),this.ua=T(this.bc,this),this.va=T(this.mc,this),this.Ha=T(this.nc,this),this.a=null,function(e){var t=Al(e).options.authDomain,n=Al(e).options.apiKey;t&&Er()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=mc(t,n,Al(e).name),sc(e.a,e),Ol(e)&&zc(Ol(e)),e.B){zc(e.B);var r=e.B;r.sa(e.ha()),jc(r,e),Lc(r=e.B,e.I),Fc(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.vc,this),this.o=0,sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.sa(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function _l(e){jt.call(this,"languageCodeChanged"),this.g=e}function El(e){jt.call(this,"frameworkChanged"),this.c=e}function Sl(e){return e.Tb||et(new Zr("auth-domain-config-required"))}function Tl(e){if(!Er())return et(new Zr("operation-not-supported-in-this-environment"));var t=Sl(e).then((function(){return e.a.oa()})).then((function(e){return e?qr(e):null}));return Rl(e,t)}function Cl(e,t){var n={};return n.apiKey=Al(e).options.apiKey,n.authDomain=Al(e).options.authDomain,n.appName=Al(e).name,e.Y.then((function(){return function(e,t,n,r){var i=new Mc(e,t);return n&&(i.da=n),r&&Lc(i,r),i.reload().then((function(){return i}))}(n,t,e.w,e.Aa())})).then((function(t){return Ol(e)&&t.uid==Ol(e).uid?(Jc(Ol(e),t),e.aa(t)):(Il(e,t),zc(t),e.aa(t))})).then((function(){xl(e)}))}function Il(e,t){Ol(e)&&(function(e,t){K(e.O,(function(e){return e==t}))}(Ol(e),e.ub),Xt(Ol(e),"tokenChanged",e.ua),Xt(Ol(e),"userDeleted",e.va),Xt(Ol(e),"userInvalidated",e.Ha),Vc(Ol(e))),t&&(t.O.push(e.ub),Qt(t,"tokenChanged",e.ua),Qt(t,"userDeleted",e.va),Qt(t,"userInvalidated",e.Ha),0<e.o&&Bc(t)),Br(e,"currentUser",t),t&&(t.sa(e.ha()),jc(t,e),Lc(t,e.I),Fc(t,e))}function kl(e,t){var n=null,r=null;return Rl(e,t.then((function(t){return n=Eo(t),r=ji(t),Cl(e,t)})).then((function(){return qr({user:Ol(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Al(e){return e.app}function Ol(e){return e.currentUser}function Nl(e){return Ol(e)&&Ol(e)._lat||null}function xl(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Nl(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](Nl(e))}}function Rl(e,t){return e.O.push(t),t.ka((function(){z(e.O,t)})),t}function Pl(){}function Dl(){this.a={},this.b=1e12}hl.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Zr("invalid-persistence-type"),n=new Zr("unsupported-persistence-type");e:{for(r in Iu)if(Iu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(hr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!_r()&&"none"!==e)throw n}}(e),bl(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,dl(n,e)})).then((function(){if(n.c=vl(e),t)return n.b.set(n.c,t,n.a)})):Ze()}))},k(wl,sn),k(_l,jt),k(El,jt),(t=wl.prototype).mb=function(e){return Rl(this,e=this.h.mb(e))},t.sa=function(e){this.Z===e||this.l||(this.Z=e,Va(this.b,this.Z),this.dispatchEvent(new _l(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var e=u.navigator;this.sa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},t.vc=function(e){this.I.push(e),qa(this.b,r.a.SDK_VERSION?yr(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new El(this.I))},t.Aa=function(){return G(this.I)},t.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Al(this).options.apiKey,authDomain:Al(this).options.authDomain,appName:Al(this).name,currentUser:Ol(this)&&Ol(this).A()}},t.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},t.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?T(this.ac,this):null},t.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=es(i.b,e).then((function(e){return o=Eo(e),a=ji(e),e}));return Rl(this,e=i.Y.then((function(){return s})).then((function(e){return Cl(i,e)})).then((function(){return qr({user:Ol(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},t.Lc=function(e){if(!Er())return et(new Zr("operation-not-supported-in-this-environment"));var t=this,n=Mi(e.providerId),i=Or(),o=null;(!Cr()||lr())&&Al(this).options.authDomain&&e.isOAuthProvider&&(o=Hs(Al(this).options.authDomain,Al(this).options.apiKey,Al(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null,null,null,this.R()));var a=or(o,n&&n.Da,n&&n.Ca);return Rl(this,n=Sl(this).then((function(n){return fc(n,a,"signInViaPopup",e,i,!!o,t.R())})).then((function(){return new He((function(e,n){t.ja("signInViaPopup",null,new Zr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=pc(t.a,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&ir(a),e?qr(e):null})).s((function(e){throw a&&ir(a),e})))},t.Mc=function(e){if(!Er())return et(new Zr("operation-not-supported-in-this-environment"));var t=this;return Rl(this,Sl(this).then((function(){return function(e){return bl(e,(function(){return e.b.set(pl,e.c.C,e.a)}))}(t.h)})).then((function(){return dc(t.a,"signInViaRedirect",e,void 0,t.R())})))},t.oa=function(){var e=this;return Tl(this).then((function(t){return e.a&&bc(e.a.b),t})).s((function(t){throw e.a&&bc(e.a.b),t}))},t.Rc=function(e){if(!e)return et(new Zr("null-user"));if(this.P!=e.tenantId)return et(new Zr("tenant-id-mismatch"));var t=this,n={};n.apiKey=Al(this).options.apiKey,n.authDomain=Al(this).options.authDomain,n.appName=Al(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[ja]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-I())/1e3,t=new Mc(t,o),n&&(t.da=n),r&&Lc(t,r),Jc(t,e),t}(e,n,t.w,t.Aa());return Rl(this,this.i.then((function(){if(Al(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Ol(t)&&e.uid==Ol(t).uid?(Jc(Ol(t),e),t.aa(e)):(Il(t,r),zc(r),t.aa(r))})).then((function(){xl(t)})))},t.pb=function(){var e=this;return Rl(this,this.i.then((function(){return e.a&&bc(e.a.b),Ol(e)?(Il(e,null),gl(e.h).then((function(){xl(e)}))):Ze()})))},t.Nc=function(){var e=this;return yl(this.h,Al(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Ol(e)&&t){n=Ol(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Jc(Ol(e),t),Ol(e).G();(Ol(e)||t)&&(Il(e,t),t&&(zc(t),t.da=e.w),e.a&&sc(e.a,e),xl(e))}}))},t.aa=function(e){return ml(this.h,e)},t.bc=function(){xl(this),this.aa(Ol(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Ol(t))}))},t.pc=function(e){var t=this;!function(e,t){e.J.push(t),Rl(e,e.i.then((function(){!e.l&&W(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Nl(e)))})))}(this,(function(){e.next(Ol(t))}))},t.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){y(e)?e(Ol(r)):y(e.next)&&e.next(Ol(r))})),this.Ub(e,t,n)},t.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),y(e)?e(Ol(r)):y(e.next)&&e.next(Ol(r))})),this.Vb(e,t,n)},t.cc=function(e){var t=this;return Rl(this,this.i.then((function(){return Ol(t)?Ol(t).G(e).then((function(e){return{accessToken:e}})):null})))},t.Hc=function(e){var t=this;return this.i.then((function(){return kl(t,xs(t.b,Is,{token:e}))})).then((function(e){var n=e.user;return Xc(n,"isAnonymous",!1),t.aa(n),e}))},t.Ic=function(e,t){var n=this;return this.i.then((function(){return kl(n,xs(n.b,ks,{email:e,password:t}))}))},t.Xb=function(e,t){var n=this;return this.i.then((function(){return kl(n,xs(n.b,as,{email:e,password:t}))}))},t.Ra=function(e){var t=this;return this.i.then((function(){return kl(t,e.na(t.b))}))},t.Gc=function(e){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},t.ob=function(){var e=this;return this.i.then((function(){var t=Ol(e);if(t&&t.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return kl(e,e.b.ob()).then((function(t){var n=t.user;return Xc(n,"isAnonymous",!0),e.aa(n),t}))}))},t.getUid=function(){return Ol(this)&&Ol(this).uid||null},t.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&Ol(this)&&Bc(Ol(this))},t.Ec=function(e){var t=this;B(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&Ol(this)&&Vc(Ol(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(e){var t=this;this.m.push(e),Rl(this,this.i.then((function(){t.l||W(t.m,e)&&e(Nl(t))})))},t.removeAuthTokenListener=function(e){K(this.m,(function(t){return t==e}))},t.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(vl("local"),e.a,this.ma),this.a&&(uc(this.a,this),bc(this.a.b)),Promise.resolve()},t.$b=function(e){return Rl(this,function(e,t){return xs(e,ss,{identifier:t,continueUri:Sr()?tr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},t.qc=function(e){return!!mo(e)},t.lb=function(e,t){var n=this;return Rl(this,Ze().then((function(){var e=new hi(t);if(!e.c)throw new Zr("argument-error",vi+" must be true when sending sign in link to email");return Ei(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},t.Uc=function(e){return this.Ka(e).then((function(e){return e.data.email}))},t.$a=function(e,t){return Rl(this,this.b.$a(e,t).then((function(){})))},t.Ka=function(e){return Rl(this,this.b.Ka(e).then((function(e){return new zr(e)})))},t.Xa=function(e){return Rl(this,this.b.Xa(e).then((function(){})))},t.kb=function(e,t){var n=this;return Rl(this,Ze().then((function(){return"undefined"===typeof t||Y(t)?{}:Ei(new hi(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},t.Kc=function(e,t){return Rl(this,Cc(this,e,t,T(this.Ra,this)))},t.Jc=function(e,t){var n=this;return Rl(this,Ze().then((function(){var r=t||tr(),i=vo(e,r);if(!(r=mo(r)))throw new Zr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Zr("tenant-id-mismatch");return n.Ra(i)})))},Pl.prototype.render=function(){},Pl.prototype.reset=function(){},Pl.prototype.getResponse=function(){},Pl.prototype.execute=function(){};var Ml=null;function jl(e,t){return(t=Ll(t))&&e.a[t]||null}function Ll(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Fl(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=zn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Qt(this.f,"click",this.i)}function Ul(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Bl(){}Dl.prototype.render=function(e,t){return this.a[this.b.toString()]=new Fl(e,t),this.b++},Dl.prototype.reset=function(e){var t=jl(this,e);e=Ll(e),t&&e&&(t.delete(),delete this.a[e])},Dl.prototype.getResponse=function(e){return(e=jl(this,e))?e.getResponse():null},Dl.prototype.execute=function(e){(e=jl(this,e))&&e.execute()},Fl.prototype.getResponse=function(){return Ul(this),this.b},Fl.prototype.execute=function(){Ul(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Fl.prototype.delete=function(){Ul(this),this.g=!0,clearTimeout(this.a),this.a=null,Xt(this.f,"click",this.i)},Bl.prototype.g=function(){return Ml||(Ml=new Dl),Ze(Ml)},Bl.prototype.c=function(){};var Vl=null;function ql(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Wl=new Z(ne,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),zl=new Rr(3e4,6e4);ql.prototype.g=function(e){var t=this;return new He((function(n,r){var i=setTimeout((function(){r(new Zr("network-request-failed"))}),zl.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new Zr("internal-error"));delete u[t.a]},Ze(ka(ae(Wl,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new Zr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},ql.prototype.c=function(){this.b--};var Kl=null;function Hl(e,t,n,r,i,o,a){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(Vl||(Vl=new Bl),a=Vl):(Kl||(Kl=new ql),a=Kl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Yl])throw new Zr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[$l],!u.document)throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!zn(t)||!this.i&&zn(t).hasChildNodes())throw new Zr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Da(e,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var c=this.a[Gl];this.a[Gl]=function(e){if(Xl(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=wr(c,u);"function"===typeof t&&t(e)}};var l=this.a[Ql];this.a[Ql]=function(){if(Xl(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=wr(l,u);"function"===typeof e&&e()}}}var Gl="callback",Ql="expired-callback",Yl="sitekey",$l="size";function Xl(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Jl(e,t){return e.h.push(t),t.ka((function(){z(e.h,t)})),t}function Zl(e){if(e.B)throw new Zr("internal-error","RecaptchaVerifier instance has been destroyed.")}function ef(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new Zr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Zr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?yr(r.a.SDK_VERSION,a):null,Hl.call(this,n,e,t,(function(){try{var e=o.b.auth().ha()}catch(t){e=null}return e}),a,xi(Oi),i)}function tf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Zr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],0>i||i>=nf.length)throw new Zr("internal-error","Argument validator received an unsupported number of arguments.");n=nf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Zr("argument-error",e+" failed: "+r)}(t=Hl.prototype).Ba=function(){var e=this;return this.f?this.f:this.f=Jl(this,Ze().then((function(){if(Sr()&&!fr())return ur();throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,xs(e.o,gs,{})})).then((function(t){e.a[Yl]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},t.render=function(){Zl(this);var e=this;return Jl(this,this.Ba().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=zn(t);t=Gn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},t.verify=function(){Zl(this);var e=this;return Jl(this,this.render().then((function(t){return new He((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){K(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},t.reset=function(){Zl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Zl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=zn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},k(ef,Hl);var nf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rf(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:c}}function of(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:l}}function af(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:b}}function sf(e,t){return{name:e||"",M:"a function",optional:!!t,N:y}}function uf(e,t){return{name:e||"",M:"null",optional:!!t,N:v}}function cf(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function lf(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&c(e.type)&&y(e.verify))}}}function ff(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function hf(e,t){for(var n in t){var r=t[n].name;e[r]=vf(r,e[n],t[n].j)}}function df(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:C((function(e){return this[e]}),n),set:C((function(e,t,n,r){tf(e,[n],[r],!0),this[t]=r}),r,n,t[n].Ya),enumerable:!0})}}function pf(e,t,n,r){e[t]=vf(t,n,r)}function vf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return tf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}hf(wl.prototype,{Xa:{name:"applyActionCode",j:[rf("code")]},Ka:{name:"checkActionCode",j:[rf("code")]},$a:{name:"confirmPasswordReset",j:[rf("code"),rf("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[rf("email"),rf("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[rf("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[rf("emailLink")]},wc:{name:"onAuthStateChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rf("email"),ff(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rf("email"),af("actionCodeSettings")]},mb:{name:"setPersistence",j:[rf("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[cf()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[cf()]},Hc:{name:"signInWithCustomToken",j:[rf("token")]},Ic:{name:"signInWithEmailAndPassword",j:[rf("email"),rf("password")]},Jc:{name:"signInWithEmailLink",j:[rf("email"),rf("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[ff({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Mc)}},uf(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[rf("code")]}}),df(wl.prototype,{lc:{name:"languageCode",Ya:ff(rf(),uf(),"languageCode")},ti:{name:"tenantId",Ya:ff(rf(),uf(),"tenantId")}}),wl.Persistence=Iu,wl.Persistence.LOCAL="local",wl.Persistence.SESSION="session",wl.Persistence.NONE="none",hf(Mc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[of("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[of("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[cf()]},eb:{name:"linkWithCredential",j:[cf()]},sc:{name:"linkWithPhoneNumber",j:[rf("phoneNumber"),lf()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[cf()]},gb:{name:"reauthenticateWithCredential",j:[cf()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[ff(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Qc:{name:"unlink",j:[rf("provider")]},rb:{name:"updateEmail",j:[rf("email")]},sb:{name:"updatePassword",j:[rf("password")]},Sc:{name:"updatePhoneNumber",j:[cf("phone")]},tb:{name:"updateProfile",j:[af("profile")]}}),hf(Dl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hf(Pl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hf(He.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),df(Sc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:of("appVerificationDisabledForTesting")}}),hf(Tc.prototype,{confirm:{name:"confirm",j:[rf("verificationCode")]}}),pf(Hi,"fromJSON",(function(e){e=c(e)?JSON.parse(e):e;for(var t,n=[Zi,ho,yo,$i],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ff(rf(),af(),"json")]),pf(po,"credential",(function(e,t){return new fo(e,t)}),[rf("email"),rf("password")]),hf(fo.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(ro.prototype,{wa:{name:"addScope",j:[rf("scope")]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(ro,"credential",io,[ff(rf(),af(),"token")]),pf(po,"credentialWithLink",vo,[rf("email"),rf("emailLink")]),hf(oo.prototype,{wa:{name:"addScope",j:[rf("scope")]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(oo,"credential",ao,[ff(rf(),af(),"token")]),hf(so.prototype,{wa:{name:"addScope",j:[rf("scope")]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(so,"credential",uo,[ff(rf(),ff(af(),uf()),"idToken"),ff(rf(),uf(),"accessToken",!0)]),hf(co.prototype,{Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(co,"credential",lo,[ff(rf(),af(),"token"),rf("secret",!0)]),hf(no.prototype,{wa:{name:"addScope",j:[rf("scope")]},credential:{name:"credential",j:[ff(rf(),ff(af(),uf()),"optionsOrIdToken"),ff(rf(),uf(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),hf(Xi.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(Qi.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),pf(wo,"credential",_o,[rf("verificationId"),rf("verificationCode")]),hf(wo.prototype,{Va:{name:"verifyPhoneNumber",j:[rf("phoneNumber"),lf()]}}),hf(go.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(Zr.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(No.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(Oo.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(ef.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),pf(ri,"parseLink",fi,[rf("link")]),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wl,AuthCredential:Hi,Error:Zr};pf(e,"EmailAuthProvider",po,[]),pf(e,"FacebookAuthProvider",ro,[]),pf(e,"GithubAuthProvider",oo,[]),pf(e,"GoogleAuthProvider",so,[]),pf(e,"TwitterAuthProvider",co,[]),pf(e,"OAuthProvider",no,[rf("providerId")]),pf(e,"SAMLAuthProvider",to,[rf("providerId")]),pf(e,"PhoneAuthProvider",wo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof wl)}}]),pf(e,"RecaptchaVerifier",ef,[ff(rf(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),af("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof r.a.app.App)}}]),pf(e,"ActionCodeURL",ri,[]),r.a.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:T((e=new wl(e)).getUid,e),getToken:T(e.cc,e),addAuthTokenListener:T(e.Wb,e),removeAuthTokenListener:T(e.Ec,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(n){}})),r.a.INTERNAL.extendNamespace({User:Mc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}.call(this,n(7))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r,o=n(19),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Array.isArray,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function h(e,t){return e(t={exports:{}},t.exports),t.exports}var d="object"==typeof f&&f&&f.Object===Object&&f,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),m=v.Symbol,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,w=m?m.toStringTag:void 0;var _=function(e){var t=y.call(e,w),n=e[w];try{e[w]=void 0;var r=!0}catch(o){}var i=b.call(e);return r&&(t?e[w]=n:delete e[w]),i},E=Object.prototype.toString;var S=function(e){return E.call(e)},T="[object Null]",C="[object Undefined]",I=m?m.toStringTag:void 0;var k=function(e){return null==e?void 0===e?C:T:I&&I in Object(e)?_(e):S(e)};var A=function(e){return null!=e&&"object"==typeof e},O="[object Symbol]";var N=function(e){return"symbol"==typeof e||A(e)&&k(e)==O},x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/;var P=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!N(e))||(R.test(e)||!x.test(e)||null!=t&&e in Object(t))};var D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},M="[object AsyncFunction]",j="[object Function]",L="[object GeneratorFunction]",F="[object Proxy]";var U=function(e){if(!D(e))return!1;var t=k(e);return t==j||t==L||t==M||t==F},B=v["__core-js_shared__"],V=function(){var e=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var q=function(e){return!!V&&V in e},W=Function.prototype.toString;var z=function(e){if(null!=e){try{return W.call(e)}catch(t){}try{return e+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,H=Function.prototype,G=Object.prototype,Q=H.toString,Y=G.hasOwnProperty,$=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var X=function(e){return!(!D(e)||q(e))&&(U(e)?$:K).test(z(e))};var J=function(e,t){return null==e?void 0:e[t]};var Z=function(e,t){var n=J(e,t);return X(n)?n:void 0},ee=Z(Object,"create");var te=function(){this.__data__=ee?ee(null):{},this.size=0};var ne=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re="__lodash_hash_undefined__",ie=Object.prototype.hasOwnProperty;var oe=function(e){var t=this.__data__;if(ee){var n=t[e];return n===re?void 0:n}return ie.call(t,e)?t[e]:void 0},ae=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;return ee?void 0!==t[e]:ae.call(t,e)},ue="__lodash_hash_undefined__";var ce=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?ue:t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=te,le.prototype.delete=ne,le.prototype.get=oe,le.prototype.has=se,le.prototype.set=ce;var fe=le;var he=function(){this.__data__=[],this.size=0};var de=function(e,t){return e===t||e!==e&&t!==t};var pe=function(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1},ve=Array.prototype.splice;var me=function(e){var t=this.__data__,n=pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ve.call(t,n,1),--this.size,!0)};var ge=function(e){var t=this.__data__,n=pe(t,e);return n<0?void 0:t[n][1]};var ye=function(e){return pe(this.__data__,e)>-1};var be=function(e,t){var n=this.__data__,r=pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=he,we.prototype.delete=me,we.prototype.get=ge,we.prototype.has=ye,we.prototype.set=be;var _e=we,Ee=Z(v,"Map");var Se=function(){this.size=0,this.__data__={hash:new fe,map:new(Ee||_e),string:new fe}};var Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ce=function(e,t){var n=e.__data__;return Te(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ie=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t};var ke=function(e){return Ce(this,e).get(e)};var Ae=function(e){return Ce(this,e).has(e)};var Oe=function(e,t){var n=Ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ne.prototype.clear=Se,Ne.prototype.delete=Ie,Ne.prototype.get=ke,Ne.prototype.has=Ae,Ne.prototype.set=Oe;var xe=Ne,Re="Expected a function";function Pe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Re);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pe.Cache||xe),n}Pe.Cache=xe;var De=Pe,Me=500;var je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/\\(\\)?/g,Fe=function(e){var t=De(e,(function(e){return n.size===Me&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(je,(function(e,n,r,i){t.push(r?i.replace(Le,"$1"):n||e)})),t}));var Ue=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Be=1/0,Ve=m?m.prototype:void 0,qe=Ve?Ve.toString:void 0;var We=function e(t){if("string"==typeof t)return t;if(l(t))return Ue(t,e)+"";if(N(t))return qe?qe.call(t):"";var n=t+"";return"0"==n&&1/t==-Be?"-0":n};var ze=function(e){return null==e?"":We(e)};var Ke=function(e,t){return l(e)?e:P(e,t)?[e]:Fe(ze(e))},He=1/0;var Ge=function(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-He?"-0":t};var Qe=function(e,t){for(var n=0,r=(t=Ke(t,e)).length;null!=e&&n<r;)e=e[Ge(t[n++])];return n&&n==r?e:void 0};var Ye=function(e,t,n){var r=null==e?void 0:Qe(e,t);return void 0===r?n:r},$e=function(){try{var e=Z(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Xe=function(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Je=Object.prototype.hasOwnProperty;var Ze=function(e,t,n){var r=e[t];Je.call(e,t)&&de(r,n)&&(void 0!==n||t in e)||Xe(e,t,n)},et=9007199254740991,tt=/^(?:0|[1-9]\d*)$/;var nt=function(e,t){var n=typeof e;return!!(t=null==t?et:t)&&("number"==n||"symbol"!=n&&tt.test(e))&&e>-1&&e%1==0&&e<t};var rt=function(e,t,n,r){if(!D(e))return e;for(var i=-1,o=(t=Ke(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=Ge(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=D(l)?l:nt(t[i+1])?[]:{})}Ze(s,u,c),s=s[u]}return e};var it=function(e,t,n){return null==e?e:rt(e,t,n)};var ot=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},at="[object Arguments]";var st=function(e){return A(e)&&k(e)==at},ut=Object.prototype,ct=ut.hasOwnProperty,lt=ut.propertyIsEnumerable,ft=st(function(){return arguments}())?st:function(e){return A(e)&&ct.call(e,"callee")&&!lt.call(e,"callee")};var ht=function(){return!1},dt=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?v.Buffer:void 0,o=(i?i.isBuffer:void 0)||ht;e.exports=o})),pt=9007199254740991;var vt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=pt},mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Arguments]"]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object Boolean]"]=mt["[object DataView]"]=mt["[object Date]"]=mt["[object Error]"]=mt["[object Function]"]=mt["[object Map]"]=mt["[object Number]"]=mt["[object Object]"]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object WeakMap]"]=!1;var gt=function(e){return A(e)&&vt(e.length)&&!!mt[k(e)]};var yt=function(e){return function(t){return e(t)}},bt=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&d.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),wt=bt&&bt.isTypedArray,_t=wt?yt(wt):gt,Et=Object.prototype.hasOwnProperty;var St=function(e,t){var n=l(e),r=!n&&ft(e),i=!n&&!r&&dt(e),o=!n&&!r&&!i&&_t(e),a=n||r||i||o,s=a?ot(e.length,String):[],u=s.length;for(var c in e)!t&&!Et.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||nt(c,u))||s.push(c);return s},Tt=Object.prototype;var Ct=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Tt)};var It=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),kt=Object.prototype.hasOwnProperty;var At=function(e){if(!Ct(e))return It(e);var t=[];for(var n in Object(e))kt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Ot=function(e){return null!=e&&vt(e.length)&&!U(e)};var Nt=function(e){return Ot(e)?St(e):At(e)};var xt=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var Rt=function(e,t,n){if(!D(n))return!1;var r=typeof t;return!!("number"==r?Ot(n)&&nt(t,n.length):"string"==r&&t in n)&&de(n[t],e)},Pt=NaN,Dt=/^\s+|\s+$/g,Mt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,Lt=/^0o[0-7]+$/i,Ft=parseInt;var Ut=function(e){if("number"==typeof e)return e;if(N(e))return Pt;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Dt,"");var n=jt.test(e);return n||Lt.test(e)?Ft(e.slice(2),n?2:8):Mt.test(e)?Pt:+e},Bt=1/0,Vt=17976931348623157e292;var qt=function(e){return e?(e=Ut(e))===Bt||e===-Bt?(e<0?-1:1)*Vt:e===e?e:0:0===e?e:0};var Wt=function(e){var t=qt(e),n=t%1;return t===t?n?t-n:t:0},zt=Math.ceil,Kt=Math.max;var Ht=function(e,t,n){t=(n?Rt(e,t,n):void 0===t)?1:Kt(Wt(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(zt(r/t));i<r;)a[o++]=xt(e,i,i+=t);return a};var Gt=function(){if(!arguments.length)return[];var e=arguments[0];return l(e)?e:[e]},Qt=function(e){var t={ref:function(t){var n=i._ensureService("firestore",e);e.emitter.emit("schema:ref",{schemaKey:t});var r=n.collection("fl_schemas").where("_fl_meta_.env","==",e.env);return t?r.where("_fl_meta_.fl_id","==",t):r},getRaw:function(e){var n=e.schemaKey,r=s(e,["schemaKey"]);return o.applyOptionsForCF(t.ref(n),r).get({source:r.source||"default"})},get:function(n){void 0===n&&(n={});var r=n.schemaKey,i=s(n,["schemaKey"]);return u(this,void 0,void 0,(function(){var n,s,u;return c(this,(function(c){switch(c.label){case 0:return n=o.pluckResultFields(i.fields),s=Ye(e,"cache.schemas["+e.env+"]"+(r?"."+r:""),{}),Nt(s).length&&!o.hasNonCacheableOptionsForCF(i)?[3,2]:[4,t.getRaw(a({schemaKey:r},i))];case 1:if((u=c.sent()).empty)return[2,null];s={},u.forEach((function(e){var t=e.data();s[Ye(t,"_fl_meta_.fl_id",e.id)]=t})),r&&(s=o.unwrap(r,s)),c.label=2;case 2:return r&&(s=o.wrap(r,s)),[4,n(r?o.unwrap(r,s):s)];case 3:return[2,c.sent()]}}))}))},getFields:function(e){var n=e.schemaKey,r=e.fields,i=s(e,["schemaKey","fields"]);return u(this,void 0,void 0,(function(){var e,s;return c(this,(function(u){switch(u.label){case 0:return e=o.pluckResultFields(r),[4,t.get(a({schemaKey:n},i))];case 1:return(s=u.sent())?n?[2,e(s.fields)]:[2,Nt(s).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=e(s[n].fields),r))}),{})]:[2,s]}}))}))},subscribeRaw:function(n){var r=n.schemaKey,i=n.callback,a=s(n,["schemaKey","callback"]),u=o.applyOptionsForCF(t.ref(r),a),c=[];return e.usesAdminApp||c.push({includeMetadataChanges:!!a.includeMetadataChanges}),c.push((function(e){return i(null,e)}),(function(e){return i(e,null)})),u.onSnapshot.apply(u,c)},subscribe:function(e){var n=e.schemaKey,r=e.callback,i=e.changeType,l=s(e,["schemaKey","callback","changeType"]),f=o.pluckResultFields(l.fields);return t.subscribeRaw(a({schemaKey:n},l,{callback:function(e,t){return u(this,void 0,void 0,(function(){var o,a;return c(this,(function(s){if(e)return[2,r(e,null)];if(t.empty)return[2,r(null,null)];if(o={},i){if(t.docChanges().forEach((function(e){if(e.type===i){var t=e.doc.data();o[Ye(t,"_fl_meta_.fl_id",e.doc.id)]=t}})),!Nt(o).length)return[2]}else t.forEach((function(e){var t=e.data();o[Ye(t,"_fl_meta_.fl_id",e.id)]=t}));return a=f(o),[2,r(null,n?a[n]:a)]}))}))}}))},subscribeFields:function(e){var n=e.schemaKey,r=e.fields,i=e.callback,l=e.changeType,f=s(e,["schemaKey","fields","callback","changeType"]),h=o.pluckResultFields(r);return t.subscribeRaw(a({schemaKey:n},f,{callback:function(e,t){return u(this,void 0,void 0,(function(){var r,o;return c(this,(function(a){if(e)return[2,i(e,null)];if(t.empty)return[2,i(null,null)];if(r={},l){if(t.docChanges().forEach((function(e){if(e.type===l){var t=e.doc.data();r[Ye(t,"_fl_meta_.fl_id",e.doc.id)]=Ye(t,"fields")}})),!Nt(r).length)return[2]}else t.forEach((function(e){var t=e.data();r[Ye(t,"_fl_meta_.fl_id",e.id)]=Ye(t,"fields")}));return o=n?h(r[n]):Nt(r).reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=h(r[t]),n))}),{}),[2,i(null,o)]}))}))}}))},add:function(t){var n=t.schemaKey,r=t.data;return u(this,void 0,void 0,(function(){var t,a,s,u,l;return c(this,(function(c){switch(c.label){case 0:if("string"!==typeof n||"object"!==typeof r)throw new o.FlamelinkError('"add" called with the incorrect arguments. Check the docs for details.');return t=i._ensureService("firestore",e),a=t.collection("fl_schemas"),s=a.doc(),u=s.id,l=Object.assign({},r,{_fl_meta_:{createdBy:o.getCurrentUser(e),createdDate:o.getTimestamp(e),env:e.env,docId:u,fl_id:n},description:r.description||"",enabled:"undefined"===typeof r.enabled||Boolean(r.enabled),fields:r.fields?Gt(r.fields):[],group:r.group||"",icon:r.icon||"",id:n,sortable:"undefined"===typeof r.sortable||Boolean(r.sortable),title:r.title||n,type:r.type||"collection"}),[4,s.set(l)];case 1:return c.sent(),[2,l]}}))}))},update:function(n){var r=n.schemaKey,i=n.data;return u(this,void 0,void 0,(function(){var n,a,s,u;return c(this,(function(c){switch(c.label){case 0:if("string"!==typeof r||"object"!==typeof i)throw new o.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return[4,t.ref(r).get()];case 1:return(n=c.sent()).empty?(o.logWarning('No schema existed with a key of "'+r+'" - creating new schema instead.'),[2,t.add({schemaKey:r,data:i})]):(a=[],n.forEach((function(e){return a.push(e)})),s=a[0],u=Object.assign({},i,{"_fl_meta_.createdBy":s.get("_fl_meta_.createdBy"),"_fl_meta_.createdDate":s.get("_fl_meta_.createdDate"),"_fl_meta_.lastModifiedBy":o.getCurrentUser(e),"_fl_meta_.lastModifiedDate":o.getTimestamp(e),"_fl_meta_.fl_id":r,id:r}),[4,s.ref.update(u)]);case 2:return c.sent(),[2,u]}}))}))},remove:function(n){var r=n.schemaKey;return u(this,void 0,void 0,(function(){var n,a,s,l=this;return c(this,(function(f){switch(f.label){case 0:if(!r)throw new o.FlamelinkError('"remove" called with the incorrect arguments. Check the docs for details.');return[4,t.getRaw({schemaKey:r})];case 1:return(n=f.sent()).empty?[2]:(a=Ht(n.docs,500),s=i._ensureService("firestore",e),[2,o.createQueue((function(e){return u(l,void 0,void 0,(function(){var t;return c(this,(function(n){return t=s.batch(),e.forEach((function(e){return t.delete(e.ref)})),[2,t.commit()]}))}))}),a).start()])}}))}))}};return"function"===typeof Ye(e,"emitter.once")&&e.emitter.once("schema:ref",(function(){e.precache&&(!0===e.precache?[null]:Ye(e,"precache.schemas",[null])).forEach((function(n){t.subscribe({schemaKey:n,callback:function(t,r){return t?o.logError(t.toString()):it(e,"cache.schemas["+e.env+"]"+(n?"."+n:""),r)}})}))})),t},Yt=function(e){return"cf"===e.dbType?Qt(e):null};i._registerModule("schemas",Yt),t.factory=Qt,t.register=Yt}).call(this,n(7))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r,o=n(19),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Array.isArray,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function h(e,t){return e(t={exports:{}},t.exports),t.exports}var d="object"==typeof f&&f&&f.Object===Object&&f,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),m=v.Symbol,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,w=m?m.toStringTag:void 0;var _=function(e){var t=y.call(e,w),n=e[w];try{e[w]=void 0;var r=!0}catch(o){}var i=b.call(e);return r&&(t?e[w]=n:delete e[w]),i},E=Object.prototype.toString;var S=function(e){return E.call(e)},T="[object Null]",C="[object Undefined]",I=m?m.toStringTag:void 0;var k=function(e){return null==e?void 0===e?C:T:I&&I in Object(e)?_(e):S(e)};var A=function(e){return null!=e&&"object"==typeof e},O="[object Symbol]";var N=function(e){return"symbol"==typeof e||A(e)&&k(e)==O},x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/;var P=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!N(e))||(R.test(e)||!x.test(e)||null!=t&&e in Object(t))};var D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},M="[object AsyncFunction]",j="[object Function]",L="[object GeneratorFunction]",F="[object Proxy]";var U=function(e){if(!D(e))return!1;var t=k(e);return t==j||t==L||t==M||t==F},B=v["__core-js_shared__"],V=function(){var e=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var q=function(e){return!!V&&V in e},W=Function.prototype.toString;var z=function(e){if(null!=e){try{return W.call(e)}catch(t){}try{return e+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,H=Function.prototype,G=Object.prototype,Q=H.toString,Y=G.hasOwnProperty,$=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var X=function(e){return!(!D(e)||q(e))&&(U(e)?$:K).test(z(e))};var J=function(e,t){return null==e?void 0:e[t]};var Z=function(e,t){var n=J(e,t);return X(n)?n:void 0},ee=Z(Object,"create");var te=function(){this.__data__=ee?ee(null):{},this.size=0};var ne=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re="__lodash_hash_undefined__",ie=Object.prototype.hasOwnProperty;var oe=function(e){var t=this.__data__;if(ee){var n=t[e];return n===re?void 0:n}return ie.call(t,e)?t[e]:void 0},ae=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;return ee?void 0!==t[e]:ae.call(t,e)},ue="__lodash_hash_undefined__";var ce=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?ue:t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=te,le.prototype.delete=ne,le.prototype.get=oe,le.prototype.has=se,le.prototype.set=ce;var fe=le;var he=function(){this.__data__=[],this.size=0};var de=function(e,t){return e===t||e!==e&&t!==t};var pe=function(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1},ve=Array.prototype.splice;var me=function(e){var t=this.__data__,n=pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ve.call(t,n,1),--this.size,!0)};var ge=function(e){var t=this.__data__,n=pe(t,e);return n<0?void 0:t[n][1]};var ye=function(e){return pe(this.__data__,e)>-1};var be=function(e,t){var n=this.__data__,r=pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=he,we.prototype.delete=me,we.prototype.get=ge,we.prototype.has=ye,we.prototype.set=be;var _e=we,Ee=Z(v,"Map");var Se=function(){this.size=0,this.__data__={hash:new fe,map:new(Ee||_e),string:new fe}};var Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ce=function(e,t){var n=e.__data__;return Te(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ie=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t};var ke=function(e){return Ce(this,e).get(e)};var Ae=function(e){return Ce(this,e).has(e)};var Oe=function(e,t){var n=Ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ne.prototype.clear=Se,Ne.prototype.delete=Ie,Ne.prototype.get=ke,Ne.prototype.has=Ae,Ne.prototype.set=Oe;var xe=Ne,Re="Expected a function";function Pe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Re);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pe.Cache||xe),n}Pe.Cache=xe;var De=Pe,Me=500;var je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/\\(\\)?/g,Fe=function(e){var t=De(e,(function(e){return n.size===Me&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(je,(function(e,n,r,i){t.push(r?i.replace(Le,"$1"):n||e)})),t}));var Ue=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Be=1/0,Ve=m?m.prototype:void 0,qe=Ve?Ve.toString:void 0;var We=function e(t){if("string"==typeof t)return t;if(l(t))return Ue(t,e)+"";if(N(t))return qe?qe.call(t):"";var n=t+"";return"0"==n&&1/t==-Be?"-0":n};var ze=function(e){return null==e?"":We(e)};var Ke=function(e,t){return l(e)?e:P(e,t)?[e]:Fe(ze(e))},He=1/0;var Ge=function(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-He?"-0":t};var Qe=function(e,t){for(var n=0,r=(t=Ke(t,e)).length;null!=e&&n<r;)e=e[Ge(t[n++])];return n&&n==r?e:void 0};var Ye=function(e,t,n){var r=null==e?void 0:Qe(e,t);return void 0===r?n:r},$e=function(){try{var e=Z(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Xe=function(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Je=Object.prototype.hasOwnProperty;var Ze=function(e,t,n){var r=e[t];Je.call(e,t)&&de(r,n)&&(void 0!==n||t in e)||Xe(e,t,n)},et=9007199254740991,tt=/^(?:0|[1-9]\d*)$/;var nt=function(e,t){var n=typeof e;return!!(t=null==t?et:t)&&("number"==n||"symbol"!=n&&tt.test(e))&&e>-1&&e%1==0&&e<t};var rt=function(e,t,n,r){if(!D(e))return e;for(var i=-1,o=(t=Ke(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=Ge(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=D(l)?l:nt(t[i+1])?[]:{})}Ze(s,u,c),s=s[u]}return e};var it=function(e,t,n){return null==e?e:rt(e,t,n)};var ot=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},at="[object Arguments]";var st=function(e){return A(e)&&k(e)==at},ut=Object.prototype,ct=ut.hasOwnProperty,lt=ut.propertyIsEnumerable,ft=st(function(){return arguments}())?st:function(e){return A(e)&&ct.call(e,"callee")&&!lt.call(e,"callee")};var ht=function(){return!1},dt=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?v.Buffer:void 0,o=(i?i.isBuffer:void 0)||ht;e.exports=o})),pt=9007199254740991;var vt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=pt},mt={};mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Arguments]"]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object Boolean]"]=mt["[object DataView]"]=mt["[object Date]"]=mt["[object Error]"]=mt["[object Function]"]=mt["[object Map]"]=mt["[object Number]"]=mt["[object Object]"]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object WeakMap]"]=!1;var gt=function(e){return A(e)&&vt(e.length)&&!!mt[k(e)]};var yt=function(e){return function(t){return e(t)}},bt=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&d.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),wt=bt&&bt.isTypedArray,_t=wt?yt(wt):gt,Et=Object.prototype.hasOwnProperty;var St=function(e,t){var n=l(e),r=!n&&ft(e),i=!n&&!r&&dt(e),o=!n&&!r&&!i&&_t(e),a=n||r||i||o,s=a?ot(e.length,String):[],u=s.length;for(var c in e)!t&&!Et.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||nt(c,u))||s.push(c);return s},Tt=Object.prototype;var Ct=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Tt)};var It=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),kt=Object.prototype.hasOwnProperty;var At=function(e){if(!Ct(e))return It(e);var t=[];for(var n in Object(e))kt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Ot=function(e){return null!=e&&vt(e.length)&&!U(e)};var Nt=function(e){return Ot(e)?St(e):At(e)};var xt=function(){if(!arguments.length)return[];var e=arguments[0];return l(e)?e:[e]},Rt=function(e){var t={ref:function(t){var n=i._ensureService("database",e);return e.emitter.emit("schema:ref",{schemaKey:t}),n.ref(function(e,t){return"/flamelink/environments/"+t+"/schemas/"+(e||"")}(t,e.env))},getRaw:function(e){var n=e.schemaKey,r=s(e,["schemaKey"]);return o.applyOptionsForRTDB(t.ref(n),r).once(r.event||"value")},get:function(n){void 0===n&&(n={});var r=n.schemaKey,i=s(n,["schemaKey"]);return u(this,void 0,void 0,(function(){var n,s,u;return c(this,(function(c){switch(c.label){case 0:return n=o.pluckResultFields(i.fields),(s=Ye(e,"cache.schemas["+e.env+"]"+(r?"."+r:"")))&&!o.hasNonCacheableOptionsForRTDB(i)?[3,2]:[4,t.getRaw(a({schemaKey:r},i))];case 1:u=c.sent(),s=u.val(),c.label=2;case 2:return r&&(s=o.wrap(r,s)),[4,n(r?o.unwrap(r,s):s)];case 3:return[2,c.sent()]}}))}))},getFieldsRaw:function(e){var n=e.schemaKey,r=s(e,["schemaKey"]);return o.applyOptionsForRTDB(t.ref(n?n+"/fields":""),r).once(r.event||"value")},getFields:function(n){var r=n.schemaKey,i=s(n,["schemaKey"]);return u(this,void 0,void 0,(function(){var n,s,u,l,f;return c(this,(function(c){switch(c.label){case 0:return n=o.pluckResultFields(i.fields),s=Ye(e,"cache.schemas["+e.env+"]"+(r?"."+r:"")),r?(u=Ye(s,"fields",null))&&!o.hasNonCacheableOptionsForRTDB(i)?[3,2]:[4,t.getFieldsRaw(a({schemaKey:r},i))]:[3,4];case 1:f=c.sent(),u=f.val(),c.label=2;case 2:return[4,n(u)];case 3:return[2,c.sent()];case 4:return(l=s)&&!o.hasNonCacheableOptionsForRTDB(i)?[3,6]:[4,t.getFieldsRaw(i)];case 5:f=c.sent(),l=f.val(),c.label=6;case 6:return[2,Nt(l).reduce((function(e,t){var r;return Object.assign(e,((r={})[t]=n(l[t].fields),r))}),{})]}}))}))},subscribeRaw:function(e){var n=e.schemaKey,r=e.callback,i=s(e,["schemaKey","callback"]),a=o.applyOptionsForRTDB(t.ref(n),i);a.on(i.event||"value",(function(e){return r(null,e)}),(function(e){return r(e,null)}));return function(){return a.off(i.event||"value")}},subscribe:function(e){var n=e.schemaKey,r=e.callback,i=s(e,["schemaKey","callback"]),l=o.pluckResultFields(i.fields);return t.subscribeRaw(a({schemaKey:n},i,{callback:function(e,t){return u(this,void 0,void 0,(function(){var i,a;return c(this,(function(s){switch(s.label){case 0:return e?[2,r(e,null)]:(i=n?o.wrap(n,t.val()):t.val(),[4,l(i)]);case 1:return a=s.sent(),[2,r(null,n?o.unwrap(n,a):a)]}}))}))}}))},subscribeFields:function(e){var n=e.schemaKey,r=e.fields,i=e.callback,l=s(e,["schemaKey","fields","callback"]),f=o.pluckResultFields(r);return t.subscribeRaw(a({schemaKey:n},l,{callback:function(e,t){return u(this,void 0,void 0,(function(){var r,o,a,s,l=this;return c(this,(function(h){switch(h.label){case 0:return e?[2,i(e,null)]:(r=t.val(),n?[4,f(Ye(r,"fields",null))]:[3,2]);case 1:return o=h.sent(),[2,i(null,o)];case 2:return[4,Promise.all(Object.keys(r||{}).map((function(e){return u(l,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,f(r[e].fields)];case 1:return t=n.sent(),[2,{sKey:e,sFields:t}]}}))}))})))];case 3:return a=h.sent(),s=a.reduce((function(e,t){var n;return Object.assign(e,((n={})[t.sKey]=t.sFields,n))}),{}),[2,i(null,s)]}}))}))}}))},add:function(n){var r=n.schemaKey,i=n.data;return u(this,void 0,void 0,(function(){var n;return c(this,(function(a){switch(a.label){case 0:if("string"!==typeof r||"object"!==typeof i&&null!==i)throw new o.FlamelinkError('"add" called with the incorrect arguments. Check the docs for details.');return n="object"===typeof i?Object.assign({},i,{__meta__:{createdBy:o.getCurrentUser(e),createdDate:o.getTimestamp(e)},description:i.description||"",enabled:"undefined"===typeof i.enabled||Boolean(i.enabled),fields:i.fields?xt(i.fields):[],group:i.group||"",icon:i.icon||"",id:r,sortable:"undefined"===typeof i.sortable||Boolean(i.sortable),title:i.title||r,type:i.type||"collection"}):i,[4,t.ref(r).set(n)];case 1:return a.sent(),[2,n]}}))}))},update:function(n){var r=n.schemaKey,i=n.data;return u(this,void 0,void 0,(function(){var n;return c(this,(function(a){switch(a.label){case 0:if("string"!==typeof r||"object"!==typeof i&&null!==i)throw new o.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return n="object"===typeof i?Object.assign({},i,{"__meta__/lastModifiedBy":o.getCurrentUser(e),"__meta__/lastModifiedDate":o.getTimestamp(e),id:r}):i,[4,t.ref(r).update(n)];case 1:return a.sent(),[2,n]}}))}))},remove:function(e){var n=e.schemaKey;if(!n)throw new o.FlamelinkError('"remove" called with the incorrect arguments. Check the docs for details.');return t.ref(n).remove()}};return"function"===typeof Ye(e,"emitter.once")&&e.emitter.once("schema:ref",(function(){e.precache&&(!0===e.precache?[null]:Ye(e,"precache.schemas",[null])).forEach((function(n){t.subscribe({schemaKey:n,callback:function(t,r){return t?o.logError(t.toString()):it(e,"cache.schemas["+e.env+"]"+(n?"."+n:""),r)}})}))})),t},Pt=function(e){return"rtdb"===e.dbType?Rt(e):null};i._registerModule("schemas",Pt),t.factory=Rt,t.register=Pt}).call(this,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise((function(n){var r=document.createElement("img"),i=new FileReader,u=Object.assign({},a,t);i.onload=function(e){r.src=e.target.result,r.onload=function(){u.autoRotate&&(u.debug&&console.log("browser-image-resizer: detecting image orientation..."),"function"===typeof o.default.getData&&"function"===typeof o.default.getTag?o.default.getData(r,(function(){var e=o.default.getTag(this,"Orientation");u.debug&&console.log("browser-image-resizer: image orientation from EXIF tag = "+e),n(s(r,u,e))})):(console.error("browser-image-resizer: can't read EXIF data, the Exif.js library not found"),n(s(r,u))))}},i.readAsDataURL(e)}))},t.scaleImage=s;var r,i=n(95),o=(r=i)&&r.__esModule?r:{default:r};var a={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"};function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("canvas");r.width=e.width,r.height=e.height;var i=r.getContext("2d");i.save(),function(e,t,n,r){var i=e.width,o=e.style.width,a=e.height,s=e.style.height;n>4&&(e.width=a,e.style.width=s,e.height=i,e.style.height=o);switch(n){case 2:t.translate(i,0),t.scale(-1,1);break;case 3:t.translate(i,a),t.rotate(Math.PI);break;case 4:t.translate(0,a),t.scale(1,-1);break;case 5:t.rotate(.5*Math.PI),t.scale(1,-1);break;case 6:t.rotate(.5*Math.PI),t.translate(0,-a);break;case 7:t.rotate(.5*Math.PI),t.translate(i,-a),t.scale(-1,1);break;case 8:t.rotate(-.5*Math.PI),t.translate(-i,0)}t.drawImage(r,0,0),t.restore()}(r,i,n,e);for(var o=function(e,t){var n=t.width/t.height,r=Math.min(t.width,e.maxWidth,n*e.maxHeight);e.maxSize>0&&e.maxSize<t.width*t.height/1e3&&(r=Math.min(r,Math.floor(1e3*e.maxSize/t.height)));e.scaleRatio&&(r=Math.min(r,Math.floor(e.scaleRatio*t.width)));e.debug&&(console.log("browser-image-resizer: original image size = "+t.width+" px (width) X "+t.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+r+" px (width) X "+Math.floor(r/n)+" px (height)"));r<=0&&(r=1,console.warning("browser-image-resizer: image size is too small"));return r}(t,r);r.width>=2*o;)r=u(r);r.width>o&&(r=function(e,t){var n=document.createElement("canvas"),r=t.outputWidth/e.width;n.width=e.width*r,n.height=e.height*r;var i=e.getContext("2d").getImageData(0,0,e.width,e.height),o=n.getContext("2d").createImageData(n.width,n.height);return function(e,t,n){function r(e,t,n,r,i,o){var a=1-i,s=1-o;return e*a*s+t*i*s+n*a*o+r*i*o}var i,o,a,s,u,c,l,f,h,d,p,v,m,g,y,b,w,_,E;for(i=0;i<t.height;++i)for(a=i/n,s=Math.floor(a),u=Math.ceil(a)>e.height-1?e.height-1:Math.ceil(a),o=0;o<t.width;++o)c=o/n,l=Math.floor(c),f=Math.ceil(c)>e.width-1?e.width-1:Math.ceil(c),h=4*(o+t.width*i),d=4*(l+e.width*s),p=4*(f+e.width*s),v=4*(l+e.width*u),m=4*(f+e.width*u),g=c-l,y=a-s,b=r(e.data[d],e.data[p],e.data[v],e.data[m],g,y),t.data[h]=b,w=r(e.data[d+1],e.data[p+1],e.data[v+1],e.data[m+1],g,y),t.data[h+1]=w,_=r(e.data[d+2],e.data[p+2],e.data[v+2],e.data[m+2],g,y),t.data[h+2]=_,E=r(e.data[d+3],e.data[p+3],e.data[v+3],e.data[m+3],g,y),t.data[h+3]=E}(i,o,r),n.getContext("2d").putImageData(o,0,0),n}(r,Object.assign(t,{outputWidth:o})));var a=r.toDataURL(t.mimeType,t.quality);return"function"===typeof t.onScale&&t.onScale(a),function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})}(a)}function u(e){var t=document.createElement("canvas");return t.width=e.width/2,t.height=e.height/2,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t}},function(e,t,n){"use strict";e.exports=n(103)},function(e,t,n){"use strict";(function(t,r){var i=n(38);e.exports=b;var o,a=n(57);b.ReadableState=y;n(40).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(58),c=n(42).Buffer,l=t.Uint8Array||function(){};var f=n(34);f.inherits=n(32);var h=n(106),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,v=n(107),m=n(59);f.inherits(b,u);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(30));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(60).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(30),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,T(e)}(e,a)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):I(e,a)):_(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),I(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(60).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){d("emit readable"),e.emit("readable"),N(e)}function I(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){d("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):T(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&R(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&R(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function c(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",f),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",v),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",c);var f=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",f);var h=!1;var p=!1;function v(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){d("onerror",t),b(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),b()}function y(){d("onfinish"),e.removeListener("close",g),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",v),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",y),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=D(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):i.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(O,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=x}).call(this,n(7),n(29))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(40).EventEmitter},function(e,t,n){"use strict";var r=n(38);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(112).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=a;var r=n(30),i=n(34);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(32),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),i=o(n(99));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),s=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var c="undefined"!=typeof document,l=/^[+-]?((\.\d+)|(\d+(\.\d+)?))$/,f=/^([+-]|\.0*|[+-]\.0*|[+-]?\d+\.)?$/;function h(e,t,n){var r=e[t];if("function"==typeof r){for(var i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];r=r.apply(void 0,o)}return void 0===r?n:r}var d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return a._isStrict=!!a.props.strict,a.state=r({btnDownHover:!1,btnDownActive:!1,btnUpHover:!1,btnUpActive:!1,stringValue:""},a._propsToState(a.props)),a.stop=a.stop.bind(a),a.onTouchEnd=a.onTouchEnd.bind(a),a.refsInput={},a.refsWrapper={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_propsToState",value:function(e){var t={};return e.hasOwnProperty("value")?(t.stringValue=String(e.value||0===e.value?e.value:"").trim(),t.value=""!==t.stringValue?this._parse(e.value):null):!this._isMounted&&e.hasOwnProperty("defaultValue")&&(t.stringValue=String(e.defaultValue||0===e.defaultValue?e.defaultValue:"").trim(),t.value=""!==e.defaultValue?this._parse(e.defaultValue):null),t}},{key:"componentWillReceiveProps",value:function(e){var t=this;this._isStrict=!!e.strict;var n=this._propsToState(e);Object.keys(n).length&&(this._ignoreValueChange=!0,this.setState(n,(function(){t._ignoreValueChange=!1})))}},{key:"componentWillUpdate",value:function(){this.saveSelection()}},{key:"componentDidUpdate",value:function(e,t){this._ignoreValueChange||t.value===this.state.value||isNaN(this.state.value)&&null!==this.state.value||this._invokeEventCallback("onChange",this.state.value,this.refsInput.value,this.refsInput),this._inputFocus&&(this.refsInput.focus(),(this.state.selectionStart||0===this.state.selectionStart)&&(this.refsInput.selectionStart=this.state.selectionStart),(this.state.selectionEnd||0===this.state.selectionEnd)&&(this.refsInput.selectionEnd=this.state.selectionEnd)),this.checkValidity()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.stop()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.refsInput.getValueAsNumber=function(){return e.state.value||0},this.refsInput.setValue=function(t){e.setState({value:e._parse(t),stringValue:t})},!this._inputFocus&&c&&document.activeElement===this.refsInput&&(this._inputFocus=!0,this.refsInput.focus(),this._invokeEventCallback("onFocus",{target:this.refsInput,type:"focus"})),this.checkValidity()}},{key:"saveSelection",value:function(){this.state.selectionStart=this.refsInput.selectionStart,this.state.selectionEnd=this.refsInput.selectionEnd}},{key:"checkValidity",value:function(){var e=void 0,t="",n=!!this.refsInput.checkValidity,r=!(!this.props.noValidate||"false"==this.props.noValidate);this.refsInput.noValidate=r,(e=r||!n)?t="":(""===this.refsInput.pattern&&(this.refsInput.pattern=this.props.required?".+":".*"),n&&(this.refsInput.checkValidity(),(e=this.refsInput.validity.valid)||(t=this.refsInput.validationMessage)),e&&n&&this.props.maxLength&&this.refsInput.value.length>this.props.maxLength&&(t="This value is too long")),t=t||(e?"":this.refsInput.validationMessage||"Unknown Error");var i=this._valid!==t;this._valid=t,t?(!function(e,t){if(e.classList)return e.classList.add(t);e.className.search(new RegExp("\\b"+t+"\\b"))||(e.className=" "+t)}(this.refsWrapper,"has-error"),i&&this._invokeEventCallback("onInvalid",t,this.state.value,this.refsInput.value)):(!function(e,t){if(e.className){if(e.classList)return e.classList.remove(t);e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}}(this.refsWrapper,"has-error"),i&&this._invokeEventCallback("onValid",this.state.value,this.refsInput.value))}},{key:"_toNumber",value:function(e){var n=parseFloat(e);if(!isNaN(n)&&isFinite(n)||(n=0),this._isStrict){var r=h(this.props,"precision",null,this),i=Math.pow(10,null===r?10:r),o=+h(this.props,"min",t.defaultProps.min,this),a=+h(this.props,"max",t.defaultProps.max,this);n=Math.min(Math.max(n,o),a),n=Math.round(n*i)/i}return n}},{key:"_parse",value:function(e){return e=String(e),"function"==typeof this.props.parse?parseFloat(this.props.parse(e)):parseFloat(e)}},{key:"_format",value:function(e){var t=this._toNumber(e),n=h(this.props,"precision",null,this);return null!==n&&(t=e.toFixed(n)),t+="",this.props.format?this.props.format(t):t}},{key:"_step",value:function(e,n){var r=this._isStrict;this._isStrict=!0;var i=+h(this.props,"step",t.defaultProps.step,this,e>0?t.DIRECTION_UP:t.DIRECTION_DOWN),o=this._toNumber((this.state.value||0)+i*e);return this.props.snap&&(o=Math.round(o/i)*i),this._isStrict=r,o!==this.state.value&&(this.setState({value:o,stringValue:o+""},n),!0)}},{key:"_onKeyDown",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].persist(),this._invokeEventCallback.apply(this,["onKeyDown"].concat(t));var r=t[0];if(!r.isDefaultPrevented())if(38===r.keyCode)r.preventDefault(),this._step(r.ctrlKey||r.metaKey?.1:r.shiftKey?10:1);else if(40===r.keyCode)r.preventDefault(),this._step(r.ctrlKey||r.metaKey?-.1:r.shiftKey?-10:-1);else{var i=this.refsInput.value,o=i.length;8===r.keyCode?this.refsInput.selectionStart==this.refsInput.selectionEnd&&this.refsInput.selectionEnd>0&&i.length&&"."===i.charAt(this.refsInput.selectionEnd-1)&&(r.preventDefault(),this.refsInput.selectionStart=this.refsInput.selectionEnd=this.refsInput.selectionEnd-1):46===r.keyCode&&this.refsInput.selectionStart==this.refsInput.selectionEnd&&this.refsInput.selectionEnd<o+1&&i.length&&"."===i.charAt(this.refsInput.selectionEnd)&&(r.preventDefault(),this.refsInput.selectionStart=this.refsInput.selectionEnd=this.refsInput.selectionEnd+1)}}},{key:"stop",value:function(){this._timer&&clearTimeout(this._timer)}},{key:"increase",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1];this.stop(),this._step(1,r);var i=+h(this.props,"max",t.defaultProps.max,this);(isNaN(this.state.value)||+this.state.value<i)&&(this._timer=setTimeout((function(){e.increase(!0)}),n?t.SPEED:t.DELAY))}},{key:"decrease",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1];this.stop(),this._step(-1,r);var i=+h(this.props,"min",t.defaultProps.min,this);(isNaN(this.state.value)||+this.state.value>i)&&(this._timer=setTimeout((function(){e.decrease(!0)}),n?t.SPEED:t.DELAY))}},{key:"onMouseDown",value:function(e,t){"down"==e?this.decrease(!1,t):"up"==e&&this.increase(!1,t)}},{key:"onTouchStart",value:function(e,t){t.preventDefault(),"down"==e?this.decrease():"up"==e&&this.increase()}},{key:"onTouchEnd",value:function(e){e.preventDefault(),this.stop()}},{key:"_invokeEventCallback",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.props[e]).call.apply(t,[null].concat(r))}}},{key:"render",value:function(){var e=this,n=this.props,i=this.state,o={},s=this.props,u=(s.step,s.min,s.max,s.precision,s.parse,s.format,s.mobile),h=(s.snap,s.componentClass),d=(s.value,s.type,s.style),p=(s.defaultValue,s.onInvalid,s.onValid,s.strict,s.noStyle),v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(s,["step","min","max","precision","parse","format","mobile","snap","componentClass","value","type","style","defaultValue","onInvalid","onValid","strict","noStyle"]);for(var m in p=p||!1===d,t.style)o[m]=r({},t.style[m],d&&d[m]||{});var g=n.className&&/\bform-control\b/.test(n.className);"auto"==u&&(u=c&&"ontouchstart"in document),"function"==typeof u&&(u=u.call(this)),u=!!u;var y={wrap:{style:p?null:o.wrap,className:"react-numeric-input",ref:function(t){null!=t&&void 0!=t&&(e.refsWrapper=t)},onMouseUp:void 0,onMouseLeave:void 0},input:r({ref:function(t){null!=t&&void 0!=t&&(e.refsInput=t)},type:"text",style:p?null:r({},o.input,g?{}:o["input:not(.form-control)"],this._inputFocus?o["input:focus"]:{})},v),btnUp:{onMouseEnter:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseLeave:void 0,onTouchStart:void 0,onTouchEnd:void 0,style:p?null:r({},o.btn,o.btnUp,n.disabled||n.readOnly?o["btn:disabled"]:i.btnUpActive?o["btn:active"]:i.btnUpHover?o["btn:hover"]:{})},btnDown:{onMouseEnter:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseLeave:void 0,onTouchStart:void 0,onTouchEnd:void 0,style:p?null:r({},o.btn,o.btnDown,n.disabled||n.readOnly?o["btn:disabled"]:i.btnDownActive?o["btn:active"]:i.btnDownHover?o["btn:hover"]:{})}},b=String(i.stringValue||(i.value||0===i.value?i.value:"")||""),w=!this._isStrict&&(this._inputFocus||!this._isMounted);w&&f.test(b)?y.input.value=b:w&&b&&!l.test(b)?y.input.value=b:i.value||0===i.value?y.input.value=this._format(i.value):y.input.value="",g&&!p&&r(y.wrap.style,o["wrap.hasFormControl"]),u&&!p&&(r(y.input.style,o["input.mobile"]),r(y.btnUp.style,o["btnUp.mobile"]),r(y.btnDown.style,o["btnDown.mobile"])),n.disabled||n.readOnly?!p&&n.disabled&&r(y.input.style,o["input:disabled"]):(r(y.wrap,{onMouseUp:this.stop,onMouseLeave:this.stop}),r(y.btnUp,{onTouchStart:this.onTouchStart.bind(this,"up"),onTouchEnd:this.onTouchEnd,onMouseEnter:function(){e.setState({btnUpHover:!0})},onMouseLeave:function(){e.stop(),e.setState({btnUpHover:!1,btnUpActive:!1})},onMouseUp:function(){e.setState({btnUpHover:!0,btnUpActive:!1})},onMouseDown:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n[0].preventDefault(),n[0].persist(),e._inputFocus=!0,e.setState({btnUpHover:!0,btnUpActive:!0},(function(){e._invokeEventCallback.apply(e,["onFocus"].concat(n)),e.onMouseDown("up")}))}}),r(y.btnDown,{onTouchStart:this.onTouchStart.bind(this,"down"),onTouchEnd:this.onTouchEnd,onMouseEnter:function(){e.setState({btnDownHover:!0})},onMouseLeave:function(){e.stop(),e.setState({btnDownHover:!1,btnDownActive:!1})},onMouseUp:function(){e.setState({btnDownHover:!0,btnDownActive:!1})},onMouseDown:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n[0].preventDefault(),n[0].persist(),e._inputFocus=!0,e.setState({btnDownHover:!0,btnDownActive:!0},(function(){e._invokeEventCallback.apply(e,["onFocus"].concat(n)),e.onMouseDown("down")}))}}),r(y.input,{onChange:function(t){var n=t.target.value,r=e._parse(n);isNaN(r)&&(r=null),e.setState({value:e._isStrict?e._toNumber(r):r,stringValue:n})},onKeyDown:this._onKeyDown.bind(this),onInput:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.saveSelection(),e._invokeEventCallback.apply(e,["onInput"].concat(n))},onSelect:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.saveSelection(),e._invokeEventCallback.apply(e,["onSelect"].concat(n))},onFocus:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n[0].persist(),e._inputFocus=!0;var i=e._parse(n[0].target.value);e.setState({value:i,stringValue:i||0===i?i+"":""},(function(){e._invokeEventCallback.apply(e,["onFocus"].concat(n))}))},onBlur:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e._isStrict;e._isStrict=!0,n[0].persist(),e._inputFocus=!1;var o=e._parse(n[0].target.value);e.setState({value:o},(function(){e._invokeEventCallback.apply(e,["onBlur"].concat(n)),e._isStrict=i}))}}));var _=h||"input";return u?a.default.createElement("span",y.wrap,a.default.createElement(_,y.input),a.default.createElement("b",y.btnUp,a.default.createElement("i",{style:p?null:o.minus}),a.default.createElement("i",{style:p?null:o.plus})),a.default.createElement("b",y.btnDown,a.default.createElement("i",{style:p?null:o.minus}))):a.default.createElement("span",y.wrap,a.default.createElement(_,y.input),a.default.createElement("b",y.btnUp,a.default.createElement("i",{style:p?null:o.arrowUp})),a.default.createElement("b",y.btnDown,a.default.createElement("i",{style:p?null:o.arrowDown})))}}]),t}(o.Component);d.propTypes={step:s.default.oneOfType([s.default.number,s.default.func]),min:s.default.oneOfType([s.default.number,s.default.func]),max:s.default.oneOfType([s.default.number,s.default.func]),precision:s.default.oneOfType([s.default.number,s.default.func]),maxLength:s.default.number,parse:s.default.func,format:s.default.func,className:s.default.string,disabled:s.default.bool,readOnly:s.default.bool,required:s.default.bool,snap:s.default.bool,noValidate:s.default.oneOfType([s.default.bool,s.default.string]),style:s.default.oneOfType([s.default.object,s.default.bool]),noStyle:s.default.bool,type:s.default.string,pattern:s.default.string,onFocus:s.default.func,onBlur:s.default.func,onKeyDown:s.default.func,onChange:s.default.func,onInvalid:s.default.func,onValid:s.default.func,onInput:s.default.func,onSelect:s.default.func,size:s.default.oneOfType([s.default.number,s.default.string]),value:s.default.oneOfType([s.default.number,s.default.string]),defaultValue:s.default.oneOfType([s.default.number,s.default.string]),strict:s.default.bool,componentClass:s.default.string,mobile:function(e,t){var n=e[t];if(!0!==n&&!1!==n&&"auto"!==n&&"function"!=typeof n)return new Error('The "mobile" prop must be true, false, "auto" or a function')}},d.defaultProps={step:1,min:Number.MIN_SAFE_INTEGER||-9007199254740991,max:Number.MAX_SAFE_INTEGER||9007199254740991,precision:null,parse:null,format:null,mobile:"auto",strict:!1,componentClass:"input",style:{}},d.style={wrap:{position:"relative",display:"inline-block"},"wrap.hasFormControl":{display:"block"},arrowUp:{position:"absolute",top:"50%",left:"50%",width:0,height:0,borderWidth:"0 0.6ex 0.6ex 0.6ex",borderColor:"transparent transparent rgba(0, 0, 0, 0.7)",borderStyle:"solid",margin:"-0.3ex 0 0 -0.56ex"},arrowDown:{position:"absolute",top:"50%",left:"50%",width:0,height:0,borderWidth:"0.6ex 0.6ex 0 0.6ex",borderColor:"rgba(0, 0, 0, 0.7) transparent transparent",borderStyle:"solid",margin:"-0.3ex 0 0 -0.56ex"},plus:{position:"absolute",top:"50%",left:"50%",width:2,height:10,background:"rgba(0,0,0,.7)",margin:"-5px 0 0 -1px"},minus:{position:"absolute",top:"50%",left:"50%",width:10,height:2,background:"rgba(0,0,0,.7)",margin:"-1px 0 0 -5px"},btn:{position:"absolute",right:2,width:"2.26ex",borderColor:"rgba(0,0,0,.1)",borderStyle:"solid",textAlign:"center",cursor:"default",transition:"all 0.1s",background:"rgba(0,0,0,.1)",boxShadow:"-1px -1px 3px rgba(0,0,0,.1) inset,1px 1px 3px rgba(255,255,255,.7) inset"},btnUp:{top:2,bottom:"50%",borderRadius:"2px 2px 0 0",borderWidth:"1px 1px 0 1px"},"btnUp.mobile":{width:"3.3ex",bottom:2,boxShadow:"none",borderRadius:2,borderWidth:1},btnDown:{top:"50%",bottom:2,borderRadius:"0 0 2px 2px",borderWidth:"0 1px 1px 1px"},"btnDown.mobile":{width:"3.3ex",bottom:2,left:2,top:2,right:"auto",boxShadow:"none",borderRadius:2,borderWidth:1},"btn:hover":{background:"rgba(0,0,0,.2)"},"btn:active":{background:"rgba(0,0,0,.3)",boxShadow:"0 1px 3px rgba(0,0,0,.2) inset,-1px -1px 4px rgba(255,255,255,.5) inset"},"btn:disabled":{opacity:.5,boxShadow:"none",cursor:"not-allowed"},input:{paddingRight:"3ex",boxSizing:"border-box",fontSize:"inherit"},"input:not(.form-control)":{border:"1px solid #ccc",borderRadius:2,paddingLeft:4,display:"block",WebkitAppearance:"none",lineHeight:"normal"},"input.mobile":{paddingLeft:" 3.4ex",paddingRight:"3.4ex",textAlign:"center"},"input:focus":{},"input:disabled":{color:"rgba(0, 0, 0, 0.3)",textShadow:"0 1px 0 rgba(255, 255, 255, 0.8)"}},d.SPEED=50,d.DELAY=500,d.DIRECTION_UP="up",d.DIRECTION_DOWN="down",e.exports=d},function(e,t){e.exports=n(0)},function(e,t){e.exports=n(6)}])},function(e,t,n){"use strict";var r=n(55),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(b){}}}return t}return t}},function(e,t,n){"use strict";(function(e,r){var i=n(0),o=n.n(i),a=n(6),s=n.n(a),u=n(68),c=n.n(u);n(24);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?g(e):t}"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w(e,t){return e(t={exports:{}},t.exports),t.exports}var _=b(w((function(e,t){var n;n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),o=n(7),a=n(4),s=function(){function e(t,n){var r=n.location,i=void 0===r?0:r,o=n.distance,s=void 0===o?100:o,u=n.threshold,c=void 0===u?.6:u,l=n.maxPatternLength,f=void 0===l?32:l,h=n.isCaseSensitive,d=void 0!==h&&h,p=n.tokenSeparator,v=void 0===p?/ +/g:p,m=n.findAllMatches,g=void 0!==m&&m,y=n.minMatchCharLength,b=void 0===y?1:y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:s,threshold:c,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:v,findAllMatches:g,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=a(this.pattern))}return r(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return i(e,this.pattern,r);var a=this.options,s=a.location,u=a.distance,c=a.threshold,l=a.findAllMatches,f=a.minMatchCharLength;return o(e,this.pattern,this.patternAlphabet,{location:s,distance:u,threshold:c,findAllMatches:l,minMatchCharLength:f})}}]),e}();e.exports=s},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,i){if(n){var o=n.indexOf("."),a=n,s=null;-1!==o&&(a=n.slice(0,o),s=n.slice(o+1));var u=t[a];if(null!==u&&void 0!==u)if(s||"string"!==typeof u&&"number"!==typeof u)if(r(u))for(var c=0,l=u.length;c<l;c+=1)e(u[c],s,i);else s&&e(u,s,i);else i.push(u.toString())}else i.push(t);return i}(e,t,[])}},function(e,t,n){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===r?r=o:s||-1===r||((i=o-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}},function(e,t,n){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t,n){var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(r,"\\$&").replace(n,"|")),o=e.match(i),a=!!o,s=[];if(a)for(var u=0,c=o.length;u<c;u+=1){var l=o[u];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,i=t.currentLocation,o=void 0===i?0:i,a=t.expectedLocation,s=void 0===a?0:a,u=t.distance,c=void 0===u?100:u,l=r/e.length,f=Math.abs(s-o);return c?l+f/c:f?1:l}},function(e,t,n){var r=n(6),i=n(3);e.exports=function(e,t,n,o){for(var a=o.location,s=void 0===a?0:a,u=o.distance,c=void 0===u?100:u,l=o.threshold,f=void 0===l?.6:l,h=o.findAllMatches,d=void 0!==h&&h,p=o.minMatchCharLength,v=void 0===p?1:p,m=s,g=e.length,y=f,b=e.indexOf(t,m),w=t.length,_=[],E=0;E<g;E+=1)_[E]=0;if(-1!==b){var S=r(t,{errors:0,currentLocation:b,expectedLocation:m,distance:c});if(y=Math.min(S,y),-1!==(b=e.lastIndexOf(t,m+w))){var T=r(t,{errors:0,currentLocation:b,expectedLocation:m,distance:c});y=Math.min(T,y)}}b=-1;for(var C=[],I=1,k=w+g,A=1<<w-1,O=0;O<w;O+=1){for(var N=0,x=k;N<x;)r(t,{errors:O,currentLocation:m+x,expectedLocation:m,distance:c})<=y?N=x:k=x,x=Math.floor((k-N)/2+N);k=x;var R=Math.max(1,m-x+1),P=d?g:Math.min(m+x,g)+w,D=Array(P+2);D[P+1]=(1<<O)-1;for(var M=P;M>=R;M-=1){var j=M-1,L=n[e.charAt(j)];if(L&&(_[j]=1),D[M]=(D[M+1]<<1|1)&L,0!==O&&(D[M]|=(C[M+1]|C[M])<<1|1|C[M+1]),D[M]&A&&(I=r(t,{errors:O,currentLocation:j,expectedLocation:m,distance:c}))<=y){if(y=I,(b=j)<=m)break;R=Math.max(1,2*m-b)}}if(r(t,{errors:O+1,currentLocation:m,expectedLocation:m,distance:c})>y)break;C=D}return{isMatch:b>=0,score:0===I?.001:I,matchedIndices:i(_,v)}}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(2),a=n(0),s=function(){function e(t,n){var r=n.location,i=void 0===r?0:r,a=n.distance,s=void 0===a?100:a,u=n.threshold,c=void 0===u?.6:u,l=n.maxPatternLength,f=void 0===l?32:l,h=n.caseSensitive,d=void 0!==h&&h,p=n.tokenSeparator,v=void 0===p?/ +/g:p,m=n.findAllMatches,g=void 0!==m&&m,y=n.minMatchCharLength,b=void 0===y?1:y,w=n.id,_=void 0===w?null:w,E=n.keys,S=void 0===E?[]:E,T=n.shouldSort,C=void 0===T||T,I=n.getFn,k=void 0===I?o:I,A=n.sortFn,O=void 0===A?function(e,t){return e.score-t.score}:A,N=n.tokenize,x=void 0!==N&&N,R=n.matchAllTokens,P=void 0!==R&&R,D=n.includeMatches,M=void 0!==D&&D,j=n.includeScore,L=void 0!==j&&j,F=n.verbose,U=void 0!==F&&F;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:s,threshold:c,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:v,findAllMatches:g,minMatchCharLength:b,id:_,keys:S,includeMatches:M,includeScore:L,shouldSort:C,getFn:k,sortFn:O,verbose:U,tokenize:x,matchAllTokens:P},this.setCollection(t)}return r(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),n=t.tokenSearchers,r=t.fullSearcher,i=this._search(n,r),o=i.weights,a=i.results;return this._computeScore(o,a),this.options.shouldSort&&this._sort(a),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)t.push(new i(n[r],this.options));var a=new i(e,this.options);return{tokenSearchers:t,fullSearcher:a}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.list,r={},i=[];if("string"===typeof n[0]){for(var o=0,a=n.length;o<a;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var s={},u=0,c=n.length;u<c;u+=1)for(var l=n[u],f=0,h=this.options.keys.length;f<h;f+=1){var d=this.options.keys[f];if("string"!==typeof d){if(s[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error("Key weight has to be > 0 and <= 1");d=d.name}else s[d]={weight:1};this._analyze({key:d,value:this.options.getFn(l,d),record:l,index:u},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:i}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,i=void 0===r?-1:r,o=e.value,s=e.record,u=e.index,c=t.tokenSearchers,l=void 0===c?[]:c,f=t.fullSearcher,h=void 0===f?[]:f,d=t.resultMap,p=void 0===d?{}:d,v=t.results,m=void 0===v?[]:v;if(void 0!==o&&null!==o){var g=!1,y=-1,b=0;if("string"===typeof o){this._log("\nKey: "+(""===n?"-":n));var w=h.search(o);if(this._log('Full text: "'+o+'", score: '+w.score),this.options.tokenize){for(var _=o.split(this.options.tokenSeparator),E=[],S=0;S<l.length;S+=1){var T=l[S];this._log('\nPattern: "'+T.pattern+'"');for(var C=!1,I=0;I<_.length;I+=1){var k=_[I],A=T.search(k),O={};A.isMatch?(O[k]=A.score,g=!0,C=!0,E.push(A.score)):(O[k]=1,this.options.matchAllTokens||E.push(1)),this._log('Token: "'+k+'", score: '+O[k])}C&&(b+=1)}y=E[0];for(var N=E.length,x=1;x<N;x+=1)y+=E[x];y/=N,this._log("Token score average:",y)}var R=w.score;y>-1&&(R=(R+y)/2),this._log("Score average:",R);var P=!this.options.tokenize||!this.options.matchAllTokens||b>=l.length;if(this._log("\nCheck Matches: "+P),(g||w.isMatch)&&P){var D=p[u];D?D.output.push({key:n,arrayIndex:i,value:o,score:R,matchedIndices:w.matchedIndices}):(p[u]={item:s,output:[{key:n,arrayIndex:i,value:o,score:R,matchedIndices:w.matchedIndices}]},m.push(p[u]))}}else if(a(o))for(var M=0,j=o.length;M<j;M+=1)this._analyze({key:n,arrayIndex:M,value:o[M],record:s,index:u},{resultMap:p,results:m,tokenSearchers:l,fullSearcher:h})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var i=t[n].output,o=i.length,a=1,s=1,u=0;u<o;u+=1){var c=e?e[i[u].key].weight:1,l=(1===c?i[u].score:i[u].score||.001)*c;1!==c?s=Math.min(s,l):(i[u].nScore=l,a*=l)}t[n].score=1===s?a:s,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this.options.verbose&&this._log("\n\nOutput:\n\n",JSON.stringify(e));var n=[];this.options.includeMatches&&n.push((function(e,t){var n=e.output;t.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var a={indices:o.matchedIndices,value:o.value};o.key&&(a.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(a.arrayIndex=o.arrayIndex),t.matches.push(a)}}})),this.options.includeScore&&n.push((function(e,t){t.score=e.score}));for(var r=0,i=e.length;r<i;r+=1){var o=e[r];if(this.options.id&&(o.item=this.options.getFn(o.item,this.options.id)[0]),n.length){for(var a={item:o.item},s=0,u=n.length;s<u;s+=1)n[s](o,a);t.push(a)}else t.push(o.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),e}();e.exports=s}])},e.exports=n()}))),E=w((function(e,t){e.exports=function e(t){var n=/^\0+/g,r=/[\0\r\f]/g,i=/: */g,o=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,u=/ +\s*(?![^(]*[)])/g,c=/ *[\0] */g,l=/,\r+?/g,f=/([\t\r\n ])*\f?&/g,h=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,m=/:(read-only)/g,g=/\s+(?=[{\];=:>])/g,y=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,_=/([^\(])(:+) */g,E=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,T=/([\s\S]*?);/g,C=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,O="-webkit-",N="-moz-",x="-ms-",R=59,P=125,D=123,M=40,j=41,L=91,F=93,U=10,B=13,V=9,q=64,W=32,z=38,K=45,H=95,G=42,Q=44,Y=58,$=39,X=34,J=47,Z=62,ee=43,te=126,ne=0,re=12,ie=11,oe=107,ae=109,se=115,ue=112,ce=111,le=105,fe=99,he=100,de=112,pe=1,ve=1,me=0,ge=1,ye=1,be=1,we=0,_e=0,Ee=0,Se=[],Te=[],Ce=0,Ie=null,ke=-2,Ae=-1,Oe=0,Ne=1,xe=2,Re=3,Pe=0,De=1,Me="",je="",Le="";function Fe(e,t,i,o,a){for(var s,u,l=0,f=0,h=0,d=0,g=0,y=0,b=0,w=0,E=0,T=0,C=0,I=0,k=0,A=0,H=0,we=0,Te=0,Ie=0,ke=0,Ae=i.length,Be=Ae-1,He="",Ge="",Qe="",Ye="",$e="",Xe="";H<Ae;){if(b=i.charCodeAt(H),H===Be&&f+d+h+l!==0&&(0!==f&&(b=f===J?U:J),d=h=l=0,Ae++,Be++),f+d+h+l===0){if(H===Be&&(we>0&&(Ge=Ge.replace(r,"")),Ge.trim().length>0)){switch(b){case W:case V:case R:case B:case U:break;default:Ge+=i.charAt(H)}b=R}if(1===Te)switch(b){case D:case P:case R:case X:case $:case M:case j:case Q:Te=0;case V:case B:case U:case W:break;default:for(Te=0,ke=H,g=b,H--,b=R;ke<Ae;)switch(i.charCodeAt(ke++)){case U:case B:case R:++H,b=g,ke=Ae;break;case Y:we>0&&(++H,b=g);case D:ke=Ae}}switch(b){case D:for(g=(Ge=Ge.trim()).charCodeAt(0),C=1,ke=++H;H<Ae;){switch(b=i.charCodeAt(H)){case D:C++;break;case P:C--;break;case J:switch(y=i.charCodeAt(H+1)){case G:case J:H=Ke(y,H,Be,i)}break;case L:b++;case M:b++;case X:case $:for(;H++<Be&&i.charCodeAt(H)!==b;);}if(0===C)break;H++}switch(Qe=i.substring(ke,H),g===ne&&(g=(Ge=Ge.replace(n,"").trim()).charCodeAt(0)),g){case q:switch(we>0&&(Ge=Ge.replace(r,"")),y=Ge.charCodeAt(1)){case he:case ae:case se:case K:s=t;break;default:s=Se}if(ke=(Qe=Fe(t,s,Qe,y,a+1)).length,Ee>0&&0===ke&&(ke=Ge.length),Ce>0&&(s=Ue(Se,Ge,Ie),u=ze(Re,Qe,s,t,ve,pe,ke,y,a,o),Ge=s.join(""),void 0!==u&&0===(ke=(Qe=u.trim()).length)&&(y=0,Qe="")),ke>0)switch(y){case se:Ge=Ge.replace(S,We);case he:case ae:case K:Qe=Ge+"{"+Qe+"}";break;case oe:Qe=(Ge=Ge.replace(p,"$1 $2"+(De>0?Me:"")))+"{"+Qe+"}",Qe=1===ye||2===ye&&qe("@"+Qe,3)?"@"+O+Qe+"@"+Qe:"@"+Qe;break;default:Qe=Ge+Qe,o===de&&(Ye+=Qe,Qe="")}else Qe="";break;default:Qe=Fe(t,Ue(t,Ge,Ie),Qe,o,a+1)}$e+=Qe,I=0,Te=0,A=0,we=0,Ie=0,k=0,Ge="",Qe="",b=i.charCodeAt(++H);break;case P:case R:if((ke=(Ge=(we>0?Ge.replace(r,""):Ge).trim()).length)>1)switch(0===A&&((g=Ge.charCodeAt(0))===K||g>96&&g<123)&&(ke=(Ge=Ge.replace(" ",":")).length),Ce>0&&void 0!==(u=ze(Ne,Ge,t,e,ve,pe,Ye.length,o,a,o))&&0===(ke=(Ge=u.trim()).length)&&(Ge="\0\0"),g=Ge.charCodeAt(0),y=Ge.charCodeAt(1),g){case ne:break;case q:if(y===le||y===fe){Xe+=Ge+i.charAt(H);break}default:if(Ge.charCodeAt(ke-1)===Y)break;Ye+=Ve(Ge,g,y,Ge.charCodeAt(2))}I=0,Te=0,A=0,we=0,Ie=0,Ge="",b=i.charCodeAt(++H)}}switch(b){case B:case U:if(f+d+h+l+_e===0)switch(T){case j:case $:case X:case q:case te:case Z:case G:case ee:case J:case K:case Y:case Q:case R:case D:case P:break;default:A>0&&(Te=1)}f===J?f=0:ge+I===0&&o!==oe&&Ge.length>0&&(we=1,Ge+="\0"),Ce*Pe>0&&ze(Oe,Ge,t,e,ve,pe,Ye.length,o,a,o),pe=1,ve++;break;case R:case P:if(f+d+h+l===0){pe++;break}default:switch(pe++,He=i.charAt(H),b){case V:case W:if(d+l+f===0)switch(w){case Q:case Y:case V:case W:He="";break;default:b!==W&&(He=" ")}break;case ne:He="\\0";break;case re:He="\\f";break;case ie:He="\\v";break;case z:d+f+l===0&&ge>0&&(Ie=1,we=1,He="\f"+He);break;case 108:if(d+f+l+me===0&&A>0)switch(H-A){case 2:w===ue&&i.charCodeAt(H-3)===Y&&(me=w);case 8:E===ce&&(me=E)}break;case Y:d+f+l===0&&(A=H);break;case Q:f+h+d+l===0&&(we=1,He+="\r");break;case X:case $:0===f&&(d=d===b?0:0===d?b:d);break;case L:d+f+h===0&&l++;break;case F:d+f+h===0&&l--;break;case j:d+f+l===0&&h--;break;case M:if(d+f+l===0){if(0===I)switch(2*w+3*E){case 533:break;default:C=0,I=1}h++}break;case q:f+h+d+l+A+k===0&&(k=1);break;case G:case J:if(d+l+h>0)break;switch(f){case 0:switch(2*b+3*i.charCodeAt(H+1)){case 235:f=J;break;case 220:ke=H,f=G}break;case G:b===J&&w===G&&ke+2!==H&&(33===i.charCodeAt(ke+2)&&(Ye+=i.substring(ke,H+1)),He="",f=0)}}if(0===f){if(ge+d+l+k===0&&o!==oe&&b!==R)switch(b){case Q:case te:case Z:case ee:case j:case M:if(0===I){switch(w){case V:case W:case U:case B:He+="\0";break;default:He="\0"+He+(b===Q?"":"\0")}we=1}else switch(b){case M:A+7===H&&108===w&&(A=0),I=++C;break;case j:0==(I=--C)&&(we=1,He+="\0")}break;case V:case W:switch(w){case ne:case D:case P:case R:case Q:case re:case V:case W:case U:case B:break;default:0===I&&(we=1,He+="\0")}}Ge+=He,b!==W&&b!==V&&(T=b)}}E=w,w=b,H++}if(ke=Ye.length,Ee>0&&0===ke&&0===$e.length&&0===t[0].length==0&&(o!==ae||1===t.length&&(ge>0?je:Le)===t[0])&&(ke=t.join(",").length+2),ke>0){if(s=0===ge&&o!==oe?function(e){for(var t,n,i=0,o=e.length,a=Array(o);i<o;++i){for(var s=e[i].split(c),u="",l=0,f=0,h=0,d=0,p=s.length;l<p;++l)if(!(0===(f=(n=s[l]).length)&&p>1)){if(h=u.charCodeAt(u.length-1),d=n.charCodeAt(0),t="",0!==l)switch(h){case G:case te:case Z:case ee:case W:case M:break;default:t=" "}switch(d){case z:n=t+je;case te:case Z:case ee:case W:case j:case M:break;case L:n=t+n+je;break;case Y:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(be>0){n=t+n.substring(8,f-1);break}default:(l<1||s[l-1].length<1)&&(n=t+je+n)}break;case Q:t="";default:n=f>1&&n.indexOf(":")>0?t+n.replace(_,"$1"+je+"$2"):t+n+je}u+=n}a[i]=u.replace(r,"").trim()}return a}(t):t,Ce>0&&void 0!==(u=ze(xe,Ye,s,e,ve,pe,ke,o,a,o))&&0===(Ye=u).length)return Xe+Ye+$e;if(Ye=s.join(",")+"{"+Ye+"}",ye*me!=0){switch(2!==ye||qe(Ye,2)||(me=0),me){case ce:Ye=Ye.replace(m,":"+N+"$1")+Ye;break;case ue:Ye=Ye.replace(v,"::"+O+"input-$1")+Ye.replace(v,"::"+N+"$1")+Ye.replace(v,":"+x+"input-$1")+Ye}me=0}}return Xe+Ye+$e}function Ue(e,t,n){var r=t.trim().split(l),i=r,o=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,u=0===a?"":e[0]+" ";s<o;++s)i[s]=Be(u,i[s],n,a).trim();break;default:s=0;var c=0;for(i=[];s<o;++s)for(var f=0;f<a;++f)i[c++]=Be(e[f]+" ",r[s],n,a).trim()}return i}function Be(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case z:switch(ge+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(f,"$1"+e.trim())}break;case Y:switch(i.charCodeAt(1)){case 103:if(be>0&&ge>0)return i.replace(h,"$1").replace(f,"$1"+Le);break;default:return e.trim()+i.replace(f,"$1"+e.trim())}default:if(n*ge>0&&i.indexOf("\f")>0)return i.replace(f,(e.charCodeAt(0)===Y?"":"$1")+e.trim())}return e+i}function Ve(e,t,n,r){var c,l=0,f=e+";",h=2*t+3*n+4*r;if(944===h)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*De){case 0:break;case K:if(110!==e.charCodeAt(10))break;default:var o=i.split((i="",s)),a=0;for(n=0,t=o.length;a<t;n=0,++a){for(var c=o[a],l=c.split(u);c=l[n];){var f=c.charCodeAt(0);if(1===De&&(f>q&&f<90||f>96&&f<123||f===H||f===K&&c.charCodeAt(1)!==K))switch(isNaN(parseFloat(c))+(-1!==c.indexOf("("))){case 1:switch(c){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:c+=Me}}l[n++]=c}i+=(0===a?"":",")+l.join(" ")}}return i=r+i+";",1===ye||2===ye&&qe(i,1)?O+i+i:i}(f);if(0===ye||2===ye&&!qe(f,1))return f;switch(h){case 1015:return 97===f.charCodeAt(10)?O+f+f:f;case 951:return 116===f.charCodeAt(3)?O+f+f:f;case 963:return 110===f.charCodeAt(5)?O+f+f:f;case 1009:if(100!==f.charCodeAt(4))break;case 969:case 942:return O+f+f;case 978:return O+f+N+f+f;case 1019:case 983:return O+f+N+f+x+f+f;case 883:return f.charCodeAt(8)===K?O+f+f:f.indexOf("image-set(",11)>0?f.replace(A,"$1"+O+"$2")+f:f;case 932:if(f.charCodeAt(4)===K)switch(f.charCodeAt(5)){case 103:return O+"box-"+f.replace("-grow","")+O+f+x+f.replace("grow","positive")+f;case 115:return O+f+x+f.replace("shrink","negative")+f;case 98:return O+f+x+f.replace("basis","preferred-size")+f}return O+f+x+f+f;case 964:return O+f+x+"flex-"+f+f;case 1023:if(99!==f.charCodeAt(8))break;return c=f.substring(f.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),O+"box-pack"+c+O+f+x+"flex-pack"+c+f;case 1005:return o.test(f)?f.replace(i,":"+O)+f.replace(i,":"+N)+f:f;case 1e3:switch(l=(c=f.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(l)){case 226:c=f.replace(E,"tb");break;case 232:c=f.replace(E,"tb-rl");break;case 220:c=f.replace(E,"lr");break;default:return f}return O+f+x+c+f;case 1017:if(-1===f.indexOf("sticky",9))return f;case 975:switch(l=(f=e).length-10,h=(c=(33===f.charCodeAt(l)?f.substring(0,l):f).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(c.charCodeAt(8)<111)break;case 115:f=f.replace(c,O+c)+";"+f;break;case 207:case 102:f=f.replace(c,O+(h>102?"inline-":"")+"box")+";"+f.replace(c,O+c)+";"+f.replace(c,x+c+"box")+";"+f}return f+";";case 938:if(f.charCodeAt(5)===K)switch(f.charCodeAt(6)){case 105:return c=f.replace("-items",""),O+f+O+"box-"+c+x+"flex-"+c+f;case 115:return O+f+x+"flex-item-"+f.replace(C,"")+f;default:return O+f+x+"flex-line-pack"+f.replace("align-content","").replace(C,"")+f}break;case 973:case 989:if(f.charCodeAt(3)!==K||122===f.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ve(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):f.replace(c,O+c)+f.replace(c,N+c.replace("fill-",""))+f;break;case 962:if(f=O+f+(102===f.charCodeAt(5)?x+f:"")+f,n+r===211&&105===f.charCodeAt(13)&&f.indexOf("transform",10)>0)return f.substring(0,f.indexOf(";",27)+1).replace(a,"$1"+O+"$2")+f}return f}function qe(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return Ie(2!==t?r:r.replace(I,"$1"),i,t)}function We(e,t){var n=Ve(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(T," or ($1)").substring(4):"("+t+")"}function ze(e,t,n,r,i,o,a,s,u,c){for(var l,f=0,h=t;f<Ce;++f)switch(l=Te[f].call(Ge,e,h,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:h=l}if(h!==t)return h}function Ke(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case J:if(e===G&&r.charCodeAt(i-1)===G&&t+2!==i)return i+1;break;case U:if(e===J)return i+1}return i}function He(e){for(var t in e){var n=e[t];switch(t){case"keyframe":De=0|n;break;case"global":be=0|n;break;case"cascade":ge=0|n;break;case"compress":we=0|n;break;case"semicolon":_e=0|n;break;case"preserve":Ee=0|n;break;case"prefix":Ie=null,n?"function"!=typeof n?ye=1:(ye=2,Ie=n):ye=0}}return He}function Ge(t,n){if(void 0!==this&&this.constructor===Ge)return e(t);var i=t,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),De>0&&(Me=i.replace(d,o===L?"":"-")),o=1,1===ge?Le=i:je=i;var a,s=[Le];Ce>0&&void 0!==(a=ze(Ae,n,s,s,ve,pe,0,0,0,0))&&"string"==typeof a&&(n=a);var u=Fe(Se,s,n,0,0);return Ce>0&&void 0!==(a=ze(ke,u,s,s,ve,pe,u.length,0,0,0))&&"string"!=typeof(u=a)&&(o=0),Me="",Le="",je="",me=0,ve=1,pe=1,we*o==0?u:u.replace(r,"").replace(g,"").replace(y,"$1").replace(b,"$1").replace(w," ")}return Ge.use=function e(t){switch(t){case void 0:case null:Ce=Te.length=0;break;default:if("function"==typeof t)Te[Ce++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else Pe=0|!!t}return e},Ge.set=He,void 0!==t&&He(t),Ge}(null)})),S=w((function(e,t){e.exports=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}})),T={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},C=w((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116;function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case u:return e;default:return t}}case v:case p:case i:return t}}}function g(e){return m(e)===f}t.typeOf=m,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=p,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return g(e)||m(e)===l},t.isConcurrentMode=g,t.isContextConsumer=function(e){return m(e)===c},t.isContextProvider=function(e){return m(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return m(e)===h},t.isFragment=function(e){return m(e)===o},t.isLazy=function(e){return m(e)===v},t.isMemo=function(e){return m(e)===p},t.isPortal=function(e){return m(e)===i},t.isProfiler=function(e){return m(e)===s},t.isStrictMode=function(e){return m(e)===a},t.isSuspense=function(e){return m(e)===d}}));b(C);C.typeOf,C.AsyncMode,C.ConcurrentMode,C.ContextConsumer,C.ContextProvider,C.Element,C.ForwardRef,C.Fragment,C.Lazy,C.Memo,C.Portal,C.Profiler,C.StrictMode,C.Suspense,C.isValidElementType,C.isAsyncMode,C.isConcurrentMode,C.isContextConsumer,C.isContextProvider,C.isElement,C.isForwardRef,C.isFragment,C.isLazy,C.isMemo,C.isPortal,C.isProfiler,C.isStrictMode,C.isSuspense;var I=w((function(e,t){0}));b(I);I.typeOf,I.AsyncMode,I.ConcurrentMode,I.ContextConsumer,I.ContextProvider,I.Element,I.ForwardRef,I.Fragment,I.Lazy,I.Memo,I.Portal,I.Profiler,I.StrictMode,I.Suspense,I.isValidElementType,I.isAsyncMode,I.isConcurrentMode,I.isContextConsumer,I.isContextProvider,I.isElement,I.isForwardRef,I.isFragment,I.isLazy,I.isMemo,I.isPortal,I.isProfiler,I.isStrictMode,I.isSuspense;var k=w((function(e){e.exports=C})),A=k.isElement,O=k.isValidElementType,N=k.ForwardRef,x=function(e,t){return e===t};function R(e,t){var n;void 0===t&&(t=x);var r,i=[],o=!1,a=function(e,n){return t(e,i[n],n)};return function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return o&&n===this&&s.length===i.length&&s.every(a)?r:(r=e.apply(this,s),o=!0,n=this,i=s,r)}}var P=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,D=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return P.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),M=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},V=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},q=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},W=function(e){return"object"===("undefined"===typeof e?"undefined":j(e))&&e.constructor===Object},z=Object.freeze([]),K=Object.freeze({});function H(e){return"function"===typeof e}function G(e){return e.displayName||e.name||"Component"}function Q(e){return e&&"string"===typeof e.styledComponentId}var Y="undefined"!==typeof r&&Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_ATTR||"data-styled",$="undefined"!==typeof window&&"HTMLElement"in window,X="boolean"===typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||!1,J={};var Z=function(e){function t(n){L(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=q(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+n+" for more information. "+(i?"Additional arguments: "+i.join(", "):"")));return q(a)}return B(t,e),t}(Error),ee=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,te=function(e){var t=""+(e||""),n=[];return t.replace(ee,(function(e,t,r){return n.push({componentId:t,matchIndex:r}),e})),n.map((function(e,r){var i=e.componentId,o=e.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?t.slice(o,a.matchIndex):t.slice(o)}}))},ne=/^\s*\/\/.*$/gm,re=new E({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),ie=new E({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),oe=[],ae=function(e){if(-2===e){var t=oe;return oe=[],t}},se=S((function(e){oe.push(e)})),ue=void 0,ce=void 0,le=void 0,fe=function(e,t,n){return t>0&&-1!==n.slice(0,t).indexOf(ce)&&n.slice(t-ce.length,t)!==ce?"."+ue:e};ie.use([function(e,t,n){2===e&&n.length&&n[0].lastIndexOf(ce)>0&&(n[0]=n[0].replace(le,fe))},se,ae]),re.use([se,ae]);var he=function(e){return re("",e)};function de(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",i=e.join("").replace(ne,""),o=t&&n?n+" "+t+" { "+i+" }":i;return ue=r,ce=t,le=new RegExp("\\"+ce+"\\b","g"),ie(n||!t?"":t,o)}var pe=function(){return n.nc},ve=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},me=function(e,t){e[t]=Object.create(null)},ge=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},ye=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},be=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new Z(10)},we=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(i){return!1}return!0},_e=function(e){return"\n/* sc-component-id: "+e+" */\n"},Ee=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},Se=function(e,t){return function(n){var r=pe();return"<style "+[r&&'nonce="'+r+'"',Y+'="'+ye(t)+'"','data-styled-version="4.1.3"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},Te=function(e,t){return function(){var n,r=((n={})[Y]=ye(t),n["data-styled-version"]="4.1.3",n),i=pe();return i&&(r.nonce=i),o.a.createElement("style",U({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},Ce=function(e){return function(){return Object.keys(e)}},Ie=function(e){return document.createTextNode(_e(e))},ke=function e(t,n){var r=void 0===t?Object.create(null):t,i=void 0===n?Object.create(null):n,o=function(e){var t=i[e];return void 0!==t?t:i[e]=[""]},a=function(){var e="";for(var t in i){var n=i[t][0];n&&(e+=_e(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=U({},e[n]);return t}(r),n=Object.create(null);for(var o in i)n[o]=[i[o][0]];return e(t,n)},css:a,getIds:Ce(i),hasNameForId:ge(r),insertMarker:o,insertRules:function(e,t,n){o(e)[0]+=t.join(" "),ve(r,e,n)},removeRules:function(e){var t=i[e];void 0!==t&&(t[0]="",me(r,e))},sealed:!1,styleTag:null,toElement:Te(a,r),toHTML:Se(a,r)}},Ae=function(e,t,n,r,i){if($&&!n){var o=function(e,t,n){var r=document.createElement("style");r.setAttribute(Y,""),r.setAttribute("data-styled-version","4.1.3");var i=pe();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new Z(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r);return X?function(e,t){var n=Object.create(null),r=Object.create(null),i=void 0!==t,o=!1,a=function(t){var i=r[t];return void 0!==i?i:(r[t]=Ie(t),e.appendChild(r[t]),n[t]=Object.create(null),r[t])},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new Z(5)},css:s,getIds:Ce(r),hasNameForId:ge(n),insertMarker:a,insertRules:function(e,r,s){for(var u=a(e),c=[],l=r.length,f=0;f<l;f+=1){var h=r[f],d=i;if(d&&-1!==h.indexOf("@import"))c.push(h);else{d=!1;var p=f===l-1?"":" ";u.appendData(""+h+p)}}ve(n,e,s),i&&c.length>0&&(o=!0,t().insertRules(e+"-import",c))},removeRules:function(a){var s=r[a];if(void 0!==s){var u=Ie(a);e.replaceChild(u,s),r[a]=u,me(n,a),i&&o&&t().removeRules(a+"-import")}},sealed:!1,styleTag:e,toElement:Te(s,n),toHTML:Se(s,n)}}(o,i):function(e,t){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==t,a=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=i.length,i.push(0),me(n,e),r[e])},u=function(){var t=be(e).cssRules,n="";for(var o in r){n+=_e(o);for(var a=r[o],s=Ee(i,a),u=s-i[a];u<s;u+=1){var c=t[u];void 0!==c&&(n+=c.cssText)}}return n};return{clone:function(){throw new Z(5)},css:u,getIds:Ce(r),hasNameForId:ge(n),insertMarker:s,insertRules:function(r,u,c){for(var l=s(r),f=be(e),h=Ee(i,l),d=0,p=[],v=u.length,m=0;m<v;m+=1){var g=u[m],y=o;y&&-1!==g.indexOf("@import")?p.push(g):we(f,g,h+d)&&(y=!1,d+=1)}o&&p.length>0&&(a=!0,t().insertRules(r+"-import",p)),i[l]+=d,ve(n,r,c)},removeRules:function(s){var u=r[s];if(void 0!==u){var c=i[u];!function(e,t,n){for(var r=t-n,i=t;i>r;i-=1)e.deleteRule(i)}(be(e),Ee(i,u)-1,c),i[u]=0,me(n,s),o&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:Te(u,n),toHTML:Se(u,n)}}(o,i)}return ke()},Oe=/\s+/,Ne=void 0;Ne=$?X?40:1e3:-1;var xe=0,Re=void 0,Pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];L(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=Ae(t.target,n?n.styleTag:null,t.forceServer,!0)},xe+=1,this.id=xe,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!$||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+Y+'][data-styled-version="4.1.3"]'),i=r.length;if(!i)return this;for(var o=0;o<i;o+=1){var a=r[o];n||(n=!!a.getAttribute("data-styled-streamed"));for(var s,u=(a.getAttribute(Y)||"").trim().split(Oe),c=u.length,l=0;l<c;l+=1)s=u[l],this.rehydratedNames[s]=!0;t.push.apply(t,te(a.textContent)),e.push(a)}var f=t.length;if(!f)return this;var h=this.makeTag(null);!function(e,t,n){for(var r=0,i=n.length;r<i;r+=1){var o=n[r],a=o.componentId,s=o.cssFromDOM,u=he(s);e.insertRules(a,u)}for(var c=0,l=t.length;c<l;c+=1){var f=t[c];f.parentNode&&f.parentNode.removeChild(f)}}(h,e,t),this.capacity=Math.max(1,Ne-f),this.tags.push(h);for(var d=0;d<f;d+=1)this.tagMap[t[d].componentId]=h;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Re=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map((function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r})),t.rehydratedNames=U({},this.rehydratedNames),t.deferred=U({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach((function(e){e.sealed=!0}))},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return Ae(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=Ne,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);o.insertRules(e,a,n),this.deferred[e]=void 0}else o.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map((function(e){return e.toHTML()})).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map((function(t,n){var r="sc-"+e+"-"+n;return Object(i.cloneElement)(t.toElement(),{key:r})}))},F(e,null,[{key:"master",get:function(){return Re||(Re=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),De=function(){function e(t,n){var r=this;L(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new Z(12,String(r.name))},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),Me=/([A-Z])/g,je=/^ms-/;var Le=function(e){return void 0===e||null===e||!1===e||""===e},Fe=function e(t,n){var r=Object.keys(t).filter((function(e){return!Le(t[e])})).map((function(n){return W(t[n])?e(t[n],n):n.replace(Me,"-$1").toLowerCase().replace(je,"-ms-")+": "+(r=n,null==(i=t[n])||"boolean"===typeof i||""===i?"":"number"!==typeof i||0===i||r in T?String(i).trim():i+"px")+";";var r,i})).join(" ");return n?n+" {\n  "+r+"\n}":r};function Ue(e,t,n){if(Array.isArray(e)){for(var r,i=[],o=0,a=e.length;o<a;o+=1)null!==(r=Ue(e[o],t,n))&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));return i}if(Le(e))return null;if(Q(e))return"."+e.styledComponentId;if(H(e)){if(t){var s=!1;try{A(new e(t))&&(s=!0)}catch(u){}if(s)throw new Z(13,G(e));return Ue(e(t),t,n)}return e}return e instanceof De?n?(e.inject(n),e.getName()):e:W(e)?Fe(e):e.toString()}function Be(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(e)||W(e)?Ue(M(z,[e].concat(n))):Ue(M(e,n))}function Ve(e){for(var t,n=0|e.length,r=0|n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var qe=52,We=function(e){return String.fromCharCode(e+(e>25?39:97))};function ze(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(Array.isArray(r)&&!ze(r,t))return!1;if(H(r)&&!Q(r))return!1}return!t.some((function(e){return H(e)||function(e){for(var t in e)if(H(e[t]))return!0;return!1}(e)}))}var Ke,He=!1,Ge=function(e){return function(e){var t="",n=void 0;for(n=e;n>qe;n=Math.floor(n/qe))t=We(n%qe)+t;return We(n%qe)+t}(Ve(e))},Qe=function(){function e(t,n,r){L(this,e),this.rules=t,this.isStatic=!He&&ze(t,n),this.componentId=r,Pe.master.hasId(r)||Pe.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,i=this.lastClassName;if($&&n&&"string"===typeof i&&t.hasNameForId(r,i))return i;var o=Ue(this.rules,e,t),a=Ge(this.componentId+o.join(""));return t.hasNameForId(r,a)||t.inject(this.componentId,de(o,"."+a,void 0,r),a),this.lastClassName=a,a},e.generateName=function(e){return Ge(e)},e}(),Ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K,r=!!n&&e.theme===n.theme,i=e.theme&&!r?e.theme:t||n.theme;return i},$e=/[[\].#*$><+~=|^:(),"'`-]+/g,Xe=/(^-|-$)/g;function Je(e){return e.replace($e,"-").replace(Xe,"")}function Ze(e){return"string"===typeof e&&!0}var et={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},tt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nt=((Ke={})[N]={$$typeof:!0,render:!0},Ke),rt=Object.defineProperty,it=Object.getOwnPropertyNames,ot=Object.getOwnPropertySymbols,at=void 0===ot?function(){return[]}:ot,st=Object.getOwnPropertyDescriptor,ut=Object.getPrototypeOf,ct=Object.prototype,lt=Array.prototype;var ft=Object(i.createContext)(),ht=ft.Consumer,dt=(function(e){function t(n){L(this,t);var r=q(this,e.call(this,n));return r.getContext=R(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}B(t,e),t.prototype.render=function(){return this.props.children?o.a.createElement(ft.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return o.a.createElement(ft.Provider,{value:t},o.a.Children.only(this.props.children))},t.prototype.getTheme=function(e,t){if(H(e))return e(t);if(null===e||Array.isArray(e)||"object"!==("undefined"===typeof e?"undefined":j(e)))throw new Z(8);return U({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)}}(i.Component),function(){function e(){L(this,e),this.masterSheet=Pe.master,this.instance=this.masterSheet.clone(),this.sealed=!1}e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new Z(2);return o.a.createElement(vt,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){var t=this;if($)throw new Z(3);var n=this.instance,r=0,i=new c.a.Transform({transform:function(e,t,i){for(var o=n.tags,a="";r<o.length;r+=1){a+=o[r].toHTML('data-styled-streamed="true"')}n.sealAllTags(),this.push(a+e),i()}});return e.on("end",(function(){return t.seal()})),e.on("error",(function(e){t.seal(),i.emit("error",e)})),e.pipe(i)}}(),Object(i.createContext)()),pt=dt.Consumer,vt=function(e){function t(n){L(this,t);var r=q(this,e.call(this,n));return r.getContext=R(r.getContext),r}return B(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new Pe(t);throw new Z(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return o.a.createElement(dt.Provider,{value:this.getContext(n,r)},t)},t}(i.Component),mt=(new Set,{});var gt=function(e){function t(){L(this,t);var n=q(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return B(t,e),t.prototype.render=function(){return o.a.createElement(pt,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():o.a.createElement(ht,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,n=t.componentStyle,r=t.defaultProps,o=(t.displayName,t.foldedComponentIds),a=t.styledComponentId,s=t.target,u=void 0;u=n.isStatic?this.generateAndInjectStyles(K,this.props):void 0!==e?this.generateAndInjectStyles(Ye(this.props,e,r),this.props):this.generateAndInjectStyles(this.props.theme||K,this.props);var c=this.props.as||this.attrs.as||s,l=Ze(c),f={},h=U({},this.attrs,this.props),d=void 0;for(d in h)"forwardedComponent"!==d&&"as"!==d&&("forwardedRef"===d?f.ref=h[d]:l&&!D(d)||(f[d]=h[d]));return this.props.style&&this.attrs.style&&(f.style=U({},this.attrs.style,this.props.style)),f.className=Array.prototype.concat(o,this.props.className,a,this.attrs.className,u).filter(Boolean).join(" "),Object(i.createElement)(c,f)},t.prototype.buildExecutionContext=function(e,t,n){var r=this,i=U({},t,{theme:e});return n.length?(this.attrs={},n.forEach((function(e){var t,n=e,o=!1,a=void 0,s=void 0;for(s in H(n)&&(n=n(i),o=!0),n)a=n[s],o||!H(a)||(t=a)&&t.prototype&&t.prototype.isReactComponent||Q(a)||(a=a(i)),r.attrs[s]=a,i[s]=a})),i):i},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,i=n.componentStyle;n.warnTooManyClasses;return i.isStatic&&!r.length?i.generateAndInjectStyles(K,this.styleSheet):i.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet)},t}(i.Component);function yt(e,t,n){var r=Q(e),i=!Ze(e),a=t.displayName,s=void 0===a?function(e){return Ze(e)?"styled."+e:"Styled("+G(e)+")"}(e):a,u=t.componentId,c=void 0===u?function(e,t,n){var r="string"!==typeof t?"sc":Je(t),i=(mt[r]||0)+1;mt[r]=i;var o=r+"-"+e.generateName(r+i);return n?n+"-"+o:o}(Qe,t.displayName,t.parentComponentId):u,l=t.ParentComponent,f=void 0===l?gt:l,h=t.attrs,d=void 0===h?z:h,p=t.displayName&&t.componentId?Je(t.displayName)+"-"+t.componentId:t.componentId||c,v=r&&e.attrs?Array.prototype.concat(e.attrs,d).filter(Boolean):d,m=new Qe(r?e.componentStyle.rules.concat(n):n,v,p),g=o.a.forwardRef((function(e,t){return o.a.createElement(f,U({},e,{forwardedComponent:g,forwardedRef:t}))}));return g.attrs=v,g.componentStyle=m,g.displayName=s,g.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):z,g.styledComponentId=p,g.target=r?e.target:e,g.withComponent=function(e){var r=t.componentId,i=V(t,["componentId"]),o=r&&r+"-"+(Ze(e)?e:Je(G(e)));return yt(e,U({},i,{attrs:v,componentId:o,ParentComponent:f}),n)},g.toString=function(){return"."+g.styledComponentId},i&&function e(t,n,r){if("string"!==typeof n){var i=ut(n);i&&i!==ct&&e(t,i,r);for(var o=lt.concat(it(n),at(n)),a=nt[t.$$typeof]||et,s=nt[n.$$typeof]||et,u=o.length,c=void 0,l=void 0;u--;)if(l=o[u],!tt[l]&&(!r||!r[l])&&(!s||!s[l])&&(!a||!a[l])&&(c=st(n,l)))try{rt(t,l,c)}catch(f){}return t}return t}(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var bt=function(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;if(!O(n))throw new Z(1,String(n));var i=function(){return t(n,r,Be.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,U({},r,i))},i.attrs=function(i){return e(t,n,U({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(yt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){bt[e]=bt(e)}));var wt=function(){function e(t,n){L(this,e),this.rules=t,this.componentId=n,this.isStatic=ze(t,z),Pe.master.hasId(n)||Pe.master.deferredInject(n,[])}return e.prototype.createStyles=function(e,t){var n=de(Ue(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();$&&(window.scCGSHMRCache={});var _t=bt.input.withConfig({displayName:"styled-component__StyledInput",componentId:"sc-1dsackt-0"})(["font-size:",";padding:10px 20px;height:",";border:1px solid ",";border-radius:5px;color:",";&:focus{outline:none;}"],(function(e){return e.inputBoxFontSize}),(function(e){return e.inputBoxHeight}),(function(e){return e.inputBoxBorderColor}),(function(e){return e.inputBoxFontColor})),Et=function(e){function t(){return l(this,t),y(this,v(t).apply(this,arguments))}return p(t,e),h(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.value,i=t.onChange,a=t.onFocus,s=t.inputBoxFontColor,u=t.inputBoxBorderColor,c=t.inputBoxFontSize,l=t.inputBoxHeight;return o.a.createElement(_t,{type:"text",placeholder:n,value:r,onChange:i,onFocus:a,ref:function(t){e.input=t},inputBoxFontColor:s,inputBoxBorderColor:u,inputBoxFontSize:c,inputBoxHeight:l})}}]),t}(i.Component);d(Et,"propTypes",{placeholder:s.a.string,value:s.a.string,onChange:s.a.func,onFocus:s.a.func,inputBoxFontColor:s.a.string,inputBoxBorderColor:s.a.string,inputBoxFontSize:s.a.string,inputBoxHeight:s.a.string});var St=bt.div.withConfig({displayName:"styled-component__StyledDropdown",componentId:"sc-160859k-0"})(["margin:10px 0 0;background-color:#fff;box-shadow:rgba(0,0,0,0.1) 0 0 0 0,rgba(0,0,0,0.1) 0px 4px 11px;border-radius:5px;> ul{list-style-type:none;margin:0;padding:0;> li{padding:10px 20px;background-color:#fff;border:1px solid ",";height:40px;display:flex;align-items:center;&:hover{background-color:",";cursor:pointer;}&:first-child{border-top-left-radius:5px;border-top-right-radius:5px;}&:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px;}&:not(:first-child){border-top:0;}}}"],(function(e){return e.dropDownBorderColor}),(function(e){return e.dropDownHoverColor})),Tt=function(e){function t(){return l(this,t),y(this,v(t).apply(this,arguments))}return p(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.matchedRecords,n=e.onClick,r=e.dropDownHoverColor,i=e.dropDownBorderColor;return o.a.createElement(St,{className:"react-search-box-dropdown",dropDownHoverColor:r,dropDownBorderColor:i},o.a.createElement("ul",null,t.map((function(e){return o.a.createElement("li",{key:e.key,className:"react-search-box-dropdown-list-item",onClick:function(){return n(e)}},e.value)}))))}}]),t}(i.Component);function Ct(){var e,t,n=(e=["\n  * {\n    box-sizing: border-box;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Ct=function(){return n},n}d(Tt,"propTypes",{onClick:s.a.func,matchedRecords:s.a.array,dropDownHoverColor:s.a.string,dropDownBorderColor:s.a.string}),d(Tt,"defaultProps",{matchedRecords:[]});var It=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Be.apply(void 0,[e].concat(n)),a="sc-global-"+Ve(JSON.stringify(i)),s=new wt(i,a),u=function(e){function t(){L(this,t);var n=q(this,e.call(this)),r=n.constructor,i=r.globalStyle,o=r.styledComponentId;return $&&(window.scCGSHMRCache[o]=(window.scCGSHMRCache[o]||0)+1),n.state={globalStyle:i,styledComponentId:o},n}return B(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return o.a.createElement(pt,null,(function(t){e.styleSheet=t||Pe.master;var n=e.state.globalStyle;return n.isStatic?(n.renderStyles(J,e.styleSheet),null):o.a.createElement(ht,null,(function(t){var r=e.constructor.defaultProps,i=U({},e.props);return"undefined"!==typeof t&&(i.theme=Ye(e.props,t,r)),n.renderStyles(i,e.styleSheet),null}))}))},t}(o.a.Component);return u.globalStyle=s,u.styledComponentId=a,u}(Ct()),kt=bt.div.withConfig({displayName:"src__StyledContainer",componentId:"hakmvc-0"})(["display:flex;flex-direction:column;"]),At=function(e){function t(e){var n;l(this,t),d(g(g(n=y(this,v(t).call(this,e)))),"state",{value:"",matchedRecords:[]}),d(g(g(n)),"handleInputChange",(function(e){var t=n.props.onChange,r=e.target.value,i=n.fuse.search(r);n.setState({value:r,matchedRecords:i,showDropdown:!0}),t&&t(r)})),d(g(g(n)),"inputNode",(function(){var e=n.props,t=e.placeholder,r=e.onFocus,i=e.autoFocus,a=e.inputBoxFontColor,s=e.inputBoxBorderColor,u=e.inputBoxFontSize,c=e.inputBoxHeight,l=n.state.value;return o.a.createElement(Et,{type:"text",placeholder:t,value:l,onChange:n.handleInputChange,autoFocus:i||void 0,onFocus:r||void 0,inputBoxFontColor:a,inputBoxBorderColor:s,inputBoxFontSize:u,inputBoxHeight:c})})),d(g(g(n)),"handleDropdownItemClick",(function(e){var t=e.value,r=n.props,i=r.onSelect,o=r.onChange;n.setState({value:t,showDropdown:!1}),i&&i(e),o&&o(t)})),d(g(g(n)),"dropdownNode",(function(){var e=n.state,t=e.matchedRecords,r=e.showDropdown,i=n.props,a=i.dropDownHoverColor,s=i.dropDownBorderColor;return!!r&&o.a.createElement(Tt,{matchedRecords:t,onClick:n.handleDropdownItemClick,dropDownHoverColor:a,dropDownBorderColor:s})}));var r=e.data,i=e.fuseConfigs,a=Object.assign({},{threshold:.05,location:0,distance:100,minMatchCharLength:1,keys:["value"]},i);return n.fuse=new _(r,a),n}return p(t,e),h(t,[{key:"render",value:function(){return o.a.createElement(kt,null,o.a.createElement(It,null),this.inputNode(),this.dropdownNode())}}]),t}(i.Component);d(At,"propTypes",{placeholder:s.a.string,data:s.a.array.isRequired,fuseConfigs:s.a.object,autoFocus:s.a.bool,onSelect:s.a.func,onFocus:s.a.func,onChange:s.a.func,inputBoxFontColor:s.a.string,inputBoxBorderColor:s.a.string,inputBoxFontSize:s.a.string,inputBoxHeight:s.a.string,dropDownHoverColor:s.a.string,dropDownBorderColor:s.a.string}),d(At,"defaultProps",{data:[],autoFocus:!1,placeholder:"",inputBoxFontColor:"#000",inputBoxBorderColor:"#cacaca96",inputBoxFontSize:"14px",inputBoxHeight:"40px",dropDownHoverColor:"#ccc",dropDownBorderColor:"#cacaca96"}),t.a=At}).call(this,n(7),n(29))},function(e,t,n){e.exports=i;var r=n(40).EventEmitter;function i(){r.call(this)}n(32)(i,r),i.Readable=n(41),i.Writable=n(114),i.Duplex=n(115),i.Transform=n(116),i.PassThrough=n(117),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;!function(){var i=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function u(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,i)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!==typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(l){}if(r)for(var i=0;i<r.length;++i){var o=r[i],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(l){}if(a&&s(a,e)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var f=document.createElement("form");if(f.setAttribute("method","dialog"),"dialog"!==f.method){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var d=h.get;h.get=function(){return u(this)?"dialog":d.call(this)};var p=h.set;h.set=function(e){return"string"===typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",(function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&u(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}o(t)&&(l.formSubmitter=t)}}}),!1);var v=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return v.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(u(t)){e.preventDefault();var n=o(t);if(n){var r=l.formSubmitter;r&&r.form===t?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n(124)?void 0===(r=function(){return l}.call(t,n,t,e))||(e.exports=r):"object"===typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},,function(e,t,n){"use strict";var r=n(50),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function _(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw y(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=_.prototype;var T=S.prototype=new E;T.constructor=S,r(T,_.prototype),T.isPureReactComponent=!0;var C={current:null},I={suspense:null},k={current:null},A=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var R=/\/+/g,P=[];function D(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function j(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+L(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+L(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+L(s,c++),r,i);else if("object"===s)throw r=""+t,y(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),j(e,U,t=D(t,o,r,i)),M(t)}function V(){var e=C.current;if(null===e)throw y(Error(321));return e}var q={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;j(e,F,t=D(null,null,t,n)),M(t)},count:function(e){return j(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw y(Error(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return V().useCallback(e,t)},useContext:function(e,t){return V().useContext(e,t)},useEffect:function(e,t){return V().useEffect(e,t)},useImperativeHandle:function(e,t,n){return V().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return V().useLayoutEffect(e,t)},useMemo:function(e,t){return V().useMemo(e,t)},useReducer:function(e,t,n){return V().useReducer(e,t,n)},useRef:function(e){return V().useRef(e)},useState:function(e){return V().useState(e)},Fragment:s,Profiler:c,StrictMode:u,Suspense:d,unstable_SuspenseList:p,createElement:N,cloneElement:function(e,t,n){if(null===e||void 0===e)throw y(Error(267),e);var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)A.call(t,l)&&!O.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(e){var t=N.bind(null,e);return t.type=e,t},isValidElement:x,version:"16.10.2",unstable_withSuspenseConfig:function(e,t){var n=I.suspense;I.suspense=void 0===t?null:t;try{e()}finally{I.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:I,ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r}},W={default:q},z=W&&q||W;e.exports=z.default||z},function(e,t,n){"use strict";var r=n(0),i=n(50),o=n(76);function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw a(Error(227));var s=null,u={};function c(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!f[n]){if(!t.extractEvents)throw a(Error(97),e);for(var r in f[n]=t,n=t.eventTypes){var i=void 0,o=n[r],c=t,d=r;if(h.hasOwnProperty(d))throw a(Error(99),d);h[d]=o;var p=o.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&l(p[i],c,d);i=!0}else o.registrationName?(l(o.registrationName,c,d),i=!0):i=!1;if(!i)throw a(Error(98),r,e)}}}}function l(e,t,n){if(d[e])throw a(Error(100),e);d[e]=t,p[e]=t.eventTypes[n].dependencies}var f=[],h={},d={},p={};function v(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var m=!1,g=null,y=!1,b=null,w={onError:function(e){m=!0,g=e}};function _(e,t,n,r,i,o,a,s,u){m=!1,g=null,v.apply(w,arguments)}var E=null,S=null,T=null;function C(e,t,n){var r=e.type||"unknown-event";e.currentTarget=T(n),function(e,t,n,r,i,o,s,u,c){if(_.apply(this,arguments),m){if(!m)throw a(Error(198));var l=g;m=!1,g=null,y||(y=!0,b=l)}}(r,t,void 0,e),e.currentTarget=null}function I(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function k(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var A=null;function O(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)C(e,t[r],n[r]);else t&&C(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function N(e){if(null!==e&&(A=I(A,e)),e=A,A=null,e){if(k(e,O),A)throw a(Error(95));if(y)throw e=b,y=!1,b=null,e}}var x={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw a(Error(102),t);u[t]=r,n=!0}}n&&c()}};function R(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw a(Error(231),t,typeof n);return n}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;P.hasOwnProperty("ReactCurrentDispatcher")||(P.ReactCurrentDispatcher={current:null}),P.hasOwnProperty("ReactCurrentBatchConfig")||(P.ReactCurrentBatchConfig={suspense:null});var D=/^(.*)[\\\/]/,M="function"===typeof Symbol&&Symbol.for,j=M?Symbol.for("react.element"):60103,L=M?Symbol.for("react.portal"):60106,F=M?Symbol.for("react.fragment"):60107,U=M?Symbol.for("react.strict_mode"):60108,B=M?Symbol.for("react.profiler"):60114,V=M?Symbol.for("react.provider"):60109,q=M?Symbol.for("react.context"):60110,W=M?Symbol.for("react.concurrent_mode"):60111,z=M?Symbol.for("react.forward_ref"):60112,K=M?Symbol.for("react.suspense"):60113,H=M?Symbol.for("react.suspense_list"):60120,G=M?Symbol.for("react.memo"):60115,Q=M?Symbol.for("react.lazy"):60116;M&&Symbol.for("react.fundamental"),M&&Symbol.for("react.responder"),M&&Symbol.for("react.scope");var Y="function"===typeof Symbol&&Symbol.iterator;function $(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case F:return"Fragment";case L:return"Portal";case B:return"Profiler";case U:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case q:return"Context.Consumer";case V:return"Context.Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case G:return X(e.type);case Q:if(e=1===e._status?e._result:null)return X(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=X(e.type);n=null,r&&(n=X(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(D,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Z=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=S(e)){if("function"!==typeof ee)throw a(Error(280));var t=E(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function ue(){}var ce=ae,le=!1,fe=!1;function he(){null===te&&null===ne||(ue(),oe())}new Map,new Map,new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,ve={},me={};function ge(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ye[e]=new ge(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ye[t]=new ge(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ye[e]=new ge(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ye[e]=new ge(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ye[e]=new ge(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ye[e]=new ge(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ye[e]=new ge(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ye[e]=new ge(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ye[e]=new ge(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ee(e,t,n,r){var i=ye.hasOwnProperty(t)?ye[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!pe.call(me,e)||!pe.call(ve,e)&&(de.test(e)?me[e]=!0:(ve[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Te(e){e._valueTracker||(e._valueTracker=function(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ie(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ae(e,t){null!=(t=t.checked)&&Ee(e,"checked",t,!1)}function Oe(e,t){Ae(e,t);var n=_e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?xe(e,t.type,n):t.hasOwnProperty("defaultValue")&&xe(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ne(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function xe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Re(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function De(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:_e(n)}}function je(e,t){var n=_e(t.value),r=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,we);ye[t]=new ge(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,we);ye[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,we);ye[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ye[e]=new ge(e,1,!1,e.toLowerCase(),null,!1)})),ye.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ye[e]=new ge(e,1,!1,e.toLowerCase(),null,!0)}));var Fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ve,qe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((Ve=Ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function We(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ke={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},He={},Ge={};function Qe(e){if(He[e])return He[e];if(!Ke[e])return e;var t,n=Ke[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return He[e]=n[t];return e}Z&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ke.animationend.animation,delete Ke.animationiteration.animation,delete Ke.animationstart.animation),"TransitionEvent"in window||delete Ke.transitionend.transition);var Ye=Qe("animationend"),$e=Qe("animationiteration"),Xe=Qe("animationstart"),Je=Qe("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),et=!1,tt=[],nt=null,rt=null,it=null,ot=new Map,at=new Map,st="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ut="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ct(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function lt(e,t){switch(e){case"focus":case"blur":nt=null;break;case"dragenter":case"dragleave":rt=null;break;case"mouseover":case"mouseout":it=null;break;case"pointerover":case"pointerout":ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":at.delete(t.pointerId)}}function ft(e,t,n,r,i){return null===e||e.nativeEvent!==i?ct(t,n,r,i):(e.eventSystemFlags|=r,e)}function ht(e){if(null!==e.blockedOn)return!1;var t=In(e.topLevelType,e.eventSystemFlags,e.nativeEvent);return null===t||(e.blockedOn=t,!1)}function dt(e,t,n){ht(e)&&n.delete(t)}function pt(){for(et=!1;0<tt.length;){var e=tt[0];if(null!==e.blockedOn)break;var t=In(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:tt.shift()}null!==nt&&ht(nt)&&(nt=null),null!==rt&&ht(rt)&&(rt=null),null!==it&&ht(it)&&(it=null),ot.forEach(dt),at.forEach(dt)}function vt(e,t){e.blockedOn===t&&(e.blockedOn=null,et||(et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,pt)))}function mt(e){function t(t){return vt(t,e)}if(0<tt.length){vt(tt[0],e);for(var n=1;n<tt.length;n++){var r=tt[n];r.blockedOn===e&&(r.blockedOn=null)}}null!==nt&&vt(nt,e),null!==rt&&vt(rt,e),null!==it&&vt(it,e),ot.forEach(t),at.forEach(t)}var gt=0,yt=2,bt=1024;function wt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{((t=e).effectTag&(yt|bt))!==gt&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function _t(e){if(wt(e)!==e)throw a(Error(188))}function Et(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=wt(e)))throw a(Error(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _t(i),e;if(o===r)return _t(i),t;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function St(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ct(e,t,n){(t=R(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function It(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tt(t);for(t=n.length;0<t--;)Ct(n[t],"captured",e);for(t=0;t<n.length;t++)Ct(n[t],"bubbled",e)}}function kt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=R(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function At(e){e&&e.dispatchConfig.registrationName&&kt(e._targetInst,null,e)}function Ot(e){k(e,It)}function Nt(){return!0}function xt(){return!1}function Rt(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Nt:xt,this.isPropagationStopped=xt,this}function Pt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Dt(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Mt(e){e.eventPool=[],e.getPooled=Pt,e.release=Dt}i(Rt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Nt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Nt)},persist:function(){this.isPersistent=Nt},isPersistent:xt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=xt,this._dispatchInstances=this._dispatchListeners=null}}),Rt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Rt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Mt(n),n},Mt(Rt);var jt=Rt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Lt=Rt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ft=Rt.extend({view:null,detail:null}),Ut=Ft.extend({relatedTarget:null});function Bt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Vt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Wt[e])&&!!t[e]}function Kt(){return zt}for(var Ht=Ft.extend({key:function(e){if(e.key){var t=Vt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Bt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?qt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kt,charCode:function(e){return"keypress"===e.type?Bt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Bt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gt=0,Qt=0,Yt=!1,$t=!1,Xt=Ft.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,Yt?"mousemove"===e.type?e.screenX-t:0:(Yt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Qt;return Qt=e.screenY,$t?"mousemove"===e.type?e.screenY-t:0:($t=!0,0)}}),Jt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt=Xt.extend({dataTransfer:null}),en=Ft.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kt}),tn=Rt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),nn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),rn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ye,"animationEnd",2],[$e,"animationIteration",2],[Xe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],on={},an={},sn=0;sn<rn.length;sn++){var un=rn[sn],cn=un[0],ln=un[1],fn=un[2],hn="on"+(ln[0].toUpperCase()+ln.slice(1)),dn={phasedRegistrationNames:{bubbled:hn,captured:hn+"Capture"},dependencies:[cn],eventPriority:fn};on[ln]=dn,an[cn]=dn}var pn={eventTypes:on,getEventPriority:function(e){return void 0!==(e=an[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=an[e];if(!i)return null;switch(e){case"keypress":if(0===Bt(n))return null;case"keydown":case"keyup":e=Ht;break;case"blur":case"focus":e=Ut;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=en;break;case Ye:case $e:case Xe:e=jt;break;case Je:e=tn;break;case"scroll":e=Ft;break;case"wheel":e=nn;break;case"copy":case"cut":case"paste":e=Lt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=Rt}return Ot(t=e.getPooled(i,t,n,r)),t}},vn=pn.getEventPriority,mn=10,gn=[];function yn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=sr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=St(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,u=0;u<f.length;u++){var c=f[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=I(s,c))}N(s)}}var bn=!0;function wn(e,t){_n(t,e,!1)}function _n(e,t,n){switch(vn(t)){case 0:var r=En.bind(null,t,1);break;case 1:r=Sn.bind(null,t,1);break;default:r=Cn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function En(e,t,n){le||ue();var r=Cn,i=le;le=!0;try{se(r,e,t,n)}finally{(le=i)||he()}}function Sn(e,t,n){Cn(e,t,n)}function Tn(e,t,n,r){if(gn.length){var i=gn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=yn,n=e,fe)t(n,void 0);else{fe=!0;try{ce(t,n,void 0)}finally{fe=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,gn.length<mn&&gn.push(e)}}function Cn(e,t,n){if(bn)if(0<tt.length&&-1<st.indexOf(e))e=ct(null,e,t,n),tt.push(e);else{var r=In(e,t,n);null===r?lt(e,n):-1<st.indexOf(e)?(e=ct(r,e,t,n),tt.push(e)):function(e,t,n,r){switch(t){case"focus":return nt=ft(nt,e,t,n,r),!0;case"dragenter":return rt=ft(rt,e,t,n,r),!0;case"mouseover":return it=ft(it,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return ot.set(i,ft(ot.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,at.set(i,ft(at.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(lt(e,n),Tn(e,t,n,null))}}function In(e,t,n){var r=St(n),i=sr(r);if(null!==i)if(null===(r=wt(i)))i=null;else{var o=r.tag;if(13===o){if(null!==(r=13!==r.tag||(null===(i=r.memoizedState)&&(null!==(r=r.alternate)&&(i=r.memoizedState)),null===i)?null:i.dehydrated))return r;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}return Tn(e,t,n,i),null}function kn(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var An=new("function"===typeof WeakMap?WeakMap:Map);function On(e){var t=An.get(e);return void 0===t&&(t=new Set,An.set(e,t)),t}function Nn(e,t,n){if(!n.has(e)){switch(e){case"scroll":_n(t,"scroll",!0);break;case"focus":case"blur":_n(t,"focus",!0),_n(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":kn(e)&&_n(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&wn(e,t)}n.add(e)}}var xn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];function Pn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||xn.hasOwnProperty(e)&&xn[e]?(""+t).trim():t+"px"}function Dn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Pn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(xn).forEach((function(e){Rn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xn[t]=xn[e]}))}));var Mn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(e,t){if(t){if(Mn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!==typeof t.style)throw a(Error(62),"")}}function Ln(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fn(e,t){var n=On(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++)Nn(t[r],e,n)}function Un(){}function Bn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Vn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Vn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vn(r)}}function Wn(){for(var e=window,t=Bn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Bn((e=t.contentWindow).document)}return t}function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kn="$",Hn="/$",Gn="$?",Qn="$!",Yn=null,$n=null;function Xn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Jn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zn="function"===typeof setTimeout?setTimeout:void 0,er="function"===typeof clearTimeout?clearTimeout:void 0;function tr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function nr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Kn||n===Qn||n===Gn){if(0===t)return e;t--}else n===Hn&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+rr,or="__reactEventHandlers$"+rr,ar="__reactContainere$"+rr;function sr(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=nr(e);null!==e;){if(n=e[ir])return n;e=nr(e)}return t}n=(e=n).parentNode}return null}function ur(e){return!(e=e[ir]||e[ar])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function cr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function lr(e){return e[or]||null}var fr=null,hr=null,dr=null;function pr(){if(dr)return dr;var e,t,n=hr,r=n.length,i="value"in fr?fr.value:fr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return dr=i.slice(e,1<t?1-t:void 0)}var vr=Rt.extend({data:null}),mr=Rt.extend({data:null}),gr=[9,13,27,32],yr=Z&&"CompositionEvent"in window,br=null;Z&&"documentMode"in document&&(br=document.documentMode);var wr=Z&&"TextEvent"in window&&!br,_r=Z&&(!yr||br&&8<br&&11>=br),Er=String.fromCharCode(32),Sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tr=!1;function Cr(e,t){switch(e){case"keyup":return-1!==gr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ir(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var kr=!1;var Ar={eventTypes:Sr,extractEvents:function(e,t,n,r){var i;if(yr)e:{switch(e){case"compositionstart":var o=Sr.compositionStart;break e;case"compositionend":o=Sr.compositionEnd;break e;case"compositionupdate":o=Sr.compositionUpdate;break e}o=void 0}else kr?Cr(e,n)&&(o=Sr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Sr.compositionStart);return o?(_r&&"ko"!==n.locale&&(kr||o!==Sr.compositionStart?o===Sr.compositionEnd&&kr&&(i=pr()):(hr="value"in(fr=r)?fr.value:fr.textContent,kr=!0)),o=vr.getPooled(o,t,n,r),i?o.data=i:null!==(i=Ir(n))&&(o.data=i),Ot(o),i=o):i=null,(e=wr?function(e,t){switch(e){case"compositionend":return Ir(t);case"keypress":return 32!==t.which?null:(Tr=!0,Er);case"textInput":return(e=t.data)===Er&&Tr?null:e;default:return null}}(e,n):function(e,t){if(kr)return"compositionend"===e||!yr&&Cr(e,t)?(e=pr(),dr=hr=fr=null,kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _r&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=mr.getPooled(Sr.beforeInput,t,n,r)).data=e,Ot(t)):t=null,null===i?t:null===t?i:[i,t]}},Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}var xr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rr(e,t,n){return(e=Rt.getPooled(xr.change,e,t,n)).type="change",ie(n),Ot(e),e}var Pr=null,Dr=null;function Mr(e){N(e)}function jr(e){if(Ce(cr(e)))return e}function Lr(e,t){if("change"===e)return t}var Fr=!1;function Ur(){Pr&&(Pr.detachEvent("onpropertychange",Br),Dr=Pr=null)}function Br(e){if("value"===e.propertyName&&jr(Dr))if(e=Rr(Dr,e,St(e)),le)N(e);else{le=!0;try{ae(Mr,e)}finally{le=!1,he()}}}function Vr(e,t,n){"focus"===e?(Ur(),Dr=n,(Pr=t).attachEvent("onpropertychange",Br)):"blur"===e&&Ur()}function qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jr(Dr)}function Wr(e,t){if("click"===e)return jr(t)}function zr(e,t){if("input"===e||"change"===e)return jr(t)}Z&&(Fr=kn("input")&&(!document.documentMode||9<document.documentMode));var Kr={eventTypes:xr,_isInputEventSupported:Fr,extractEvents:function(e,t,n,r){var i=t?cr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Lr;else if(Nr(i))if(Fr)a=zr;else{a=qr;var s=Vr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Wr);if(a&&(a=a(e,t)))return Rr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&xe(i,"number",i.value)}},Hr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Gr={eventTypes:Hr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?sr(t):null)&&(t!==(o=wt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Xt,u=Hr.mouseLeave,c=Hr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Jt,u=Hr.pointerLeave,c=Hr.pointerEnter,l="pointer");if(e=null==a?i:cr(a),i=null==t?i:cr(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=i,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,e=0,a=s=r;a;a=Tt(a))e++;for(a=0,t=c;t;t=Tt(t))a++;for(;0<e-a;)s=Tt(s),e--;for(;0<a-e;)c=Tt(c),a--;for(;e--;){if(s===c||s===c.alternate)break e;s=Tt(s),c=Tt(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(e=r.alternate)||e!==c);)s.push(r),r=Tt(r);for(r=[];l&&l!==c&&(null===(e=l.alternate)||e!==c);)r.push(l),l=Tt(l);for(l=0;l<s.length;l++)kt(s[l],"bubbled",u);for(l=r.length;0<l--;)kt(r[l],"captured",n);return[u,n]}};var Qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Yr=Object.prototype.hasOwnProperty;function $r(e,t){if(Qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Yr.call(t,n[r])||!Qr(e[n[r]],t[n[r]]))return!1;return!0}var Xr=Z&&"documentMode"in document&&11>=document.documentMode,Jr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Zr=null,ei=null,ti=null,ni=!1;function ri(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ni||null==Zr||Zr!==Bn(n)?null:("selectionStart"in(n=Zr)&&zn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ti&&$r(ti,n)?null:(ti=n,(e=Rt.getPooled(Jr.select,ei,e,t)).type="select",e.target=Zr,Ot(e),e))}var ii={eventTypes:Jr,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=On(o),i=p.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?cr(t):window,e){case"focus":(Nr(o)||"true"===o.contentEditable)&&(Zr=o,ei=t,ti=null);break;case"blur":ti=ei=Zr=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":return ni=!1,ri(n,r);case"selectionchange":if(Xr)break;case"keydown":case"keyup":return ri(n,r)}return null}};x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=lr,S=ur,T=cr,x.injectEventPluginsByName({SimpleEventPlugin:pn,EnterLeaveEventPlugin:Gr,ChangeEventPlugin:Kr,SelectEventPlugin:ii,BeforeInputEventPlugin:Ar}),new Set;var oi=[],ai=-1;function si(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ui(e,t){oi[++ai]=e.current,e.current=t}var ci={},li={current:ci},fi={current:!1},hi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(e){si(fi),si(li)}function mi(e){si(fi),si(li)}function gi(e,t,n){if(li.current!==ci)throw a(Error(168));ui(li,t),ui(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw a(Error(108),X(t)||"Unknown",o);return i({},n,{},r)}function bi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ci,hi=li.current,ui(li,t),ui(fi,fi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw a(Error(169));n?(t=yi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=t,si(fi),si(li),ui(li,t)):si(fi),ui(fi,n)}var _i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ii=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,xi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Pi={},Di=void 0!==Ci?Ci:function(){},Mi=null,ji=null,Li=!1,Fi=Ii(),Ui=1e4>Fi?Ii:function(){return Ii()-Fi};function Bi(){switch(ki()){case Ai:return 99;case Oi:return 98;case Ni:return 97;case xi:return 96;case Ri:return 95;default:throw a(Error(332))}}function Vi(e){switch(e){case 99:return Ai;case 98:return Oi;case 97:return Ni;case 96:return xi;case 95:return Ri;default:throw a(Error(332))}}function qi(e,t){return e=Vi(e),_i(e,t)}function Wi(e,t,n){return e=Vi(e),Ei(e,t,n)}function zi(e){return null===Mi?(Mi=[e],ji=Ei(Ai,Hi)):Mi.push(e),Pi}function Ki(){if(null!==ji){var e=ji;ji=null,Si(e)}Hi()}function Hi(){if(!Li&&null!==Mi){Li=!0;var e=0;try{var t=Mi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(n){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ei(Ai,Ki),n}finally{Li=!1}}}function Gi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Qi={current:null},Yi=null,$i=null,Xi=null;function Ji(){Xi=$i=Yi=null}function Zi(e,t){var n=e.type._context;ui(Qi,n._currentValue),n._currentValue=t}function eo(e){var t=Qi.current;si(Qi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Yi=e,Xi=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Na=!0),e.firstContext=null)}function ro(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Yi)throw a(Error(308));$i=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var io=!1;function oo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ao(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function so(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function uo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function co(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=oo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=oo(e.memoizedState),i=n.updateQueue=oo(n.memoizedState)):r=e.updateQueue=ao(i):null===i&&(i=n.updateQueue=ao(r));null===i||r===i?uo(r,t):null===r.lastUpdate||null===i.lastUpdate?(uo(r,t),uo(i,t)):(uo(r,t),i.lastUpdate=t)}function lo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=oo(e.memoizedState):fo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function fo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=ao(t)),t}function ho(e,t,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case 2:io=!0}return r}function po(e,t,n,r,i){io=!1;for(var o=(t=fo(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(mu(l,u.suspenseConfig),c=ho(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=ho(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,gu(s),e.expirationTime=s,e.memoizedState=c}function vo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),mo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,mo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function mo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!==typeof n)throw a(Error(191),n);n.call(r)}e=e.nextEffect}}var go=P.ReactCurrentBatchConfig,yo=(new r.Component).refs;function bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var wo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&wt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Js(),i=go.suspense;(i=so(r=Zs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),co(e,i),nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Js(),i=go.suspense;(i=so(r=Zs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),co(e,i),nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Js(),r=go.suspense;(r=so(n=Zs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),co(e,r),nu(e,n)}};function _o(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!$r(n,r)||!$r(i,o))}function Eo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(t)?hi:li.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function To(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo;var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(t)?hi:li.current,i.context=di(e,o)),null!==(o=e.updateQueue)&&(po(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wo.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(po(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Co=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw a(Error(309));var r=n.stateNode}if(!r)throw a(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function ko(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Lu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=yt,n):r:(t.effectTag=yt,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=yt),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Uu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case L:return(t=Vu(t,e.mode,n)).return=e,t}if(Co(t)||$(t))return(t=Uu(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===i?n.type===F?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case L:return n.key===i?l(e,t,n,r):null}if(Co(n)||$(n))return null!==i?null:f(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return e=e.get(null===r.key?n:r.key)||null,r.type===F?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case L:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Co(r)||$(r))return f(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=$(u);if("function"!==typeof l)throw a(Error(150));if(null==(u=l.call(u)))throw a(Error(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===F&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case j:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===F:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===F?o.props.children:o.props)).ref=Io(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===F?((r=Uu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Fu(o.type,o.key,o.props,null,e.mode,u)).ref=Io(e,r,o),u.return=e,e=u)}return s(e);case L:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Bu(o,e.mode,u)).return=e,e=r),s(e);if(Co(o))return v(e,r,o,u);if($(o))return m(e,r,o,u);if(l&&ko(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var Oo=Ao(!0),No=Ao(!1),xo={},Ro={current:xo},Po={current:xo},Do={current:xo};function Mo(e){if(e===xo)throw a(Error(174));return e}function jo(e,t){ui(Do,t),ui(Po,e),ui(Ro,xo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}si(Ro),ui(Ro,t)}function Lo(e){si(Ro),si(Po),si(Do)}function Fo(e){Mo(Do.current);var t=Mo(Ro.current),n=Be(t,e.type);t!==n&&(ui(Po,e),ui(Ro,n))}function Uo(e){Po.current===e&&(si(Ro),si(Po))}var Bo={current:0};function Vo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Gn||n.data===Qn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if((64&t.effectTag)!==gt)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qo(e,t){return{responder:e,props:t}}var Wo=P.ReactCurrentDispatcher,zo=0,Ko=null,Ho=null,Go=null,Qo=null,Yo=null,$o=null,Xo=0,Jo=null,Zo=0,ea=!1,ta=null,na=0;function ra(){throw a(Error(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qr(e[n],t[n]))return!1;return!0}function oa(e,t,n,r,i,o){if(zo=o,Ko=t,Go=null!==e?e.memoizedState:null,Wo.current=null===Go?ya:ba,t=n(r,i),ea){do{ea=!1,na+=1,Go=null!==e?e.memoizedState:null,$o=Qo,Jo=Yo=Ho=null,Wo.current=ba,t=n(r,i)}while(ea);ta=null,na=0}if(Wo.current=ga,(e=Ko).memoizedState=Qo,e.expirationTime=Xo,e.updateQueue=Jo,e.effectTag|=Zo,e=null!==Ho&&null!==Ho.next,zo=0,$o=Yo=Qo=Go=Ho=Ko=null,Xo=0,Jo=null,Zo=0,e)throw a(Error(300));return t}function aa(){Wo.current=ga,zo=0,$o=Yo=Qo=Go=Ho=Ko=null,Xo=0,Jo=null,Zo=0,ea=!1,ta=null,na=0}function sa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Yo?Qo=Yo=e:Yo=Yo.next=e,Yo}function ua(){if(null!==$o)$o=(Yo=$o).next,Go=null!==(Ho=Go)?Ho.next:null;else{if(null===Go)throw a(Error(310));var e={memoizedState:(Ho=Go).memoizedState,baseState:Ho.baseState,queue:Ho.queue,baseUpdate:Ho.baseUpdate,next:null};Yo=null===Yo?Qo=e:Yo.next=e,Go=Ho.next}return Yo}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<na){var r=n.dispatch;if(null!==ta){var i=ta.get(n);if(void 0!==i){ta.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Qr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var f=c.expirationTime;f<zo?(l||(l=!0,u=s,i=o),f>Xo&&gu(Xo=f)):(mu(f,c.suspenseConfig),o=c.eagerReducer===e?c.eagerState:e(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),Qr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Jo?(Jo={lastEffect:null}).lastEffect=e.next=e:null===(t=Jo.lastEffect)?Jo.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Jo.lastEffect=e),e}function ha(e,t,n,r){var i=sa();Zo|=e,i.memoizedState=fa(t,n,void 0,void 0===r?null:r)}function da(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==Ho){var a=Ho.memoizedState;if(o=a.destroy,null!==r&&ia(r,a.deps))return void fa(0,n,o,r)}Zo|=e,i.memoizedState=fa(t,n,o,r)}function pa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function va(){}function ma(e,t,n){if(!(25>na))throw a(Error(301));var r=e.alternate;if(e===Ko||null!==r&&r===Ko)if(ea=!0,e={expirationTime:zo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===ta&&(ta=new Map),void 0===(n=ta.get(t)))ta.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=Js(),o=go.suspense;o={expirationTime:i=Zs(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,Qr(l,c))return}catch(f){}nu(e,i)}}var ga={readContext:ro,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useResponder:ra},ya={readContext:ro,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:function(e,t){return ha(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ha(4,36,pa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ha(4,36,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Ko,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sa().memoizedState=e},useState:function(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=ma.bind(null,Ko,e),[t.memoizedState,e]},useDebugValue:va,useResponder:qo},ba={readContext:ro,useCallback:function(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:ro,useEffect:function(e,t){return da(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,da(4,36,pa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4,36,e,t)},useMemo:function(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:la,useRef:function(){return ua().memoizedState},useState:function(e){return la(ca)},useDebugValue:va,useResponder:qo},wa=null,_a=null,Ea=!1;function Sa(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ca(e){if(Ea){var t=_a;if(t){var n=t;if(!Ta(e,t)){if(!(t=tr(n.nextSibling))||!Ta(e,t))return e.effectTag=e.effectTag&~bt|yt,Ea=!1,void(wa=e);Sa(wa,n)}wa=e,_a=tr(t.firstChild)}else e.effectTag=e.effectTag&~bt|yt,Ea=!1,wa=e}}function Ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function ka(e){if(e!==wa)return!1;if(!Ea)return Ia(e),Ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Jn(t,e.memoizedProps))for(t=_a;t;)Sa(e,t),t=tr(t.nextSibling);if(Ia(e),13===e.tag)if(null===(e=null!==(e=e.memoizedState)?e.dehydrated:null))e=_a;else e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Hn){if(0===t){e=tr(e.nextSibling);break e}t--}else n!==Kn&&n!==Qn&&n!==Gn||t++}e=e.nextSibling}e=null}else e=wa?tr(e.stateNode.nextSibling):null;return _a=e,!0}function Aa(){_a=wa=null,Ea=!1}var Oa=P.ReactCurrentOwner,Na=!1;function xa(e,t,n,r){t.child=null===e?No(t,null,n,r):Oo(t,e.child,n,r)}function Ra(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=oa(e,t,n,r,o,i),null===e||Na?(t.effectTag|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qa(e,t,i))}function Pa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||ju(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Da(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:$r)(i,r)&&e.ref===t.ref)?Qa(e,t,o):(t.effectTag|=1,(e=Lu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Da(e,t,n,r,i,o){return null!==e&&$r(e.memoizedProps,r)&&e.ref===t.ref&&(Na=!1,i<o)?Qa(e,t,o):ja(e,t,n,r,o)}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ja(e,t,n,r,i){var o=pi(n)?hi:li.current;return o=di(t,o),no(t,i),n=oa(e,t,n,r,o,i),null===e||Na?(t.effectTag|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Qa(e,t,i))}function La(e,t,n,r,i){if(pi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),Eo(t,n,r),To(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=di(t,c=pi(n)?hi:li.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&So(t,a,r,c),io=!1;var h=t.memoizedState;u=a.state=h;var d=t.updateQueue;null!==d&&(po(t,d,r,a,i),u=t.memoizedState),s!==r||h!==u||fi.current||io?("function"===typeof l&&(bo(t,n,l,r),u=t.memoizedState),(s=io||_o(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Gi(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=di(t,c=pi(n)?hi:li.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&So(t,a,r,c),io=!1,u=t.memoizedState,h=a.state=u,null!==(d=t.updateQueue)&&(po(t,d,r,a,i),h=t.memoizedState),s!==r||u!==h||fi.current||io?("function"===typeof l&&(bo(t,n,l,r),h=t.memoizedState),(l=io||_o(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){Ma(e,t);var a=(64&t.effectTag)!==gt;if(!r&&!a)return i&&wi(t,n,!1),Qa(e,t,o);r=t.stateNode,Oa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,s,o)):xa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),jo(e,t.containerInfo)}var Ba,Va,qa,Wa,za={dehydrated:null,retryTime:1};function Ka(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Bo.current,s=!1;if((r=(64&t.effectTag)!==gt)||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ui(Bo,1&a),null===e){if(s){if(s=o.fallback,(o=Uu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Uu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=za,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=No(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Lu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Lu(i,o,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=za,t.child=n,i}return n=Oo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Uu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Uu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=yt,o.childExpirationTime=0,t.memoizedState=za,t.child=o,n}return t.memoizedState=null,t.child=Oo(t,e,o.children,n)}function Ha(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&(64&e.effectTag)!==gt)e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),to(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===Vo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===Vo(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}Ha(t,!0,n,null,o);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&gu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ya(e){e.effectTag|=4}function $a(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Lo(),mi(),(64&(t=e.effectTag))!==gt)throw a(Error(285));return e.effectTag=-4097&t|64,e;case 5:return Uo(e),null;case 13:return si(Bo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return si(Bo),null;case 4:return Lo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:J(t)}}Ba=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(){},qa=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(Mo(Ro.current),e=null,n){case"input":a=Ie(c,a),r=Ie(c,r),e=[];break;case"option":a=Re(c,a),r=Re(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=De(c,a),r=De(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=Un)}for(s in jn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(d.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,""+l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(d.hasOwnProperty(s)?(null!=l&&Fn(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&Ya(t)}},Wa=function(e,t,n,r){n!==r&&Ya(t)};var Za="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=J(n)),null!==n&&X(n.type),t=t.value,null!==e&&1===e.tag&&X(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ou(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:rs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}function rs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!==(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function is(e,t,n){switch("function"===typeof Pu&&Pu(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Ou(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ou(e,n)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function os(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&os(t)}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:{for(var t=e.return;null!==t;){if(as(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||as(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(n.effectTag&yt)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&yt)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=Un)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function us(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw a(Error(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(is(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(is(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:rs(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[or]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ae(n,r),Ln(e,i),t=Ln(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Dn(n,u):"dangerouslySetInnerHTML"===s?qe(n,u):"children"===s?We(n,u):Ee(n,s,u,t)}switch(e){case"input":Oe(n,r);break;case"textarea":je(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Pe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Pe(n,!!r.multiple,r.defaultValue,!0):Pe(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,mt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Us=Ui()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Pn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ls(t);break;case 19:ls(t);break;case 17:case 20:case 21:break;default:throw a(Error(163))}}function ls(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ws=r),es(e,t)},n}function ds(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===zs?zs=new Set([this]):zs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ps=Math.ceil,vs=P.ReactCurrentDispatcher,ms=P.ReactCurrentOwner,gs=0,ys=8,bs=16,ws=32,_s=0,Es=1,Ss=2,Ts=3,Cs=4,Is=5,ks=6,As=gs,Os=null,Ns=null,xs=0,Rs=_s,Ps=null,Ds=1073741823,Ms=1073741823,js=null,Ls=0,Fs=!1,Us=0,Bs=500,Vs=null,qs=!1,Ws=null,zs=null,Ks=!1,Hs=null,Gs=90,Qs=null,Ys=0,$s=null,Xs=0;function Js(){return(As&(bs|ws))!==gs?1073741821-(Ui()/10|0):0!==Xs?Xs:Xs=1073741821-(Ui()/10|0)}function Zs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Bi();if(0===(4&t))return 99===r?1073741823:1073741822;if((As&bs)!==gs)return xs;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=2;break;default:throw a(Error(326))}return null!==Os&&e===xs&&--e,e}var eu,tu=0;function nu(e,t){if(50<Ys)throw Ys=0,$s=null,a(Error(185));if(null!==(e=ru(e,t))){var n=Bi();1073741823===t?(As&ys)!==gs&&(As&(bs|ws))===gs?su(e):(ou(e),As===gs&&Ki()):ou(e),(4&As)===gs||98!==n&&99!==n||(null===Qs?Qs=new Map([[e,t]]):(void 0===(n=Qs.get(e))||n>t)&&Qs.set(e,t))}}function ru(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Os===i&&(gu(t),Rs===Cs&&zu(i,xs)),Ku(i,t)),i}function iu(e){var t=e.lastExpiredTime;return 0!==t?t:Wu(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function ou(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=zi(su.bind(null,e));else{var t=iu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Js();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Pi&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?zi(su.bind(null,e)):Wi(r,au.bind(null,e),{timeout:10*(1073741821-t)-Ui()}),e.callbackNode=t}}}function au(e,t){if(Xs=0,t)return Hu(e,t=Js()),ou(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,(As&(bs|ws))!==gs)throw a(Error(327));if(Iu(),e===Os&&n===xs||du(e,n),null!==Ns){var r=As;As|=bs;for(var i=vu();;)try{bu();break}catch(u){pu(e,u)}if(Ji(),As=r,vs.current=i,Rs===Es)throw t=Ps,du(e,n),zu(e,n),ou(e),t;if(null===Ns)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,cu(e,n),r=Rs,Os=null,r){case _s:case Es:throw a(Error(345));case Ss:if(2!==n){Hu(e,2);break}Su(e);break;case Ts:if(zu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Eu(i)),1073741823===Ds&&10<(i=Us+Bs-Ui())){if(Fs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,du(e,n);break}}if(0!==(o=iu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Zn(Su.bind(null,e),i);break}Su(e);break;case Cs:if(zu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Eu(i)),Fs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,du(e,n);break}if(0!==(i=iu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ms?r=10*(1073741821-Ms)-Ui():1073741823===Ds?r=0:(r=10*(1073741821-Ds)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ps(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Zn(Su.bind(null,e),r);break}Su(e);break;case Is:if(1073741823!==Ds&&null!==js){o=Ds;var s=js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){zu(e,n),e.timeoutHandle=Zn(Su.bind(null,e),r);break}}Su(e);break;case ks:zu(e,n);break;default:throw a(Error(329))}if(ou(e),e.callbackNode===t)return au.bind(null,e)}}return null}function su(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Su(e);else{if((As&(bs|ws))!==gs)throw a(Error(327));if(Iu(),e===Os&&t===xs||du(e,t),null!==Ns){var n=As;As|=bs;for(var r=vu();;)try{yu();break}catch(i){pu(e,i)}if(Ji(),As=n,vs.current=r,Rs===Es)throw n=Ps,du(e,t),zu(e,t),ou(e),n;if(null!==Ns)throw a(Error(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,cu(e,t),Rs===ks?zu(e,t):(Os=null,Su(e)),ou(e)}}return null}function uu(){(As&(1|bs|ws))===gs&&(function(){if(null!==Qs){var e=Qs;Qs=null,e.forEach((function(e,t){Hu(t,e),ou(t)})),Ki()}}(),Iu())}function cu(e,t){var n=e.firstBatch;null!==n&&n._defer&&n._expirationTime>=t&&(Wi(97,(function(){return n._onComplete(),null})),Rs=ks)}function lu(e,t){var n=As;As|=1;try{return e(t)}finally{(As=n)===gs&&Ki()}}function fu(e,t,n,r){var i=As;As|=4;try{return qi(98,e.bind(null,t,n,r))}finally{(As=i)===gs&&Ki()}}function hu(e,t){var n=As;As&=-2,As|=ys;try{return e(t)}finally{(As=n)===gs&&Ki()}}function du(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,er(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&vi();break;case 3:Lo(),mi();break;case 5:Uo(r);break;case 4:Lo();break;case 13:case 19:si(Bo);break;case 10:eo(r)}n=n.return}Os=e,Ns=Lu(e.current,null),xs=t,Rs=_s,Ps=null,Ms=Ds=1073741823,js=null,Ls=0,Fs=!1}function pu(e,t){for(;;){try{if(Ji(),aa(),null===Ns||null===Ns.return)return Rs=Es,Ps=t,null;e:{var n=e,r=Ns.return,i=Ns,o=t;if(t=xs,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var a=o,s=0!==(1&Bo.current),u=r;do{var c;if(c=13===u.tag){var l=u.memoizedState;if(null!==l)c=null!==l.dehydrated;else{var f=u.memoizedProps;c=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!s)}}if(c){var h=u.updateQueue;if(null===h){var d=new Set;d.add(a),u.updateQueue=d}else h.add(a);if(0===(2&u.mode)){if(u.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var p=so(1073741823,null);p.tag=2,co(i,p)}i.expirationTime=1073741823;break e}o=void 0,i=t;var v=n.pingCache;if(null===v?(v=n.pingCache=new fs,o=new Set,v.set(a,o)):void 0===(o=v.get(a))&&(o=new Set,v.set(a,o)),!o.has(i)){o.add(i);var m=Nu.bind(null,n,a,i);a.then(m,m)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);o=Error((X(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Rs!==Is&&(Rs=Ss),o=Ja(o,i),u=r;do{switch(u.tag){case 3:a=o,u.effectTag|=4096,u.expirationTime=t,lo(u,hs(u,a,t));break e;case 1:a=o;var g=u.type,y=u.stateNode;if((64&u.effectTag)===gt&&("function"===typeof g.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===zs||!zs.has(y)))){u.effectTag|=4096,u.expirationTime=t,lo(u,ds(u,a,t));break e}}u=u.return}while(null!==u)}Ns=_u(Ns)}catch(b){t=b;continue}break}}function vu(){var e=vs.current;return vs.current=ga,null===e?ga:e}function mu(e,t){e<Ds&&2<e&&(Ds=e),null!==t&&e<Ms&&2<e&&(Ms=e,js=t)}function gu(e){e>Ls&&(Ls=e)}function yu(){for(;null!==Ns;)Ns=wu(Ns)}function bu(){for(;null!==Ns&&!Ti();)Ns=wu(Ns)}function wu(e){var t=eu(e.alternate,e,xs);return e.memoizedProps=e.pendingProps,null===t&&(t=_u(e)),ms.current=null,t}function _u(e){Ns=e;do{var t=Ns.alternate;if(e=Ns.return,(2048&Ns.effectTag)===gt){e:{var n=t,r=xs,o=(t=Ns).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:pi(t.type)&&vi();break;case 3:Lo(),mi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&ka(t)&&Ya(t),Va(t);break;case 5:Uo(t),r=Mo(Do.current);var s=t.type;if(null!==n&&null!=t.stateNode)qa(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var u=Mo(Ro.current);if(ka(t)){s=void 0,n=(o=t).stateNode;var c=o.type,l=o.memoizedProps;switch(n[ir]=o,n[or]=l,c){case"iframe":case"object":case"embed":wn("load",n);break;case"video":case"audio":for(var f=0;f<Ze.length;f++)wn(Ze[f],n);break;case"source":wn("error",n);break;case"img":case"image":case"link":wn("error",n),wn("load",n);break;case"form":wn("reset",n),wn("submit",n);break;case"details":wn("toggle",n);break;case"input":ke(n,l),wn("invalid",n),Fn(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!l.multiple},wn("invalid",n),Fn(r,"onChange");break;case"textarea":Me(n,l),wn("invalid",n),Fn(r,"onChange")}for(s in jn(c,l),f=null,l)l.hasOwnProperty(s)&&(u=l[s],"children"===s?"string"===typeof u?n.textContent!==u&&(f=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(f=["children",""+u]):d.hasOwnProperty(s)&&null!=u&&Fn(r,s));switch(c){case"input":Te(n),Ne(n,l,!0);break;case"textarea":Te(n),Le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=Un)}r=f,o.updateQueue=r,null!==r&&Ya(t)}else{l=s,n=o,c=t,f=9===r.nodeType?r:r.ownerDocument,u===Fe.html&&(u=Ue(l)),u===Fe.html?"script"===l?((l=f.createElement("div")).innerHTML="<script><\/script>",f=l.removeChild(l.firstChild)):"string"===typeof n.is?f=f.createElement(l,{is:n.is}):(f=f.createElement(l),"select"===l&&(l=f,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):f=f.createElementNS(u,l),(l=f)[ir]=c,l[or]=n,Ba(n=l,t,!1,!1),t.stateNode=n,u=r;var h=Ln(s,o);switch(s){case"iframe":case"object":case"embed":wn("load",n),r=o;break;case"video":case"audio":for(r=0;r<Ze.length;r++)wn(Ze[r],n);r=o;break;case"source":wn("error",n),r=o;break;case"img":case"image":case"link":wn("error",n),wn("load",n),r=o;break;case"form":wn("reset",n),wn("submit",n),r=o;break;case"details":wn("toggle",n),r=o;break;case"input":ke(n,o),r=Ie(n,o),wn("invalid",n),Fn(u,"onChange");break;case"option":r=Re(n,o);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),wn("invalid",n),Fn(u,"onChange");break;case"textarea":Me(n,o),r=De(n,o),wn("invalid",n),Fn(u,"onChange");break;default:r=o}jn(s,r),c=void 0,l=s,f=n;var p=r;for(c in p)if(p.hasOwnProperty(c)){var v=p[c];"style"===c?Dn(f,v):"dangerouslySetInnerHTML"===c?null!=(v=v?v.__html:void 0)&&qe(f,v):"children"===c?"string"===typeof v?("textarea"!==l||""!==v)&&We(f,v):"number"===typeof v&&We(f,""+v):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(d.hasOwnProperty(c)?null!=v&&Fn(u,c):null!=v&&Ee(f,c,v,h))}switch(s){case"input":Te(n),Ne(n,o,!1);break;case"textarea":Te(n),Le(n);break;case"option":null!=o.value&&n.setAttribute("value",""+_e(o.value));break;case"select":r=n,n=o,r.multiple=!!n.multiple,null!=(c=n.value)?Pe(r,!!n.multiple,c,!1):null!=n.defaultValue&&Pe(r,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(n.onclick=Un)}Xn(s,o)&&Ya(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)Wa(n,t,n.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw a(Error(166));s=Mo(Do.current),Mo(Ro.current),ka(t)?(r=t.stateNode,o=t.memoizedProps,r[ir]=t,r.nodeValue!==o&&Ya(t)):(r=t,(o=(9===s.nodeType?s:s.ownerDocument).createTextNode(o))[ir]=t,r.stateNode=o)}break;case 11:break;case 13:if(si(Bo),o=t.memoizedState,(64&t.effectTag)!==gt){t.expirationTime=r;break e}r=null!==o,o=!1,null===n?ka(t):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=s,s.nextEffect=c):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?Rs===_s&&(Rs=Ts):(Rs!==_s&&Rs!==Ts||(Rs=Cs),0!==Ls&&null!==Os&&(zu(Os,xs),Ku(Os,Ls)))),(r||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Lo(),Va(t);break;case 10:eo(t);break;case 9:case 14:break;case 17:pi(t.type)&&vi();break;case 19:if(si(Bo),null===(o=t.memoizedState))break;if(s=(64&t.effectTag)!==gt,null===(c=o.rendering)){if(s)$a(o,!1);else if(Rs!==_s||null!==n&&(64&n.effectTag)!==gt)for(n=t.child;null!==n;){if(null!==(c=Vo(n))){for(t.effectTag|=64,$a(o,!1),null!==(o=c.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),t.firstEffect=t.lastEffect=null,o=t.child;null!==o;)n=r,(s=o).effectTag&=yt,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childExpirationTime=0,s.expirationTime=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=c.childExpirationTime,s.expirationTime=c.expirationTime,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,n=c.dependencies,s.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),o=o.sibling;ui(Bo,1&Bo.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Vo(c))){if(t.effectTag|=64,s=!0,$a(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Ui()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,$a(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Ui()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,o=Bo.current,ui(Bo,o=s?1&o|2:1&o),t=r;break e}break;case 20:case 21:break;default:throw a(Error(156),t.tag)}t=null}if(r=Ns,1===xs||1!==r.childExpirationTime){for(o=0,s=r.child;null!==s;)(n=s.expirationTime)>o&&(o=n),(c=s.childExpirationTime)>o&&(o=c),s=s.sibling;r.childExpirationTime=o}if(null!==t)return t;null!==e&&(2048&e.effectTag)===gt&&(null===e.firstEffect&&(e.firstEffect=Ns.firstEffect),null!==Ns.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ns.firstEffect),e.lastEffect=Ns.lastEffect),1<Ns.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ns:e.firstEffect=Ns,e.lastEffect=Ns))}else{if(null!==(t=Xa(Ns)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ns.sibling))return t;Ns=e}while(null!==Ns);return Rs===_s&&(Rs=Is),null}function Eu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Su(e){var t=Bi();return qi(99,Tu.bind(null,e,t)),null}function Tu(e,t){if(Iu(),(As&(bs|ws))!==gs)throw a(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Eu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Os&&(Ns=Os=null,xs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=As;As|=ws,ms.current=null,Yn=bn;var s=Wn();if(zn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(j){u=null;break e}var h=0,d=-1,p=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(d=h+l),g!==f||0!==c&&3!==g.nodeType||(p=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===u&&++v===l&&(d=h),y===f&&++m===c&&(p=h),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;$n={focusedElem:s,selectionRange:u},bn=!1,Vs=i;do{try{Cu()}catch(j){if(null===Vs)throw a(Error(330));Ou(Vs,j),Vs=Vs.nextEffect}}while(null!==Vs);Vs=i;do{try{for(s=e,u=t;null!==Vs;){var w=Vs.effectTag;if(16&w&&We(Vs.stateNode,""),128&w){var _=Vs.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(w&(12|yt|bt)){case yt:ss(Vs),Vs.effectTag&=~yt;break;case 6:ss(Vs),Vs.effectTag&=~yt,cs(Vs.alternate,Vs);break;case bt:Vs.effectTag&=~bt;break;case 1028:Vs.effectTag&=~bt,cs(Vs.alternate,Vs);break;case 4:cs(Vs.alternate,Vs);break;case 8:us(s,l=Vs,u),os(l)}Vs=Vs.nextEffect}}catch(j){if(null===Vs)throw a(Error(330));Ou(Vs,j),Vs=Vs.nextEffect}}while(null!==Vs);if(E=$n,_=Wn(),w=E.focusedElem,u=E.selectionRange,_!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&zn(w)&&(_=u.start,void 0===(E=u.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=qn(w,s),f=qn(w,u),l&&f&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((_=_.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(_),E.extend(f.node,f.offset)):(_.setEnd(f.node,f.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}$n=null,bn=!!Yn,Yn=null,e.current=n,Vs=i;do{try{for(w=r;null!==Vs;){var S=Vs.effectTag;if(36&S){var T=Vs.alternate;switch(E=w,(_=Vs).tag){case 0:case 11:case 15:rs(16,32,_);break;case 1:var C=_.stateNode;if(4&_.effectTag)if(null===T)C.componentDidMount();else{var I=_.elementType===_.type?T.memoizedProps:Gi(_.type,T.memoizedProps);C.componentDidUpdate(I,T.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var k=_.updateQueue;null!==k&&vo(0,k,C);break;case 3:var A=_.updateQueue;if(null!==A){if(s=null,null!==_.child)switch(_.child.tag){case 5:s=_.child.stateNode;break;case 1:s=_.child.stateNode}vo(0,A,s)}break;case 5:var O=_.stateNode;null===T&&4&_.effectTag&&(E=O,Xn(_.type,_.memoizedProps)&&E.focus());break;case 6:case 4:case 12:break;case 13:if(null===_.memoizedState){var N=_.alternate;if(null!==N){var x=N.memoizedState;if(null!==x){var R=x.dehydrated;null!==R&&mt(R)}}}break;case 19:case 17:case 20:case 21:break;default:throw a(Error(163))}}if(128&S){var P=(_=Vs).ref;if(null!==P){var D=_.stateNode;switch(_.tag){case 5:var M=D;break;default:M=D}"function"===typeof P?P(M):P.current=M}}Vs=Vs.nextEffect}}catch(j){if(null===Vs)throw a(Error(330));Ou(Vs,j),Vs=Vs.nextEffect}}while(null!==Vs);Vs=null,Di(),As=o}else e.current=n;if(Ks)Ks=!1,Hs=e,Gs=t;else for(Vs=i;null!==Vs;)t=Vs.nextEffect,Vs.nextEffect=null,Vs=t;if(0===(t=e.firstPendingTime)&&(zs=null),1073741823===t?e===$s?Ys++:(Ys=0,$s=e):Ys=0,"function"===typeof Ru&&Ru(n.stateNode,r),ou(e),qs)throw qs=!1,e=Ws,Ws=null,e;return(As&ys)!==gs?null:(Ki(),null)}function Cu(){for(;null!==Vs;){var e=Vs.effectTag;(256&e)!==gt&&ns(Vs.alternate,Vs),(512&e)===gt||Ks||(Ks=!0,Wi(97,(function(){return Iu(),null}))),Vs=Vs.nextEffect}}function Iu(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,qi(e,ku)}}function ku(){if(null===Hs)return!1;var e=Hs;if(Hs=null,(As&(bs|ws))!==gs)throw a(Error(331));var t=As;for(As|=ws,e=e.current.firstEffect;null!==e;){try{var n=e;if((512&n.effectTag)!==gt)switch(n.tag){case 0:case 11:case 15:rs(128,0,n),rs(0,64,n)}}catch(r){if(null===e)throw a(Error(330));Ou(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return As=t,Ki(),!0}function Au(e,t,n){co(e,t=hs(e,t=Ja(n,t),1073741823)),null!==(e=ru(e,1073741823))&&ou(e)}function Ou(e,t){if(3===e.tag)Au(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Au(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r))){co(n,e=ds(n,e=Ja(t,e),1073741823)),null!==(n=ru(n,1073741823))&&ou(n);break}}n=n.return}}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Os===e&&xs===n?Rs===Cs||Rs===Ts&&1073741823===Ds&&Ui()-Us<Bs?du(e,xs):Fs=!0:Wu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),ou(e)))}function xu(e,t){var n=e.stateNode;null!==n&&n.delete(t),1===(t=1)&&(t=Zs(t=Js(),e,null)),null!==(e=ru(e,t))&&ou(e)}eu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Na=!0;else{if(r<n){switch(Na=!1,t.tag){case 3:Ua(t),Aa();break;case 5:if(Fo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:pi(t.type)&&bi(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:Zi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ka(e,t,n):(ui(Bo,1&Bo.current),null!==(t=Qa(e,t,n))?t.sibling:null);ui(Bo,1&Bo.current);break;case 19:if(r=t.childExpirationTime>=n,(64&e.effectTag)!==gt){if(r)return Ga(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(Bo,Bo.current),!r)return null}return Qa(e,t,n)}Na=!1}}else Na=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),e=t.pendingProps,i=di(t,li.current),no(t,n),i=oa(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,aa(),pi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&bo(t,r,s,e),i.updater=wo,t.stateNode=i,i._reactInternalFiber=t,To(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,xa(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===z)return 11;if(e===G)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=ja(null,t,i,e,n);break;case 1:t=La(null,t,i,e,n);break;case 11:t=Ra(null,t,i,e,n);break;case 14:t=Pa(null,t,i,Gi(i.type,e),r,n);break;default:throw a(Error(306),i,"")}return t;case 0:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Ua(t),null===(r=t.updateQueue))throw a(Error(282));if(i=null!==(i=t.memoizedState)?i.element:null,po(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)Aa(),t=Qa(e,t,n);else{if((i=t.stateNode.hydrate)&&(_a=tr(t.stateNode.containerInfo.firstChild),wa=t,i=Ea=!0),i)for(n=No(t,null,r,n),t.child=n;n;)n.effectTag=n.effectTag&~yt|bt,n=n.sibling;else xa(e,t,r,n),Aa();t=t.child}return t;case 5:return Fo(t),null===e&&Ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Jn(r,i)?s=null:null!==o&&Jn(r,o)&&(t.effectTag|=16),Ma(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xa(e,t,s,n),t=t.child),t;case 6:return null===e&&Ca(t),null;case 13:return Ka(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oo(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Zi(t,o=i.value),null!==s){var u=s.value;if(0===(o=Qr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){t=Qa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(n,null)).tag=2,co(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),to(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,xa(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),Pa(e,t,i,o=Gi(i.type,o),r,n);case 15:return Da(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),t.tag=1,pi(r)?(e=!0,bi(t)):e=!1,no(t,n),Eo(t,r,i),To(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Ga(e,t,n)}throw a(Error(156),t.tag)};var Ru=null,Pu=null;function Du(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=gt,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Mu(e,t,n,r){return new Du(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=gt,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case F:return Uu(n.children,i,o,t);case W:s=8,i|=7;break;case U:s=8,i|=1;break;case B:return(e=Mu(12,n,t,8|i)).elementType=B,e.type=B,e.expirationTime=o,e;case K:return(e=Mu(13,n,t,i)).type=K,e.elementType=K,e.expirationTime=o,e;case H:return(e=Mu(19,n,t,i)).elementType=H,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case V:s=10;break e;case q:s=9;break e;case z:s=11;break e;case G:s=14;break e;case Q:s=16,r=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Uu(e,t,n,r){return(e=Mu(7,e,r,t)).expirationTime=n,e}function Bu(e,t,n){return(e=Mu(6,e,null,t)).expirationTime=n,e}function Vu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Wu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function zu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ku(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Hu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Gu(e,t,n,r,i,o){var s=t.current;e:if(n){t:{if(wt(n=n._reactInternalFiber)!==n||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=yi(n,c,u);break e}}n=u}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,t=o,(i=so(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),co(s,i),nu(s,r),r}function Qu(e,t,n,r){var i=t.current,o=Js(),a=go.suspense;return Gu(e,t,n,i=Zs(o,i,a),a,r)}function Yu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $u(e){var t=1073741821-25*(1+((1073741821-Js()+500)/25|0));t<=tu&&--t,this._expirationTime=tu=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Xu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ju(e,t,n){var r=new qu(e,t,n=null!=n&&!0===n.hydrate),i=Mu(3,null,null,2===t?7:1===t?3:0);return r.current=i,i.stateNode=r,e[ar]=r.current,n&&0!==t&&function(e){var t=On(e);st.forEach((function(n){Nn(n,e,t)})),ut.forEach((function(n){Nn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),r}function Zu(e,t,n){this._internalRoot=Ju(e,t,n)}function ec(e,t){this._internalRoot=Ju(e,2,t)}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Yu(a);s.call(e)}}Qu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Yu(a);u.call(e)}}hu((function(){Qu(t,a,e,i)}))}return Yu(a)}function rc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tc(t))throw a(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:L,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ee=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=lr(r);if(!i)throw a(Error(90));Ce(r),Oe(r,i)}}}break;case"textarea":je(e,n);break;case"select":null!=(t=n.value)&&Pe(e,!!n.multiple,t,!1)}},$u.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Xu;return Gu(e,t,null,n,null,r._onCommit),r},$u.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},$u.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(As&(bs|ws))!==gs)throw a(Error(253));Hu(e,t),ou(e),Ki(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},$u.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Xu.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Xu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)throw a(Error(191),n);n()}}},ec.prototype.render=Zu.prototype.render=function(e,t){var n=this._internalRoot,r=new Xu;return null!==(t=void 0===t?null:t)&&r.then(t),Qu(e,n,null,r._onCommit),r},ec.prototype.unmount=Zu.prototype.unmount=function(e){var t=this._internalRoot,n=new Xu;return null!==(e=void 0===e?null:e)&&n.then(e),Qu(null,t,null,n._onCommit),n},ec.prototype.createBatch=function(){var e=new $u(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},ae=lu,se=fu,ue=uu,ce=function(e,t){var n=As;As|=2;try{return e(t)}finally{(As=n)===gs&&Ki()}};var ic={createPortal:rc,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=Et(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!tc(t))throw a(Error(200));return nc(null,e,t,!0,n)},render:function(e,t,n){if(!tc(t))throw a(Error(200));return nc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!tc(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return nc(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!tc(e))throw a(Error(40));return!!e._reactRootContainer&&(hu((function(){nc(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return rc.apply(void 0,arguments)},unstable_batchedUpdates:lu,unstable_interactiveUpdates:function(e,t,n,r){return uu(),fu(e,t,n,r)},unstable_discreteUpdates:fu,unstable_flushDiscreteUpdates:uu,flushSync:function(e,t){if((As&(bs|ws))!==gs)throw a(Error(187));var n=As;As|=1;try{return qi(99,e.bind(null,t))}finally{As=n,Ki()}},unstable_createRoot:function(e,t){if(!tc(e))throw a(Error(299),"unstable_createRoot");return new ec(e,t)},unstable_createSyncRoot:function(e,t){if(!tc(e))throw a(Error(299),"unstable_createRoot");return new Zu(e,1,t)},unstable_flushControlled:function(e){var t=As;As|=1;try{qi(99,e)}finally{(As=t)===gs&&Ki()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[ur,cr,lr,x.injectEventPluginsByName,h,Ot,function(e){k(e,At)},ie,oe,Cn,N,Iu,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ru=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Pu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Et(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:sr,bundleType:0,version:"16.10.2",rendererPackageName:"react-dom"});var oc={default:ic},ac=oc&&ic||oc;e.exports=ac.default||ac},function(e,t,n){"use strict";e.exports=n(77)},function(e,t,n){"use strict";var r,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout,m=window.requestAnimationFrame,g=window.cancelAnimationFrame;if("undefined"!==typeof console&&("function"!==typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var b=!1,w=null,_=-1,E=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):33.33};var T=new MessageChannel,C=T.port2;T.port1.onmessage=function(){if(null!==w){var e=t.unstable_now();S=e+E;try{w(!0,e)?C.postMessage(null):(b=!1,w=null)}catch(n){throw C.postMessage(null),n}}else b=!1},r=function(e){w=e,b||(b=!0,C.postMessage(null))},i=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){v(_),_=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<O(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>O(a,n))void 0!==u&&0>O(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>O(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],x=[],R=1,P=null,D=3,M=!1,j=!1,L=!1;function F(e){for(var t=k(x);null!==t;){if(null===t.callback)A(x);else{if(!(t.startTime<=e))break;A(x),t.sortIndex=t.expirationTime,I(N,t)}t=k(x)}}function U(e){if(L=!1,F(e),!j)if(null!==k(N))j=!0,r(B);else{var t=k(x);null!==t&&i(U,t.startTime-e)}}function B(e,n){j=!1,L&&(L=!1,o()),M=!0;var r=D;try{for(F(n),P=k(N);null!==P&&(!(P.expirationTime>n)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,D=P.priorityLevel;var u=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?P.callback=u:P===k(N)&&A(N),F(n)}else A(N);P=k(N)}if(null!==P)var c=!0;else{var l=k(x);null!==l&&i(U,l.startTime-n),c=!1}return c}finally{P=null,D=r,M=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:V(e)}else a=V(e),u=s;return e={id:R++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,I(x,e),null===k(N)&&e===k(x)&&(L?o():L=!0,i(U,u-s))):(e.sortIndex=a,I(N,e),j||M||(j=!0,r(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=k(N);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_requestPaint=q,t.unstable_continueExecution=function(){j||M||(j=!0,r(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return k(N)},t.unstable_Profiling=null},,function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i=n(4))&&"object"===typeof i&&"default"in i?i.default:i,a=n(2),s=n(16),u=n(33),c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),s.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:s.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),l=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return s.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(n){}return new l},h=f("localStorage"),d=f("sessionStorage"),p=new u.Logger("@firebase/database"),v="FIREBASE_DATABASE_EMULATOR_HOST",m=function(){var e=1;return function(){return e++}}(),g=function(e){var t=s.stringToByteArray(e),n=new s.Sha1;n.update(t);var r=n.digest();return s.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"===typeof t[i]&&"number"===typeof t[i].length?r+=e.apply(null,t[i]):"object"===typeof t[i]?r+=s.stringify(t[i]):r+=t[i],r+=" ";return r},b=null,w=!0,_=function(e,t){s.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=u.LogLevel.VERBOSE,b=p.log.bind(p),t&&d.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,d.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===d.get("logging_enabled")&&_(!0)),b){var n=y.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,a.__spread([e],t))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,a.__spread(e));p.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,a.__spread(e));throw p.error(n),new Error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,a.__spread(e));p.warn(n)},k=function(e){return"number"===typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",O="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===A||t===O)return-1;if(t===A||e===O)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+s.stringify(t))},P=function e(t){if("object"!==typeof t||null===t)return s.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=s.stringify(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var j=function(e){s.assert(!k(e),"Invalid JSON number");var t,n,r,i,o,a,u;for(0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse(),u=a.join("");var c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),F=function(e){if(L.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},U=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw I("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},V=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},q=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),W=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=s.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=s.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),z="long_polling",K=function(){function e(e,t,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(s.assert("string"===typeof e,"typeof type must == string"),s.assert("object"===typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==z)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return M(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();var H,G,Q=function(e){var t=Y(e),n=t.namespace;"firebase"===t.domain&&C(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new K(t.host,t.secure,n,r,"",n!=t.subdomain),path:new q(t.pathString)}},Y=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=a.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=e.length;var p=t.split(".");3===p.length?(n=p[1],o=r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,l).toLowerCase()&&(n="localhost"),"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},$=/[\[\].#$\/\u0000-\u001F\u007F]/,X=/[\[\].#$\u0000-\u001F\u007F]/,J=function(e){return"string"===typeof e&&0!==e.length&&!$.test(e)},Z=function(e){return"string"===typeof e&&0!==e.length&&!X.test(e)},ee=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!k(e)||e&&"object"===typeof e&&s.contains(e,".sv")},te=function(e,t,n,r,i){i&&void 0===n||ne(s.errorPrefix(e,t,i),n,r)},ne=function e(t,n,r){var i=r instanceof q?new W(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+i.toErrorString());if("function"===typeof n)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(k(n))throw new Error(t+"contains "+n.toString()+" "+i.toErrorString());if("string"===typeof n&&n.length>10485760/3&&s.stringLength(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,a=!1;if(M(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!J(n)))throw new Error(t+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),e(t,r,i),i.pop()})),o&&a)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},re=function(e,t,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(e,t,i);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];M(n,(function(e,t){var n=new q(e);if(ne(o,t,r.child(n)),".priority"===n.getBack()&&!ee(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!J(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(q.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},ie=function(e,t,n,r){if(!r||void 0!==n){if(k(n))throw new Error(s.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ee(n))throw new Error(s.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},oe=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ae=function(e,t,n,r){if((!r||void 0!==n)&&!J(n))throw new Error(s.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},se=function(e,t,n,r){if((!r||void 0!==n)&&!Z(n))throw new Error(s.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ue=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),se(e,t,n,r)},ce=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},le=function(e,t,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!J(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Z(e)}(r))throw new Error(s.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},fe=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(s.errorPrefix(e,t,r)+"must be a boolean.")},he=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ce("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,e,!0);var t=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),ce("OnDisconnect.set",this.path_),te("OnDisconnect.set",1,e,this.path_,!1),s.validateCallback("OnDisconnect.set",2,t,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ce("OnDisconnect.setWithPriority",this.path_),te("OnDisconnect.setWithPriority",1,e,this.path_,!1),ie("OnDisconnect.setWithPriority",2,t,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),ce("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}re("OnDisconnect.update",1,e,this.path_,!1),s.validateCallback("OnDisconnect.update",2,t,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),de=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),pe=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var i,o=r===t;t=r;var a=new Array(8);for(i=7;i>=0;i--)a[i]=e.charAt(r%64),r=Math.floor(r/64);s.assert(0===r,"Cannot push at time == 0");var u=a.join("");if(o){for(i=11;i>=0&&63===n[i];i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=e.charAt(n[i]);return s.assert(20===u.length,"nextPushId: Length should be 20."),u}}(),ve=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),me=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new ve(A,e),r=new ve(A,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return ve.MIN},e}(),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return H},set:function(e){H=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return ve.MIN},t.prototype.maxPost=function(){return new ve(O,H)},t.prototype.makePost=function(e,t){return s.assert("string"===typeof e,"KeyIndex indexValue must always be a string."),new ve(e,H)},t.prototype.toString=function(){return".key"},t}(me),ye=new ge;var be,we,_e,Ee=function(e){return"number"===typeof e?"number:"+j(e):"string:"+e},Se=function(e){if(e.isLeafNode()){var t=e.val();s.assert("string"===typeof t||"number"===typeof t||"object"===typeof t&&s.contains(t,".sv"),"Priority must be a string or number.")}else s.assert(e===G||e.isEmpty(),"priority of unexpected type.");s.assert(e===G||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Te=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,s.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Se(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return be},set:function(e){be=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ee(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(s.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Ce,Ie,ke=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return ve.MIN},t.prototype.maxPost=function(){return new ve(O,new Te("[PRIORITY-POST]",_e))},t.prototype.makePost=function(e,t){var n=we(e);return new ve(t,new Te("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(me)),Ae=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Oe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:xe.EMPTY_NODE,this.right=null!=o?o:xe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return(i=(r=n(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return xe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return xe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ne=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Oe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),xe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ae(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ae(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ae(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ae(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ne,e}(),Re=Math.log(2),Pe=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Re,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),De=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var u=function t(r,i){var o,a,s=i-r;if(0==s)return null;if(1==s)return o=e[r],a=n?n(o):o,new Oe(a,o.node,Oe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Oe(a,o.node,Oe.BLACK,c,l)}(i+1,a),c=e[i],l=n?n(c):c;s(new Oe(l,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?a(l,Oe.BLACK):(a(l,Oe.BLACK),a(l,Oe.RED))}return i}(new Pe(e.length));return new xe(r||t,i)},Me={},je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return s.assert(Me&&ke,"ChildrenNode.ts has not been loaded"),Ce=Ce||new e({".priority":Me},{".priority":ke})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=s.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof xe?t:null},e.prototype.hasIndex=function(e){return s.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){s.assert(t!==ye,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,u=n.getIterator(ve.Wrap),c=u.getNext();c;)o=o||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=o?De(i,t.getCompare()):Me;var l=t.toString(),f=a.__assign({},this.indexSet_);f[l]=t;var h=a.__assign({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(s.map(this.indexes_,(function(e,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),e===Me){if(o.isDefinedOn(t.node)){for(var a=[],u=n.getIterator(ve.Wrap),c=u.getNext();c;)c.name!=t.name&&a.push(c),c=u.getNext();return a.push(t),De(a,o.getCompare())}return Me}var l=n.get(t.name),f=e;return l&&(f=f.remove(new ve(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(s.map(this.indexes_,(function(e){if(e===Me)return e;var r=n.get(t.name);return r?e.remove(new ve(t.name,r)):e})),this.indexSet_)},e}();function Le(e,t){return N(e.name,t.name)}function Fe(e,t){return N(e,t)}var Ue=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Se(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ie||(Ie=new e(new xe(Fe),null,je.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ie},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ie:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i=new ve(t,n),o=void 0,a=void 0;return n.isEmpty()?(o=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?Ie:this.priorityNode_,new e(o,r,a)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;s.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ke,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ee(this.getPriority().val())+":"),this.forEachChild(ke,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ve(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new ve(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new ve(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ve.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ve.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Be?-1:0},e.prototype.withIndex=function(t){if(t===ye||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===ye||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ke),r=t.getIterator(ke),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===ye?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Be=new(function(e){function t(){return e.call(this,new xe(Fe),Ue.EMPTY_NODE,je.Default)||this}return a.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ue.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ue));Object.defineProperties(ve,{MIN:{value:new ve(A,Ue.EMPTY_NODE)},MAX:{value:new ve(O,Be)}}),ge.__EMPTY_NODE=Ue.EMPTY_NODE,Te.__childrenNodeConstructor=Ue,G=Be,function(e){_e=e}(Be);var Ve=!0;function qe(e,t){if(void 0===t&&(t=null),null===e)return Ue.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),s.assert(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Te(e,qe(t));if(e instanceof Array||!Ve){var n=Ue.EMPTY_NODE;return M(e,(function(t,r){if(s.contains(e,t)&&"."!==t.substring(0,1)){var i=qe(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(qe(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=qe(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new ve(e,n)))}})),0==r.length)return Ue.EMPTY_NODE;var o=De(r,Le,(function(e){return e.name}),Fe);if(i){var a=De(r,ke.getCompare());return new Ue(o,qe(t),new je({".priority":a},{".priority":ke}))}return new Ue(o,qe(t),je.Default)}!function(e){we=e}(qe);var We,ze,Ke=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return ve.MIN},t.prototype.maxPost=function(){return ve.MAX},t.prototype.makePost=function(e,t){var n=qe(e);return new ve(t,n)},t.prototype.toString=function(){return".value"},t}(me)),He=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,s.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=qe(e),r=Ue.EMPTY_NODE.updateChild(this.indexPath_,n);return new ve(t,r)},t.prototype.maxPost=function(){var e=Ue.EMPTY_NODE.updateChild(this.indexPath_,Be);return new ve(O,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(me),Ge=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),se("DataSnapshot.child",1,t,!1);var n=new q(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,ke)},e.prototype.hasChild=function(e){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),se("DataSnapshot.hasChild",1,e,!1);var t=new q(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),ke))}))},e.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Qe=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},e}(),Ye=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),$e=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Qe("value",this,new Ge(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ye(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Xe=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,s.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ye(this,e,t):null},e.prototype.createEvent=function(e,t){s.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Qe(e.type,this,new Ge(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!t.callbacks_[a]||!this.callbacks_[s]||t.callbacks_[a]===this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Je=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return s.assert(We,"Reference.ts has not been loaded"),We},set:function(e){We=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ye){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=A)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!=O)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ke){if(null!=t&&!ee(t)||null!=n&&!ee(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(e.getIndex()instanceof He||e.getIndex()===Ke,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),oe("Query.on",1,t,!1),s.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new $e(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Xe(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){s.validateArgCount("Query.off",0,3,arguments.length),oe("Query.off",1,e,!0),s.validateCallback("Query.off",2,t,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new $e(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Xe(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),oe("Query.once",1,t,!1),s.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new s.Deferred;c.promise.catch((function(){}));var l=function e(r){u&&(u=!1,o.off(t,e),n&&n.bind(a.context)(r),c.resolve(r))};return this.on(t,l,(function(e){o.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');se("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new q(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new He(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(ye);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(ke);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Ke);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),s.validateArgCount("Query.startAt",0,2,arguments.length),te("Query.startAt",1,t,this.path,!0),ae("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),s.validateArgCount("Query.endAt",0,2,arguments.length),te("Query.endAt",1,t,this.path,!0),ae("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),te("Query.equalTo",1,e,this.path,!1),ae("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=P(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return r&&i&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,s.validateCallback(e,3,r.cancel,!0),r.context=n,s.validateContextObject(e,4,r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(s.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Ze=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(ke,(function(e,t){n.remember(new q(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();if(e=e.popFront(),this.children.has(r))this.children.get(r).forget(e)&&this.children.delete(r);return 0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new q(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}(),et=function(e,t){return e&&"object"===typeof e?(s.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},tt=function e(t,n){var r,i=t.getPriority().val(),o=et(i,n);if(t.isLeafNode()){var a=t,s=et(a.getValue(),n);return s!==a.getValue()||o!==a.getPriority().val()?new Te(s,qe(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Te(o))),u.forEachChild(ke,(function(t,i){var o=e(i,n);o!==i&&(r=r.updateImmediateChild(t,o))})),r};!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ze||(ze={}));var nt,rt,it=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,s.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ot=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ze.ACK_USER_WRITE,this.source=it.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new q(t));return new e(q.Empty,n,this.revert)}return s.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),at=function(){return nt||(nt=new xe(x)),nt},st=function(){function e(e,t){void 0===t&&(t=at()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return M(t,(function(e,t){n=n.set(new q(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:q.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new q(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=(this.children.get(r)||e.Empty).setTree(t.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(q.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,q.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,q.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(q.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),ut=function(){function e(e,t){this.source=e,this.path=t,this.type=ze.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,q.Empty):new e(this.source,this.path.popFront())},e}(),ct=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ze.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,q.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),lt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ze.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new q(t));return n.isEmpty()?null:n.value?new ct(this.source,q.Empty,n.value):new e(this.source,q.Empty,n)}return s.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),ft=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),ht=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new ft(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new ft(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new ft(Ue.EMPTY_NODE,!1,!1),new ft(Ue.EMPTY_NODE,!1,!1)),e}(),dt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),pt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){s.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(dt.childRemovedChange(t,a)):s.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(dt.childAddedChange(t,n)):o.trackChildChange(dt.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ke,(function(e,r){t.hasChild(e)||n.trackChildChange(dt.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(ke,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(dt.childChangedChange(t,r,i))}else n.trackChildChange(dt.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),vt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;s.assert(t==dt.CHILD_ADDED||t==dt.CHILD_CHANGED||t==dt.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t==dt.CHILD_ADDED&&i==dt.CHILD_REMOVED)this.changeMap.set(n,dt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t==dt.CHILD_REMOVED&&i==dt.CHILD_ADDED)this.changeMap.delete(n);else if(t==dt.CHILD_REMOVED&&i==dt.CHILD_CHANGED)this.changeMap.set(n,dt.childRemovedChange(n,r.oldSnap));else if(t==dt.CHILD_CHANGED&&i==dt.CHILD_ADDED)this.changeMap.set(n,dt.childAddedChange(n,e.snapshotNode));else{if(t!=dt.CHILD_CHANGED||i!=dt.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,dt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),mt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),gt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ft(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),yt=function(e,t){this.viewCache=e,this.changes=t},bt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){s.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,a,u=new vt;if(n.type===ze.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(t,c.path,c.snap,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(t,c.path,c.snap,r,i,a,u))}else if(n.type===ze.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(t,l.path,l.children,r,i,u):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,l.path,l.children,r,i,a,u))}else if(n.type===ze.ACK_USER_WRITE){var f=n;o=f.revert?this.revertUserWrite_(t,f.path,r,i,u):this.ackUserWrite_(t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==ze.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,u)}var h=u.getChanges();return e.maybeAddValueEvent_(t,o,h),new yt(o,h)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(dt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,u=void 0;if(t.isEmpty())if(s.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=c instanceof Ue?c:Ue.EMPTY_NODE,f=n.calcCompleteEventChildren(l);a=this.filter_.updateFullNode(e.getEventCache().getNode(),f,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var d=t.getFront();if(".priority"==d){s.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=o.getNode();u=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,p,u);a=null!=v?this.filter_.updatePriority(p,v):o.getNode()}else{var m=t.popFront(),g=void 0;if(o.isCompleteForChild(d)){u=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),u);g=null!=y?o.getNode().getImmediateChild(d).updateChild(m,y):o.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,e.getServerCache());a=null!=g?this.filter_.updateChild(o.getNode(),d,g,m,r,i):o.getNode()}}return e.updateEventSnap(a,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var h=t.popFront(),d=u.getNode().getImmediateChild(f).updateChild(h,n);s=".priority"==f?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),f,d,h,mt,null)}var p=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),v=new gt(r,p,i);return this.generateEventCacheAfterServerEvent_(p,t,r,v,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),c=new gt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var f=t.popFront(),h=u.getNode().getImmediateChild(l),d=void 0;if(f.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===f.getBack()&&p.getChild(f.parent()).isEmpty()?p:p.updateChild(f,n):Ue.EMPTY_NODE}if(h.equals(d))a=e;else{var v=this.filter_.updateChild(u.getNode(),l,d,f,c,o);a=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:st.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new q(t),f,r,i,o,a)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var f=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(f,n);c=s.applyServerOverwrite_(c,new q(t),h,r,i,o,a)}})),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=st.Empty;return s.getNode().forEachChild(ye,(function(e,t){u=u.set(new q(e),t)})),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var c=st.Empty;return n.foreach((function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),this.applyServerMerge_(e,t,c,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,mt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var a=new gt(n,e,r),u=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var f=e.getServerCache().getNode();s.assert(f instanceof Ue,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(f)}l=l,c=this.filter_.updateFullNode(u,l,i)}else{var h=t.getFront(),d=n.calcCompleteChild(h,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(h)&&(d=u.getImmediateChild(h)),(c=null!=d?this.filter_.updateChild(u,h,d,t.popFront(),a,i):e.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(u,h,Ue.EMPTY_NODE,t.popFront(),a,i):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(q.Empty),e.updateEventSnap(c,o,this.filter_.filtersNodes())},e}(),wt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===dt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(dt.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,dt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,dt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,dt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,dt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,dt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter((function(e){return e.type===t}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw s.assertionError("Should only compare child_ events.");var n=new ve(e.childName,e.snapshotNode),r=new ve(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),_t=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new pt(n.getIndex()),i=n.getNodeFilter();this.processor_=new bt(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(Ue.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ue.EMPTY_NODE,a.getNode(),null),c=new ft(s,o.isFullyInitialized(),r.filtersNodes()),l=new ft(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ht(l,c),this.eventGenerator_=new wt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){s.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ze.MERGE&&null!==e.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(ke,(function(e,t){n.push(dt.childAddedChange(e,t))}));return t.isFullyInitialized()&&n.push(dt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Et=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return s.assert(rt,"Reference.ts has not been loaded"),rt},set:function(e){s.assert(!rt,"__referenceConstructor has already been defined"),rt=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,o=e.source.queryId;if(null!==o){var u=this.views.get(o);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(e,t,n)}var c=[];try{for(var l=a.__values(this.views.values()),f=l.next();!f.done;f=l.next()){u=f.value;c=c.concat(u.applyOperation(e,t,n))}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Ue?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ue.EMPTY_NODE,u=!1);var c=new ht(new ft(s,u,!1),new ft(r,i,!1));a=new _t(e,c),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,o,s=t.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var f=a.__values(this.views.entries()),h=f.next();!h.done;h=f.next()){var d=a.__read(h.value,2),p=d[0],v=d[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(p),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else(v=this.views.get(s))&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new e.__referenceConstructor(t.repo,t.path)),{removed:u,events:c}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(e)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),St=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new st(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=q.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new st(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return M(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,st.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(q.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ke,(function(t,n){e.push(new ve(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new ve(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new st(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(s.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(t.child(n),o,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}(q.Empty,this.writeTree_,e)},e.Empty=new e(new st(null)),e}();var Tt=function(){function e(){this.visibleWrites_=St.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Ct(e,this)},e.prototype.addOverwrite=function(e,t,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))}));return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(q.Empty)){var a=e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t);c=n||Ue.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(t);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(q.Empty)){var c=n||Ue.EMPTY_NODE;return u.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Ue.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(ke,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(ke,(function(e,t){var r=i.childCompoundWrite(new q(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(q.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),f=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=f.getNext();h&&c.length<r;)0!==l(h,n)&&c.push(h),h=f.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,q.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=St.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=q.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=q.relativePath(a,n),r=r.addWrite(q.Empty,o.snap.getChild(u)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=q.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if((u=q.relativePath(a,n)).isEmpty())r=r.addWrites(q.Empty,o.children);else{var c=s.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(q.Empty,l)}}}}}return r},e}(),Ct=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),It=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=st.Empty,this.pendingWriteTree_=new Tt,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new ct(it.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=st.fromObject(t);return this.applyOperationToSyncPoints_(new lt(it.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=st.Empty;return null!=n.snap?r=r.set(q.Empty,!0):M(n.children,(function(e,t){r=r.set(new q(e),t)})),this.applyOperationToSyncPoints_(new ot(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new ct(it.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=st.fromObject(t);return this.applyOperationToSyncPoints_(new lt(it.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new ut(it.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,t),c=new ct(it.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,t),c=st.fromObject(n),l=new lt(it.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=q.relativePath(o,t),u=new ut(it.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=q.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);(u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(q.Empty)):(u=new Et,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?a=!0:(a=!1,i=Ue.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(q.Empty);n&&(i=i.updateImmediateChild(e,n))})));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);s.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=e.getNextQueryTag_();this.queryToTagMap.set(l,f),this.tagToQueryMap.set(f,l)}var h=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(t,n,h,i,a);if(!c&&!o){var p=u.viewForQuery(t);d=d.concat(this.setupListener_(t,p))}return d},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!f){var h=this.syncPointTree_.subtree(o);if(!h.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(h),p=0;p<d.length;++p){var v=d[p],m=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(m),this.tagForQuery_(m),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}));this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=q.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),M(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}return a},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Ue.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return s.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new q(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(q.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(q.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(q.Empty));var a=[];return t.children.inorderTraversal((function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),kt=function(){function e(){this.rootNode_=Ue.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),At=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,(function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}))},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)},e}(),Ot=function(e){this.accessToken=e},Nt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return Promise.resolve(new Ot("owner"))},e.prototype.addTokenChangeListener=function(e){},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){I('Database emulator unexpectedly rejected fake "owner" credentials.')},e}(),xt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),s.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return s.deepCopy(this.counters_)},e}(),Rt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new xt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Pt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=a.__assign({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Dt=1e4,Mt=3e4,jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Pt(e);var n=Dt+(Mt-Dt)*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&s.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Lt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Ft(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Ft=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();b&&E("event: "+t.toString()),U(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Ut=function(){function e(e){this.allowedEvents_=e,this.listeners_={},s.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=a.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){s.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Bt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return s.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Ut),Vt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return s.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Ut),qt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&U((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Wt="pLPCommand",zt="pRTLPCB",Kt=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=Rt.getCollection(t),this.urlFn=function(e){return t.connectionURL(z,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new qt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(s.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ht((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.__read(e,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.__read(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!s.isNodeSdk()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=s.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=s.base64Encode(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=s.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Ht=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window[Wt+this.uniqueCallbackIdentifier]=t,window[zt+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){E("frame writing exception"),u.stack&&E(u.stack),E(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;s.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Gt="";var Qt=null;"undefined"!==typeof MozWebSocket?Qt=MozWebSocket:"undefined"!==typeof WebSocket&&(Qt=WebSocket);var Yt=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Rt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!s.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var i=s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+Gt+"/"+r.platform+"/"+i}},a=Object({NODE_ENV:"production",PUBLIC_URL:""}),u=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new Qt(this.connURL,[],o)}else this.mySock=new Qt(this.connURL)}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Qt&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=s.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(s.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=s.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),$t=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Kt,Yt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Yt&&Yt.isAvailable(),o=i&&!Yt.previouslyFailed();if(t.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Yt];else{var s=this.transports_=[];try{for(var u=a.__values(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Xt=function(){function e(e,t,n,r,i,o,a){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new $t(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Jt=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Zt=1e3,en=3e5,tn=function(e){function t(n,r,i,o,a,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=a,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=S("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Zt,c.maxReconnectDelay_=en,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Bt.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Vt.getInstance().on("online",c.onOnline_,c),c}return a.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&s.contains(e,"w")){var n=s.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||s.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=s.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+s.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+s.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,a=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(e){s.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,c=new Xt(i,o.repoInfo_,e,n,r,(function(e){I(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(e){o.log_("Failed to get token: "+e),u||(s.CONSTANTS.NODE_ADMIN&&I(e),l())}))}},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Zt,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new q(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";s.CONSTANTS.NODE_ADMIN?t="admin_node":s.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+Gt.replace(/\./g,"-")]=1,s.isMobileCordova()?e["framework.cordova"]=1:s.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Vt.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Jt),nn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=S("p:rest:"),i.listens_={},i}return a.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(s.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===c)&&i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+s.querystring(t);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=s.jsonEval(u.responseText)}catch(t){I("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},t}(Jt),rn=function(){function e(e,t,n){var i,o=this;if(this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Ze,this.persistentConnection_=null,i="undefined"!==typeof r&&Object({NODE_ENV:"production",PUBLIC_URL:""})[v]?new Nt(n):new At(n),this.stats_=Rt.getCollection(e),t||B())this.server_=new nn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if("undefined"!==typeof a&&null!==a){if("object"!==typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,a),this.server_=this.persistentConnection_}i.addTokenChangeListener((function(e){o.server_.refreshAuthToken(e)})),this.statsReporter_=Rt.getOrCreateReporter(e,(function(){return new jt(o.stats_,o.server_)})),this.transactions_init_(),this.infoData_=new kt,this.infoSyncTree_=new It({startListening:function(e,t,n,r){var i=[],a=o.infoData_.getNode(e.path);return a.isEmpty()||(i=o.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){r("ok")}),0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new It({startListening:function(e,t,n,r){return o.server_.listen(e,n,t,(function(t,n){var i=r(t,n);o.eventQueue_.raiseEventsForChangedPath(e.path,i)})),[]},stopListening:function(e,t){o.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new q(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var a=s.map(t,(function(e){return qe(e)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=qe(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=s.map(t,(function(e){return qe(e)}));o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=qe(t);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var f=i;o.length>0&&(f=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(f,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;M(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new q("/.info/"+e),r=qe(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=qe(t,n),s=tt(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(e,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(e.toString(),a.val(!0),(function(t,n){var o="ok"===t;o||I("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)}));var l=this.abortTransactions_(e);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),a={};if(M(t,(function(e,t){i=!1;var n=qe(t);a[e]=tt(n,o)})),i)E("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||I("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,t,i)})),M(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=function(e,t){var n=new Ze;return e.forEachTree(new q(""),(function(e,r){n.remember(e,tt(r,t))})),n}(this.onDisconnect_,t),r=[];n.forEachTree(q.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new Ze,this.eventQueue_.raiseEventsForChangedPath(q.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=qe(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=qe(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(s.isEmpty(t))return E("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&M(t,(function(t,n){var i=qe(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Pt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);M(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),E.apply(void 0,a.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&U((function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new pn(this))},enumerable:!0,configurable:!0}),e}(),on=function(){function e(t){this.indexedFilter_=new pt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new ve(t,n))||(n=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ue.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ue.EMPTY_NODE);var i=this;return t.forEachChild(ke,(function(e,t){i.matches(new ve(e,t))||(r=r.updateImmediateChild(e,Ue.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),an=function(){function e(e){this.rangedFilter_=new on(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new ve(t,n))||(n=Ue.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ue.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ue.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ue.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var u=e;s.assert(u.numChildren()==this.limit_,"");var c=new ve(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name==t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(dt.childChangedChange(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(dt.childRemovedChange(t,h));var v=u.updateImmediateChild(t,Ue.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(dt.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&o(l,c)>=0?(null!=i&&(i.trackChildChange(dt.childRemovedChange(l.name,l.node)),i.trackChildChange(dt.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Ue.EMPTY_NODE)):e},e}(),sn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==ke&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==ke},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new pt(this.getIndex()):this.hasLimit()?new an(this):new on(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===ke?t=n.PRIORITY_INDEX:this.index_===Ke?t=n.VALUE_INDEX:this.index_===ye?t=n.KEY_INDEX:(s.assert(this.index_ instanceof He,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=s.stringify(t),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),un=function(e){function t(t,n){if(!(t instanceof rn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,sn.DEFAULT,!1)||this}return a.__extends(t,e),t.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof e?e=String(e):e instanceof q||(null===this.path.getFront()?ue("Reference.child",1,e,!1):se("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){s.validateArgCount("Reference.set",1,2,arguments.length),ce("Reference.set",this.path),te("Reference.set",1,e,this.path,!1),s.validateCallback("Reference.set",2,t,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(s.validateArgCount("Reference.update",1,2,arguments.length),ce("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}re("Reference.update",1,e,this.path,!1),s.validateCallback("Reference.update",2,t,!0);var i=new s.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ce("Reference.setWithPriority",this.path),te("Reference.setWithPriority",1,e,this.path,!1),ie("Reference.setWithPriority",2,t,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return s.validateArgCount("Reference.remove",0,1,arguments.length),ce("Reference.remove",this.path),s.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),ce("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,e,!1),s.validateCallback("Reference.transaction",2,t,!0),fe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;"function"===typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new de(n,i)),"function"===typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){s.validateArgCount("Reference.setPriority",1,2,arguments.length),ce("Reference.setPriority",this.path),ie("Reference.setPriority",1,e,!1),s.validateCallback("Reference.setPriority",2,t,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){s.validateArgCount("Reference.push",0,2,arguments.length),ce("Reference.push",this.path),te("Reference.push",1,e,this.path,!0),s.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=pe(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return ce("Reference.onDisconnect",this.path),new he(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(Je);Je.__referenceConstructor=un,Et.__referenceConstructor=un;var cn,ln=function(){this.children={},this.childCount=0,this.value=null},fn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new ln),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof q?t:new q(t),i=this;null!==(n=r.getFront());){i=new e(n,i,s.safeGet(i.node_.children,n)||new ln),r=r.popFront()}return i},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){s.assert("undefined"!==typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;M(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=s.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(cn||(cn={})),rn.MAX_TRANSACTION_RETRIES_=25,rn.prototype.transactions_init_=function(){this.transactionQueueTree_=new fn},rn.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new un(this,e);o.on("value",i);var a={path:e,update:t,onComplete:n,status:null,order:m(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Ge(a.currentInputSnapshot,new un(this,a.path),ke);a.onComplete(null,!1,l)}}else{ne("transaction failed: Data returned ",c,a.path),a.status=cn.RUN;var f=this.transactionQueueTree_.subTree(e),h=f.getValue()||[];h.push(a),f.setValue(h);var d=void 0;if("object"===typeof c&&null!==c&&s.contains(c,".priority"))d=s.safeGet(c,".priority"),s.assert(ee(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else d=(this.serverSyncTree_.calcCompleteEventCache(e)||Ue.EMPTY_NODE).getPriority().val();d=d;var p=this.generateServerValues(),v=qe(c,d),g=tt(v,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(e,g,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,y),this.sendReadyTransactions_()}},rn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Ue.EMPTY_NODE},rn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===cn.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},rn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),o=i,a=i.hash(),u=0;u<t.length;u++){var c=t[u];s.assert(c.status===cn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=cn.SENT,c.retryCount++;var l=q.relativePath(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var f=o.val(!0),h=e;this.server_.put(h.toString(),f,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=cn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new un(n,t[a].path),c=new Ge(s,u,ke);o.push(t[a].onComplete.bind(null,null,!0,c))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(a=0;a<o.length;a++)U(o[a])}else{if("datastale"===r)for(a=0;a<t.length;a++)t[a].status===cn.SENT_NEEDS_ABORT?t[a].status=cn.NEEDS_ABORT:t[a].status=cn.RUN;else{I("transaction at "+h.toString()+" failed: "+r);for(a=0;a<t.length;a++)t[a].status=cn.NEEDS_ABORT,t[a].abortReason=r}n.rerunTransactions_(e)}}),a)},rn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},rn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],i=[],o=e.filter((function(e){return e.status===cn.RUN})).map((function(e){return e.currentWriteId})),a=0;a<e.length;a++){var u=e[a],c=q.relativePath(t,u.path),l=!1,f=void 0;if(s.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===cn.NEEDS_ABORT)l=!0,f=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===cn.RUN)if(u.retryCount>=rn.MAX_TRANSACTION_RETRIES_)l=!0,f="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var h=this.getLatestState_(u.path,o);u.currentInputSnapshot=h;var d=e[a].update(h.val());if(void 0!==d){ne("transaction failed: Data returned ",d,u.path);var p=qe(d);"object"===typeof d&&null!=d&&s.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=this.generateServerValues(),g=tt(p,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,g,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,f="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],l&&(e[a].status=cn.COMPLETED,n=e[a].unwatcher,setTimeout(n,Math.floor(0)),e[a].onComplete))if("nodata"===f){var y=new un(this,e[a].path),b=e[a].currentInputSnapshot,w=new Ge(b,y,ke);r.push(e[a].onComplete.bind(null,null,!1,w))}else r.push(e[a].onComplete.bind(null,new Error(f),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)U(r[a]);this.sendReadyTransactions_()}},rn.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},rn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},rn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},rn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==cn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},rn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},rn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)if(t[o].status===cn.SENT_NEEDS_ABORT);else if(t[o].status===cn.SENT)s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=cn.SENT_NEEDS_ABORT,t[o].abortReason="set";else if(s.assert(t[o].status===cn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete){n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(o=0;o<n.length;o++)U(n[o])}};var hn,dn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return hn||(hn=new e),hn},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&C("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=Q(n),o=i.repoInfo,a=void 0;return"undefined"!==typeof r&&(a=Object({NODE_ENV:"production",PUBLIC_URL:""})[v]),a&&(n="http://"+a+"?ns="+o.namespace,o=(i=Q(n)).repoInfo),le("Invalid Firebase Database URL",1,i),i.path.isEmpty()||C("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,e).database},e.prototype.deleteRepo=function(e){var t=s.safeGet(this.repos_,e.app.name);t&&s.safeGet(t,e.repoInfo_.toURLString())===e||C("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=s.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var r=s.safeGet(n,e.toURLString());return r&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new rn(e,this.useRestClient_,t),n[e.toURLString()]=r,r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),pn=function(){function e(e){this.repo_=e,e instanceof rn||C("Don't call new Database() directly - please use firebase.database()."),this.root_=new un(e,q.Empty),this.INTERNAL=new vn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),e instanceof un?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),s.validateArgCount(t,1,1,arguments.length);var n=Q(e);le(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&C(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&C("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),vn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.database.checkDeleted_("delete"),dn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),mn=Object.freeze({__proto__:null,forceLongPolling:function(){Yt.forceDisallow(),Kt.forceAllow()},forceWebSockets:function(){Kt.forceDisallow()},isWebSocketsAvailable:function(){return Yt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),gn=tn;tn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},tn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var yn=Xt,bn=K,wn=Object.freeze({__proto__:null,DataConnection:gn,RealTimeConnection:yn,hijackHash:function(e){var t=tn.prototype.put;return tn.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){tn.prototype.put=t}},ConnectionTarget:bn,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){dn.getInstance().forceRestClient(e)}}),_n=pn.ServerValue;function En(t){var n;n=t.SDK_VERSION,Gt=n;var r=t.INTERNAL.registerService("database",(function(e,t,n){return dn.getInstance().databaseFromApp(e,n)}),{Reference:un,Query:Je,Database:pn,DataSnapshot:Ge,enableLogging:_,INTERNAL:mn,ServerValue:_n,TEST_ACCESS:wn},null,!0);s.isNodeSdk()&&(e.exports=r)}En(o),t.DataSnapshot=Ge,t.Database=pn,t.OnDisconnect=he,t.Query=Je,t.Reference=un,t.ServerValue=_n,t.enableLogging=_,t.registerDatabase=En}).call(this,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n(4))&&"object"===typeof r&&"default"in r?r.default:r,a=n(2),s=n(33),u=n(16),c=n(81),l=o.SDK_VERSION,f=new s.Logger("@firebase/firestore");function h(){return f.logLevel===s.LogLevel.DEBUG?i.DEBUG:f.logLevel===s.LogLevel.SILENT?i.SILENT:i.ERROR}function d(e){switch(e){case i.DEBUG:f.logLevel=s.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=s.LogLevel.ERROR;break;case i.SILENT:f.logLevel=s.LogLevel.SILENT;break;default:f.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function p(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=s.LogLevel.DEBUG){var i=n.map(m);f.debug.apply(f,a.__spreadArrays(["Firestore ("+l+") ["+e+"]: "+t],i))}}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.ERROR){var r=t.map(m);f.error.apply(f,a.__spreadArrays(["Firestore ("+l+"): "+e],r))}}function m(e){if("string"===typeof e)return e;var t=b.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function g(e){var t="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function y(e,t){e||g(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function e(){}return e.setPlatform=function(t){e.platform&&g("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||g("Platform not set"),e.platform},e}();function w(){return b.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(t,e),t}(Error);function S(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new E(_.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){return void 0!==e?e:t}function I(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A(e){for(var t in y(null!=e&&"object"===typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O(e,t){if(0!==t.length)throw new E(_.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+G(t.length,"argument")+".")}function N(e,t,n){if(t.length!==n)throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires "+G(n,"argument")+", but was called with "+G(t.length,"argument")+".")}function x(e,t,n){if(t.length<n)throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires at least "+G(n,"argument")+", but was called with "+G(t.length,"argument")+".")}function R(e,t,n,r){if(t.length<n||t.length>r)throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+G(t.length,"argument")+".")}function P(e,t,n,r){B(e,t,H(n)+" argument",r)}function D(e,t,n,r){void 0!==r&&P(e,t,n,r)}function M(e,t,n,r){B(e,t,n+" option",r)}function j(e,t,n,r){void 0!==r&&M(e,t,n,r)}function L(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+q(r[o]))}(e,t,n,r,i)}function F(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var c=q(r);throw new E(_.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function U(e,t,n,r){if(!t.some((function(e){return e===r})))throw new E(_.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+e+"() for its "+H(n)+" argument. Acceptable values: "+t.join(", "))}function B(e,t,n,r){if(!("object"===t?V(r):"non-empty string"===t?"string"===typeof r&&""!==r:typeof r===t)){var i=q(r);throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function V(e){return"object"===typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function q(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"===typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"===typeof e||"boolean"===typeof e)return""+e;if("object"===typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"===typeof e?"a function":g("Unknown wrong type: "+typeof e)}function W(e,t,n){if(void 0===n)throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+H(t)+" argument, but it was undefined.")}function z(e,t,n){k(t,(function(t,r){if(n.indexOf(t)<0)throw new E(_.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function K(e,t,n,r){var i=q(r);return new E(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+H(n)+" argument to be a "+t+", but it was: "+i)}function H(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function G(e,t){return e+" "+t+(1===e?"":"s")}var Q=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return y(20===t.length,"Invalid auto ID: "+t),t},e}();function Y(e,t){return e<t?-1:e>t?1:0}function $(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function X(e){return e+"\0"}function J(){if("undefined"===typeof Uint8Array)throw new E(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Z(){if(!b.getPlatform().base64Available)throw new E(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ee,te=function(){function e(e){Z(),this._binaryString=e}return e.fromBase64String=function(t){N("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,t),Z();try{var n=b.getPlatform().atob(t);return new e(n)}catch(r){throw new E(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(N("Blob.fromUint8Array",arguments,1),J(),!(t instanceof Uint8Array))throw K("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return N("Blob.toBase64",arguments,0),Z(),b.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){N("Blob.toUint8Array",arguments,0),J();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return Y(this._binaryString,e._binaryString)},e}(),ne=S(te,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),re=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},ie="(default)",oe=function(){function e(e,t){this.projectId=e,this.database=t||ie}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===ie},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return Y(this.projectId,e.projectId)||Y(this.database,e.database)},e}(),ae=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),se=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&g("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,y(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return y(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(se),ce=/^[_a-zA-Z][_a-zA-Z0-9]*$/,le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ce.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new E(_.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(se),fe=function(){function e(t){this.path=t,y(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ue.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ue.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2===0},e.fromSegments=function(t){return new e(new ue(t.slice()))},e.fromPathString=function(t){return new e(ue.fromString(t))},e.EMPTY=new e(new ue([])),e}(),he=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction"}(ee||(ee={}));var de=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new he,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),pe=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw v("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),y(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var i=de.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&g("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){y(e===ee.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==ee.All&&i.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);y(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),ve="\x01",me="\x01",ge="\x10",ye="\x11";function be(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_e(t)),t=we(e.get(n),t);return _e(t)}function we(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=ve+ge;break;case ve:n+=ve+ye;break;default:n+=o}}return n}function _e(e){return e+ve+me}function Ee(e){var t=e.length;if(y(t>=2,"Invalid path "+e),2===t)return y(e.charAt(0)===ve&&e.charAt(1)===me,"Non-empty path "+e+" had length 2"),ue.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(ve,o);switch((a<0||a>n)&&g('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case me:var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case ge:i+=e.substring(o,a),i+="\0";break;case ye:i+=e.substring(o,a+1);break;default:g('Invalid encoded resource path: "'+e+'"')}o=a+2}return new ue(r)}var Se=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Te=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new Se(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new Se(0,0)),e}(),Ce=function(){function e(e,t){this.comparator=e,this.root=t||ke.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ke.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ke.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ie(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ie(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ie(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ie(this.root,e,this.comparator,!0)},e}(),Ie=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ke=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw g("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw g("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Ae=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ke(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();ke.EMPTY=new Ae;var Oe=function(){function e(e){this.comparator=e,this.data=new Ce(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ne(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ne(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ne=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),xe=new Ce(fe.comparator);function Re(){return xe}function Pe(){return Re()}var De=new Ce(fe.comparator);function Me(){return De}var je=new Ce(fe.comparator);function Le(){return je}var Fe=new Oe(fe.comparator);function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Fe,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Be=new Oe(Y);function Ve(){return Be}var qe=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,y(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&y(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&y(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime))}for(var i=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,i,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ue())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations)&&$(this.baseMutations,e.baseMutations)},e}(),We=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){y(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=Le(),a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new e(t,n,r,i,o)},e}(),ze=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&g("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++){r(o[i])}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Ke=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return y(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ye(e).iterate({index:sn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=Qe(n),Xe(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=Qe(t),Xe(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=$e(e),a=Ye(e);return a.add({}).next((function(s){y("number"===typeof s,"Auto-generated key is not a number");var u=new qe(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var d=h[f],p=un.key(i.userId,d.key.path,s);l.push(a.put(c)),l.push(o.put(p,un.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(e,d.key.path.popLast()))}return ze.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Ye(e).get(t).next((function(e){return e?(y(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?ze.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ye(e).iterate({index:sn.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(y(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ye(e).iterate({index:sn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ye(e).loadAll(sn.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=un.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return $e(e).iterate({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ee(u);if(s===n.userId&&t.path.isEqual(l))return Ye(e).get(c).next((function(e){if(!e)throw g("Dangling document-mutation reference found: "+r+" which points to "+c);y(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Oe(Y),i=[];return t.forEach((function(t){var o=un.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=$e(e).iterate({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ee(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),ze.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;y(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),y(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=un.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Oe(Y);return $e(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ee(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ye(e).get(t).next((function(e){if(null===e)throw g("Dangling document-mutation reference found, which points to "+t);y(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),ze.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ge(e.simpleDbTransaction,this.userId,t).next((function(r){return n.removeCachedMutationKeys(t.batchId),ze.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ze.resolve();var r=IDBKeyRange.lowerBound(un.prefixForUser(t.userId)),i=[];return $e(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ee(e[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return He(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return Xe(e).get(this.userId).next((function(e){return e||new an(t.userId,-1,"")}))},e}();function He(e,t,n){var r=un.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return $e(e).iterate({range:o,keysOnly:!0},(function(e,n,r){var o=e[0],s=e[1];e[2];o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ge(e,t,n){var r=e.store(sn.store),i=e.store(un.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){y(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=un.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return ze.waitFor(o).next((function(){return c}))}function Qe(e){return e instanceof Uint8Array?(y("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Ye(e){return Fn.getStore(e,sn.store)}function $e(e){return Fn.getStore(e,un.store)}function Xe(e){return Fn.getStore(e,an.store)}var Je,Ze=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(Je||(Je={}));var et=function(){function e(e,t){this.generatorId=e,y((e&Ze)===e,"Generator ID "+e+" contains more than "+Ze+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<Ze,e},e.prototype.after=function(e){return this.seek(e+(1<<Ze)),this.next()},e.prototype.seek=function(e){y((e&Ze)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(Je.QueryCache,2)},e.forSyncEngine=function(){return new e(Je.SyncEngine)},e}(),tt="SimpleDb",nt=function(){function e(t){this.db=t,12.2===e.getIOSVersion(u.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return y(e.isAvailable(),"IndexedDB not supported in current environment."),p(tt,"Opening database:",t),new ze((function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;i(new e(n))},a.onblocked=function(){o(new E(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;"VersionError"===t.name?o(new E(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(t)},a.onupgradeneeded=function(e){p(tt,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.createOrUpgrade(n,a.transaction,e.oldVersion,tn).next((function(){p(tt,"Database upgrade to version "+tn+" complete")}))}})).toPromise()},e.delete=function(e){return p(tt,"Removing database:",e),at(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE;var t=u.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){var r=it.open(this.db,e,t),i=n(r).catch((function(e){return r.abort(e),ze.reject(e)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},e.prototype.close=function(){this.db.close()},e}(),rt=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return at(this.dbCursor.delete())},e}(),it=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new he,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=ut(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(p(tt,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return y(!!t,"Object store not part of transaction: "+e),new ot(t)},e}(),ot=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(p(tt,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(p(tt,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),at(n)},e.prototype.add=function(e){return p(tt,"ADD",this.store.name,e,e),at(this.store.add(e))},e.prototype.get=function(e){var t=this;return at(this.store.get(e)).next((function(n){return void 0===n&&(n=null),p(tt,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return p(tt,"DELETE",this.store.name,e),at(this.store.delete(e))},e.prototype.count=function(){return p(tt,"COUNT",this.store.name),at(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){p(tt,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new ze((function(n,r){t.onerror=function(e){var t=ut(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new ze((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new rt(i),a=t(i.primaryKey,i.value,o);if(a instanceof ze){var s=a.catch((function(e){return o.done(),ze.reject(e)}));n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return ze.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"===typeof e?n=e:(y(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function at(e){return new ze((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ut(e.target.error);n(t)}}))}var st=!1;function ut(e){var t=nt.getIOSVersion(u.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return st||(st=!0,setTimeout((function(){throw r}),0)),r}}return e}var ct=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=et.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return Te.fromTimestamp(new Se(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return ht(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return lt(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return y(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return lt(e).iterate((function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))})).next((function(){return ze.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){var n=this;return lt(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},e.prototype.retrieveMetadata=function(e){return ft(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Fn.getStore(n,vn.store)).put(vn.key,t);var n},e.prototype.saveQueryData=function(e,t){return lt(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return lt(e).iterate({range:i,index:dn.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=dt(e);return t.forEach((function(t){var a=be(t.path);i.push(o.put(new pn(n,a))),i.push(r.referenceDelegate.addReference(e,t))})),ze.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=dt(e);return ze.forEach(t,(function(t){var o=be(t.path);return ze.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=dt(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dt(e),i=Ue();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=Ee(e[1]),o=new fe(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=be(t.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return dt(e).iterate({index:pn.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return lt(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function lt(e){return Fn.getStore(e,dn.store)}function ft(e){return nt.getStore(e,vn.store).get(vn.key).next((function(e){return y(null!==e,"Missing metadata row."),e}))}function ht(e){return ft(e).next((function(e){return e.highestListenSequenceNumber}))}function dt(e){return Fn.getStore(e,pn.store)}var pt,vt=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Oe(le.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),mt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),gt=function(e,t){this.version=e,this.transformResults=t};!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(pt||(pt={}));var yt,bt,wt=function(){function e(e,t){this.updateTime=e,this.exists=t,y(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Wt&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Wt:(y(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!==t&&void 0!==t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),_t=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&y(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Wt?e.version:Te.MIN},e}(),Et=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=pt.Set,i}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),y(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Wt(this.key,n,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=_t.getPostMutationVersion(e);return new Wt(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(_t),St=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=pt.Patch,o}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),y(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Kt(this.key,t.version);var n=this.patchDocument(e);return new Wt(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=_t.getPostMutationVersion(e),i=this.patchDocument(e);return new Wt(this.key,r,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Wt?e.data():Bt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},t}(_t),Tt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=pt.Transform,r.precondition=wt.exists(!0),r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),y(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Kt(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new Wt(this.key,i,{hasCommittedMutations:!0},o)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new Wt(this.key,r.version,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Wt?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?Bt.EMPTY.set(i.field,a):t.set(i.field,a))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&$(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){y(e instanceof Wt,"Unknown MaybeDocument type "+e);var t=e;return y(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];y(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Wt&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof Wt&&(u=t.field(a.field)),null===u&&n instanceof Wt&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){y(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(_t),Ct=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=pt.Delete,r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),y(null==t.transformResults,"Transform results received by DeleteMutation."),new zt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&y(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new zt(this.key,Te.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(_t);!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(yt||(yt={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(bt||(bt={}));var It=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(bt.Estimate,n);case"previous":return new e(bt.Previous,n);case"none":case void 0:return new e(bt.Default,n);default:return g("fromSnapshotOptions() called with invalid options.")}},e}(),kt=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return y(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),Y(this.typeOrder,e.typeOrder)},e}(),At=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=yt.NullValue,t.internalValue=null,t}return a.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(kt),Ot=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.BooleanValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Y(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(kt),Nt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.NumberValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(kt);function xt(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&xt(this.internalValue,e.internalValue)},t}(Nt),Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&xt(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Nt),Dt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.StringValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Y(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(kt),Mt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.TimestampValue,n}return a.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof jt?-1:this.defaultCompareTo(e)},t}(kt),jt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=yt.TimestampValue,r}return a.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===bt.Estimate?new Mt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===bt.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Mt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(kt),Lt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.BlobValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(kt),Ft=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=yt.RefValue,r}return a.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:fe.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(kt),Ut=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.GeoPointValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(kt),Bt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.ObjectValue,n}return a.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=Y(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return Y(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(y(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(y(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){y(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t?n.internalValue.get(e):null})),n},t.prototype.fieldMask=function(){var e=new Oe(le.comparator);return this.internalValue.forEach((function(n,r){var i=new le([n]);if(r instanceof t){var o=r.fieldMask().fields;o.isEmpty()?e=e.add(i):o.forEach((function(t){e=e.add(i.child(t))}))}else e=e.add(i)})),vt.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Ce(Y)),t}(kt),Vt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=yt.ArrayValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return Y(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(kt),qt=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return fe.comparator(e.key,t.key)},e}(),Wt=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n)||this;return s.objectValue=i,s.proto=o,s.converter=a,y(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!r.hasLocalMutations,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return a.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Bt.EMPTY;k(this.proto.fields||{},(function(n,r){t=t.set(new le([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){y(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):g("Trying to compare documents on fields that don't exist")},t}(qt),zt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(qt),Kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(qt),Ht=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return A(this.inner)},e}(),Gt=function(){function e(){this.changes=new Ht((function(e){return e.toString()})),this.changesApplied=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return y(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){y(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},e.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ze.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){y(!this.changesApplied,"Changes have already been applied.")},e}(),Qt=function(){function e(e,t){this.serializer=e,this.indexManager=t,this.lastProcessedReadTime=Te.MIN}return e.prototype.start=function(e){return this.synchronizeLastProcessedReadTime(e)},e.prototype.addEntry=function(e,t,n){var r=this;return $t(e).put(Xt(t),n).next((function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())}))},e.prototype.removeEntry=function(e,t){var n=$t(e),r=Xt(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return $t(e).get(Xt(t)).next((function(e){return n.maybeDecodeDocument(e)}))},e.prototype.getSizedEntry=function(e,t){var n=this;return $t(e).get(Xt(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:Jt(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Pe();return this.forEachDbEntry(e,t,(function(e,t){var i=n.maybeDecodeDocument(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=Pe(),i=new Ce(fe.comparator);return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);o?(r=r.insert(e,o),i=i.insert(e,Jt(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return ze.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return $t(e).iterate({range:r},(function(e,t,r){for(var a=fe.fromSegments(e);o&&fe.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;y(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Me(),o=t.path.length+1,a={};if(n.isEqual(Te.MIN)){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=fn.collectionReadTimeIndex}return $t(e).iterate(a,(function(e,n,a){if(e.length===o){var s=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(s.key.path)?s instanceof Wt&&t.matches(s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.getNewDocumentChanges=function(e){var t=this,n=Re(),r=this.serializer.toDbTimestampKey(this.lastProcessedReadTime),i=$t(e),o=IDBKeyRange.lowerBound(r,!0);return i.iterate({index:fn.readTimeIndex,range:o},(function(e,r){var i=t.serializer.fromDbRemoteDocument(r);n=n.insert(i.key,i),t.lastProcessedReadTime=t.serializer.fromDbTimestampKey(r.readTime)})).next((function(){return n}))},e.prototype.synchronizeLastProcessedReadTime=function(e){var t=this,n=nt.getStore(e,fn.store);return this.lastProcessedReadTime=Te.forDeletedDoc(),n.iterate({index:fn.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t.lastProcessedReadTime=t.serializer.fromDbTimestampKey(n.readTime)),r.done()}))},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Yt(e).get(hn.key).next((function(e){return y(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return Yt(e).put(hn.key,t)},e.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof zt&&t.version.isEqual(Te.forDeletedDoc())?null:t}return null},e.RemoteDocumentChangeBuffer=function(e){function t(t,n){var r=e.call(this)||this;return r.documentCache=t,r.trackRemovals=n,r.documentSizes=new Ht((function(e){return e.toString()})),r}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0;return this.changes.forEach((function(i,o){var a=t.documentSizes.get(i);if(y(void 0!==a,"Cannot modify a document that wasn't read (for "+i+")"),o){y(!t.readTime.isEqual(Te.MIN),"Cannot add a document with a read time of zero");var s=t.documentCache.serializer.toDbRemoteDocument(o,t.readTime),u=Jt(s);r+=u-a,n.push(t.documentCache.addEntry(e,i,s))}else if(r-=a,t.trackRemovals){var c=t.documentCache.serializer.toDbRemoteDocument(new zt(i,Te.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,i,c))}else n.push(t.documentCache.removeEntry(e,i))})),n.push(this.documentCache.updateMetadata(e,r)),ze.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(Gt),e}();function Yt(e){return Fn.getStore(e,hn.store)}function $t(e){return Fn.getStore(e,fn.store)}function Xt(e){return e.path.toArray()}function Jt(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var Zt=function(){function e(){this.collectionParentIndex=new en}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),ze.resolve()},e.prototype.getCollectionParents=function(e,t){return ze.resolve(this.collectionParentIndex.getEntries(t))},e}(),en=function(){function e(){this.index={}}return e.prototype.add=function(e){y(e.length%2===1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Oe(ue.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.getEntries=function(e){return(this.index[e]||new Oe(ue.comparator)).toArray()},e}(),tn=9,nn=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;y(n<r&&n>=0&&r<=tn,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new it(t);n<1&&r>=1&&(function(e){e.createObjectStore(on.store)}(e),function(e){e.createObjectStore(an.store,{keyPath:an.keyPath}),e.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(un.store)}(e),gn(e),function(e){e.createObjectStore(fn.store)}(e));var a=ze.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore(pn.store),e.deleteObjectStore(dn.store),e.deleteObjectStore(vn.store)}(e),gn(e)),a=a.next((function(){return function(e){var t=e.store(vn.store),n=new vn(0,0,Te.MIN.toTimestamp(),0);return t.put(vn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(sn.store).loadAll().next((function(n){e.deleteObjectStore(sn.store),e.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0});var r=t.store(sn.store),i=n.map((function(e){return r.put(e)}));return ze.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(yn.store,{keyPath:yn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(hn.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(fn.store);t.createIndex(fn.readTimeIndex,fn.readTimeIndexPath,{unique:!1}),t.createIndex(fn.collectionReadTimeIndex,fn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(fn.store).iterate((function(e,n){t+=Jt(n)})).next((function(){var n=new hn(t);return e.store(hn.store).put(hn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(an.store),r=e.store(sn.store);return n.loadAll().next((function(n){return ze.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(sn.userMutationsIndex,i).next((function(r){return ze.forEach(r,(function(r){y(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return Ge(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(pn.store),n=e.store(fn.store);return ht(e).next((function(e){var r=[];return n.iterate((function(n,i){var o=new ue(n),a=function(e){return[0,be(e)]}(o);r.push(t.get(a).next((function(n){return n?ze.resolve():function(n){return t.put(new pn(0,be(n),e))}(o)})))})).next((function(){return ze.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(mn.store,{keyPath:mn.keyPath});var n=t.store(mn.store),r=new en,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:be(i)})}};return t.store(fn.store).iterate({keysOnly:!0},(function(e,t){var n=new ue(e);return i(n.popLast())})).next((function(){return t.store(un.store).iterate({keysOnly:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ee(n));return i(r.popLast())}))}))},e}();var rn=function(e,t){this.seconds=e,this.nanoseconds=t},on=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var an=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),sn=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var un=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,be(t)]},e.key=function(e,t,n){return[e,be(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var cn=function(e,t){this.path=e,this.readTime=t},ln=function(e,t){this.path=e,this.version=t},fn=function(){function e(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return e.store="remoteDocuments",e.readTimeIndex="readTimeIndex",e.readTimeIndexPath="readTime",e.collectionReadTimeIndex="collectionReadTimeIndex",e.collectionReadTimeIndexPath=["parentPath","readTime"],e}(),hn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var dn=function(){function e(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),pn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,y(0===e===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),vn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),mn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function gn(e){e.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.documentTargetsIndex,pn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(dn.store,{keyPath:dn.keyPath}).createIndex(dn.queryTargetsIndexName,dn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(vn.store)}var yn=function(){function e(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}return e.store="clientMetadata",e.keyPath="clientId",e}();var bn,wn=[an.store,sn.store,un.store,fn.store,dn.store,on.store,vn.store,pn.store],_n=a.__spreadArrays(wn,[yn.store]),En=a.__spreadArrays(_n,[hn.store]),Sn=a.__spreadArrays(En,[mn.store]),Tn=function(){function e(){this.collectionParentsCache=new en}return e.prototype.addToCollectionParentIndex=function(e,t){if(y(t.length%2===1,"Expected a collection path."),this.collectionParentsCache.add(t)){y(t.length>=1,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Cn(e).put({collectionId:n,parent:be(r)})}return ze.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[X(t),""],!1,!0);return Cn(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ee(o.parent))}return n}))},e}();function Cn(e){return Fn.getStore(e,mn.store)}!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(bn||(bn={}));var In=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Te.MIN),void 0===o&&(o=Te.MIN),void 0===a&&(a=w()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.query,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.query,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.query,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),kn=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=fe.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new zt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=fe.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new Kt(t,n)}return g("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof Wt){var i=e.proto?e.proto:this.remoteSerializer.toDocument(e),o=e.hasCommittedMutations;return new fn(null,null,i,o,n,r)}if(e instanceof zt){var a=e.key.path.toArray(),s=this.toDbTimestamp(e.version);o=e.hasCommittedMutations;return new fn(null,new cn(a,s),null,o,n,r)}if(e instanceof Kt){a=e.key.path.toArray();var u=this.toDbTimestamp(e.version);return new fn(new ln(a,u),null,null,!0,n,r)}return g("Unexpected MaybeDocument")},e.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},e.prototype.fromDbTimestampKey=function(e){var t=new Se(e[0],e[1]);return Te.fromTimestamp(t)},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new rn(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new Se(e.seconds,e.nanoseconds);return Te.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new sn(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=Se.fromMillis(e.localWriteTimeMs);return new qe(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(be(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Ue(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new fe(Ee(i)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):Te.MIN,i=e.resumeToken;return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new In(t,e.targetId,bn.Listen,e.lastListenSequenceNumber,n,r,i)},e.prototype.toDbTarget=function(e){y(bn.Listen===e.purpose,"Only queries with purpose "+bn.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),i=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(y("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new dn(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,i,t)},e}();function An(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Y(n,i);return 0===a?Y(r,o):a}var On=function(){function e(e){this.maxElements=e,this.buffer=new Oe(An),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();An(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Nn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xn=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),Rn=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){y(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==xn.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;y(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ee.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(Un)}))},e}(),Pn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return ze.resolve(ae.INVALID);var r=new On(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===xn.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(Nn)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Nn):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,o,a,s,u,c,l=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){(c=Date.now(),h()<=i.DEBUG)&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms");return ze.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),Dn="IndexedDbPersistence",Mn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Ln=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return a.__extends(t,e),t}((function(){})),Fn=function(){function e(t,n,r,i,o,a,s,u){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new qn(this,o),this.dbName=n+e.MAIN_DATABASE,this.serializer=new kn(s),this.document=i.document,this.queryCache=new ct(this.referenceDelegate,this.serializer),this.indexManager=new Tn,this.remoteDocumentCache=new Qt(this.serializer,this.indexManager),!i.window||!i.window.localStorage)throw new E(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Ln)return nt.getStore(e.simpleDbTransaction,t);throw g("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:if(!e.isAvailable())throw new E(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return y(!this.started,"IndexedDbPersistence double-started!"),y(null!==this.window,"Expected 'window' to be defined"),nt.openOrCreate(this.dbName,tn,new nn(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()})).then((function(){return e.simpleDb.runTransaction("readonly",[vn.store],(function(t){return ht(t).next((function(t){e.listenSequence=new ae(t,e.sequenceNumberSyncer)}))}))})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Sn,(function(t){return e.remoteDocumentCache.start(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Sn,(function(t){return Vn(t).put(new yn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return Bn(e).get(on.key).next((function(e){return ze.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Vn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var o=e.getStore(i,yn.store);return o.loadAll().next((function(e){return t=r.filterActiveClients(e,18e5),n=e.filter((function(e){return-1===t.indexOf(e)})),ze.forEach(n,(function(e){return o.delete(e.clientId)}))}))}))]);case 1:i.sent(),n.forEach((function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))})),i.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ee.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Bn(e).get(on.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,jn);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&p(Dn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[on.store,yn.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[yn.store],(function(t){return Vn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,nt.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return y(this.started,"Cannot initialize MutationQueue before persistence is started."),Ke.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return y(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return y(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return y(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return p(Dn,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Sn,(function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next((function(t){if(!t)throw v("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new E(_.FAILED_PRECONDITION,Mn);return n(new Ln(i,r.listenSequence.next()))})).next((function(e){return r.acquireOrExtendPrimaryLease(i).next((function(){return e}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new Ln(i,r.listenSequence.next()))}))}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Bn(e).get(on.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,jn)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new on(this.clientId,this.allowTabSynchronization,Date.now());return Bn(e).put(on.key,t)},e.isAvailable=function(){return nt.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Bn(e);return n.get(on.key).next((function(e){return t.isLocalClient(e)?(p(Dn,"Releasing primary lease."),n.delete(on.key)):ze.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(v("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(y(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return p(Dn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return v(Dn,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){v("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Un(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){if(!function(e){return e.code===_.FAILED_PRECONDITION&&e.message===Mn}(e))throw e;return p(Dn,"Unexpectedly lost primary lease"),[2]}))}))}function Bn(e){return e.store(on.store)}function Vn(e){return e.store(yn.store)}var qn=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Pn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Wn(e,t)},e.prototype.removeReference=function(e,t){return Wn(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Wn(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?ze.resolve(!0):function(e,t){var n=!1;return Xe(e).iterateSerial((function(r){return He(e,r,t).next((function(e){return e&&(n=!0),ze.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),dt(e).delete([0,be(a.path)])}))}));i.push(u)}})).next((function(){return ze.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Wn(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=dt(e),i=ae.INVALID;return r.iterate({index:pn.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==ae.INVALID&&t(new fe(Ee(n)),i),i=s,n=a):i=ae.INVALID})).next((function(){i!==ae.INVALID&&t(new fe(Ee(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Wn(e,t){return dt(e).put(function(e,t){return new pn(0,be(e.path),t)}(t,e.currentSequenceNumber))}var zn=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++){e=i[r].applyToLocalView(t,e)}return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Pe();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++){t=o[i].applyToLocalView(e,t)}r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=Re();return i.forEach((function(e,t){t||(t=new zt(e,Te.forDeletedDoc())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new fe(t)).next((function(e){var t=Me();return e instanceof Wt&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;y(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=t.collectionGroup,o=Me();return this.indexManager.getCollectionParents(e,i).next((function(a){return ze.forEach(a,(function(a){var s=t.asCollectionQueryAtPath(a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.addMissingBaseDocuments(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);r=f instanceof Wt?r.insert(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Ue(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof St&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Wt&&(c=c.insert(e,t))})),c}))},e}(),Kn=function(){function e(){this.refsByKey=new Oe(Hn.compareByKey),this.refsByTarget=new Oe(Hn.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Hn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new Hn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=fe.EMPTY,r=new Hn(n,e),i=new Hn(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),o.push(e.key)})),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=fe.EMPTY,n=new Hn(t,e),r=new Hn(t,e+1),i=Ue();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Hn(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Hn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return fe.comparator(e.key,t.key)||Y(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return Y(e.targetOrBatchId,t.targetOrBatchId)||fe.comparator(e.key,t.key)},e}(),Gn=function(){function e(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new Kn,this.queryDataByTarget={},this.targetIdByQuery=new Ht((function(e){return e.canonicalId()})),y(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new zn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new zn(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.queryEngine.setLocalDocumentsView(t.localDocuments),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var i=[],o=[],a=Ue(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){c=p[d];o.push(c.batchId);for(var v=0,m=c.mutations;v<m.length;v++){h=m[v];a=a.add(h.key)}}return t.localDocuments.getDocuments(n,a).next((function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}}))}))}))},e.prototype.localWrite=function(e){var t=this,n=Se.now(),r=e.reduce((function(e,t){return e.add(t.key)}),Ue());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return t.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new St(u.key,c,c.fieldMask(),wt.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next((function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}}))}))}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):ze.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return y(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer({trackRemovals:!0}),i=t.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var a=[];I(t.targetChanges,(function(t,r){var s=n.queryDataByTarget[t];if(s){a.push(n.queryCache.removeMatchingKeys(o,r.removedDocuments,t).next((function(){return n.queryCache.addMatchingKeys(o,r.addedDocuments,t)})));var u=r.resumeToken;if(u.length>0){var c=s.withResumeToken(u,i).withSequenceNumber(o.currentSequenceNumber);n.queryDataByTarget[t]=c,e.shouldPersistQueryData(s,c,r)&&a.push(n.queryCache.updateQueryData(o,c))}}}));var s=Re(),u=Ue();if(t.documentUpdates.forEach((function(e,t){u=u.add(e)})),a.push(r.getEntries(o,u).next((function(e){t.documentUpdates.forEach((function(u,c){var l=e.get(u);c instanceof zt&&c.version.isEqual(Te.MIN)?(r.removeEntry(u,i),s=s.insert(u,c)):null==l||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(Te.MIN.isEqual(i)&&v("LocalStore","Cannot add a document when the remote version is zero"),r.addEntry(c,i),s=s.insert(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}))}))),!i.isEqual(Te.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(o).next((function(e){return y(i.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+e),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,i)}));a.push(c)}return ze.waitFor(a).next((function(){return r.apply(o)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(o,s)}))}))},e.shouldPersistQueryData=function(e,t,n){return y(t.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return ze.forEach(e,(function(e){var r=e.targetId;if(t.localViewReferences.addReferences(e.addedKeys,r),t.localViewReferences.removeReferences(e.removedKeys,r),!e.fromCache){var i=t.queryDataByTarget[r];y(void 0!==i,"Can't set limbo-free snapshot version for unknown target: "+r);var o=i.snapshotVersion,a=i.withLastLimboFreeSnapshotVersion(o);t.queryDataByTarget[r]=a}return ze.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(i){return i?(r=i,ze.resolve()):t.queryCache.allocateTargetId(n).next((function(i){return r=new In(e,i,bn.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)}))})).next((function(){return y(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,t.targetIdByQuery.set(e,r.targetId),r}))}))},e.prototype.getQueryData=function(e,t){var n=this.targetIdByQuery.get(t);return void 0!==n?ze.resolve(this.queryDataByTarget[n]):this.queryCache.getQueryData(e,t)},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,(function(r){var i=n.targetIdByQuery.get(e);y(void 0!==i,"Tried to release nonexistent query: "+e);var o=n.queryDataByTarget[i],a=n.localViewReferences.removeReferencesForId(i);return delete n.queryDataByTarget[i],n.targetIdByQuery.delete(e),t?ze.resolve():ze.forEach(a,(function(e){return n.persistence.referenceDelegate.removeReference(r,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(r,o)}))}))},e.prototype.executeQuery=function(e,t){var n=this,r=Te.MIN,i=Ue();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.getQueryData(o,e).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.queryCache.getMatchingKeysForTargetId(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,e,t?r:Te.MIN,t?i:Ue())})).next((function(e){return{documents:e,remoteKeys:i}}))}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=ze.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var o=e,a=t.docVersions.get(r);y(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o,t.commitVersion):y(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.queryDataByTarget)}))},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.remoteDocuments.getNewDocumentChanges(t)}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),Qn=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new Oe(Hn.compareByKey)}return e.prototype.checkEmpty=function(e){return ze.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");y(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return y(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,ze.resolve()},e.prototype.getLastStreamToken=function(e){return ze.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,ze.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){y(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new qe(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Hn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return ze.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return ze.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return y(null!=n,"Failed to find local mutation batch."),ze.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return ze.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ze.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return ze.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Hn(t,0),i=new Hn(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){y(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);y(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),ze.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Oe(Y);return t.forEach((function(e){var t=new Hn(e,0),i=new Hn(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){y(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),ze.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){y(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;fe.isDocumentKey(i)||(i=i.child(""));var o=new Hn(new fe(i),0),a=new Oe(Y);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),o),ze.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;y(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return ze.forEach(t.mutations,(function(i){var o=new Hn(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new Hn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return ze.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),ze.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return y(n.batchId===e,"If found batch must match"),n},e}(),Yn=function(){function e(e){this.persistence=e,this.queries=new Ht((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=Te.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Kn,this.targetCount=0,this.targetIdGenerator=et.forQueryCache()}return e.prototype.getTargetCount=function(e){return ze.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),ze.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return ze.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return ze.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,ze.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),ze.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return y(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,ze.resolve()},e.prototype.updateQueryData=function(e,t){return y(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),ze.resolve()},e.prototype.removeQueryData=function(e,t){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,ze.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ze.waitFor(o).next((function(){return i}))},e.prototype.getQueryCount=function(e){return ze.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return ze.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return g("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),ze.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),ze.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),ze.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return ze.resolve(n)},e.prototype.containsKey=function(e,t){return ze.resolve(this.references.containsKey(t))},e}();var $n=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Ce(fe.comparator),this.newDocumentChanges=Ue(),this.size=0}return e.prototype.addEntry=function(e,t,n){y(!n.isEqual(Te.MIN),"Cannot add a document with a read time of zero");var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.newDocumentChanges=this.newDocumentChanges.add(r),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.newDocumentChanges=this.newDocumentChanges.add(e),this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return ze.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Pe();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),ze.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){y(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Me(),i=new fe(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof Wt&&t.matches(c)&&(r=r.insert(c.key,c))}return ze.resolve(r)},e.prototype.forEachDocumentKey=function(e,t){return ze.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e){var t=this,n=Re();return this.newDocumentChanges.forEach((function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new zt(e,Te.forDeletedDoc());n=n.insert(e,i)})),this.newDocumentChanges=Ue(),ze.resolve(n)},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return ze.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i?n.push(t.documentCache.addEntry(e,i,t.readTime)):t.documentCache.removeEntry(r)})),ze.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(Gt),e}(),Xn=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ae(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Yn(this);this.indexManager=new Zt,this.remoteDocumentCache=new $n(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n,r){return new e(t,(function(e){return new er(e,new kn(n),r)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new Zn(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Qn(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;p("MemoryPersistence","Starting transaction:",e);var i=new Jn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return ze.or(function(e){var t=[];return k(e,(function(e,n){return t.push(n)})),t}(this.mutationQueues).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Jn=function(e){this.currentSequenceNumber=e},Zn=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw g("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),ze.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),ze.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),ze.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeQueryData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return ze.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return ze.resolve(n.inMemoryPins.containsKey(t))}])},e}(),er=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Ht((function(e){return be(e.path)})),this.garbageCollector=new Pn(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return ze.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return ze.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?ze.resolve():t(i)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,(function(i){return n.isPinned(e,i,t).next((function(e){e||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(e)})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e,e.version);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw g("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return ze.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return ze.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return ze.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),tr=function(){function e(){}return e.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){return y(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(e,t,Te.MIN)},e}(),nr=Number,rr=nr.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ir=nr.MAX_SAFE_INTEGER||Math.pow(2,53)-1,or=nr.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function ar(e){return null===e||void 0===e}function sr(e){return or(e)&&e<=ir&&e>=rr}var ur,cr=1e3,lr=1.5,fr=6e4,hr=function(){function e(e,t,n,r,i){void 0===n&&(n=cr),void 0===r&&(r=lr),void 0===i&&(i=fr),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(ur||(ur={}));var dr,pr,vr=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ur.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new hr(e,t)}return e.prototype.isStarted=function(){return this.state===ur.Starting||this.state===ur.Open||this.state===ur.Backoff},e.prototype.isOpen=function(){return this.state===ur.Open},e.prototype.start=function(){this.state!==ur.Error?(y(this.state===ur.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(ur.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ur.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.isOpen()?[2,this.close(ur.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(n){switch(n.label){case 0:return y(this.isStarted(),"Only started streams should be closed."),y(e===ur.Error||ar(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==ur.Error?this.backoff.reset():t&&t.code===_.RESOURCE_EXHAUSTED?(v(t.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;y(this.state===ur.Initial,"Must be in initial state to auth"),this.state=ur.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new E(_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;y(this.state===ur.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return y(t.state===ur.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=ur.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;y(this.state===ur.Error,"Should only perform backoff when in Error state"),this.state=ur.Backoff,this.backoff.backoffAndRun((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){return y(this.state===ur.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ur.Initial,this.start(),y(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return y(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+e),this.stream=null,this.close(ur.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),mr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,ee.ListenStreamConnectionBackoff,ee.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(vr),gr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,ee.WriteStreamConnectionBackoff,ee.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a.lastStreamToken=w(),a}return a.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(y(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return y(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(vr),yr=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new gr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new mr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Re();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);y(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),br=function(){function e(e){this.datastore=e,this.readVersions=Le(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof zt||e instanceof Wt?n.recordVersion(e):g("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new Ct(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new E(_.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof Wt)t=e.version;else{if(!(e instanceof zt))throw g("Document in a transaction was a "+e.constructor.name);t=Te.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new E(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?wt.updateTime(t):wt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(Te.forDeletedDoc()))throw new E(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wt.updateTime(t)}return wt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){y(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(dr||(dr={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(pr||(pr={}));var wr,_r=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=dr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(dr.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ee.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,y(e.state===dr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(dr.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===dr.Online?(this.setAndBroadcast(dr.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(dr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===dr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(v(t),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();function Er(e){switch(e){case _.OK:return g("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return g("Unknown status code: "+e)}}function Sr(e){if(void 0===e)return v("GRPC error has no .code"),_.UNKNOWN;switch(e){case wr.OK:return _.OK;case wr.CANCELLED:return _.CANCELLED;case wr.UNKNOWN:return _.UNKNOWN;case wr.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case wr.INTERNAL:return _.INTERNAL;case wr.UNAVAILABLE:return _.UNAVAILABLE;case wr.UNAUTHENTICATED:return _.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case wr.NOT_FOUND:return _.NOT_FOUND;case wr.ALREADY_EXISTS:return _.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return _.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case wr.ABORTED:return _.ABORTED;case wr.OUT_OF_RANGE:return _.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return _.UNIMPLEMENTED;case wr.DATA_LOSS:return _.DATA_LOSS;default:return g("Unknown status code: "+e)}}function Tr(e){if(void 0===e)return wr.OK;switch(e){case _.OK:return wr.OK;case _.CANCELLED:return wr.CANCELLED;case _.UNKNOWN:return wr.UNKNOWN;case _.DEADLINE_EXCEEDED:return wr.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return wr.RESOURCE_EXHAUSTED;case _.INTERNAL:return wr.INTERNAL;case _.UNAVAILABLE:return wr.UNAVAILABLE;case _.UNAUTHENTICATED:return wr.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return wr.INVALID_ARGUMENT;case _.NOT_FOUND:return wr.NOT_FOUND;case _.ALREADY_EXISTS:return wr.ALREADY_EXISTS;case _.PERMISSION_DENIED:return wr.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return wr.FAILED_PRECONDITION;case _.ABORTED:return wr.ABORTED;case _.OUT_OF_RANGE:return wr.OUT_OF_RANGE;case _.UNIMPLEMENTED:return wr.UNIMPLEMENTED;case _.DATA_LOSS:return wr.DATA_LOSS;default:return g("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(wr||(wr={}));var Cr,Ir,kr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||fe.comparator(t.key,n.key)}:function(e,t){return fe.comparator(e.key,t.key)},this.keyedMap=Me(),this.sortedSet=new Ce(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Cr||(Cr={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Ir||(Ir={}));var Ar,Or=function(){function e(){this.changeMap=new Ce(fe.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Cr.Added&&n.type===Cr.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Cr.Metadata&&n.type!==Cr.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Cr.Modified&&n.type===Cr.Modified?this.changeMap=this.changeMap.insert(t,{type:Cr.Modified,doc:e.doc}):e.type===Cr.Modified&&n.type===Cr.Added?this.changeMap=this.changeMap.insert(t,{type:Cr.Added,doc:e.doc}):e.type===Cr.Removed&&n.type===Cr.Added?this.changeMap=this.changeMap.remove(t):e.type===Cr.Removed&&n.type===Cr.Modified?this.changeMap=this.changeMap.insert(t,{type:Cr.Removed,doc:n.doc}):e.type===Cr.Added&&n.type===Cr.Removed?this.changeMap=this.changeMap.insert(t,{type:Cr.Modified,doc:e.doc}):g("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Nr=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:Cr.Added,doc:e})})),new e(t,n,kr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(this.fromCache!==e.fromCache||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!this.query.isEqual(e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),xr=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=Rr.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(Te.MIN,i,Ve(),Re(),Ue())},e}(),Rr=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(w(),n,Ue(),Ue(),Ue())},e}(),Pr=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Dr=function(e,t){this.targetId=e,this.existenceFilter=t};!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Ar||(Ar={}));var Mr=function(e,t,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},jr=function(){function e(){this.pendingResponses=0,this.documentChanges=Ur(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Ue(),t=Ue(),n=Ue();return this.documentChanges.forEach((function(r,i){switch(i){case Cr.Added:e=e.add(r);break;case Cr.Modified:t=t.add(r);break;case Cr.Removed:n=n.add(r);break;default:g("Encountered invalid change type: "+i)}})),new Rr(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ur()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Lr=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Re(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new Oe(Y)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Wt?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof zt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Ar.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Ar.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Ar.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),y(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Ar.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Ar.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:g("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):I(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new fe(i.path);this.removeDocumentFromTarget(t,o,new zt(o,Te.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};I(this.targetStates,(function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new fe(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new zt(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Ue();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===bn.LimboResolution||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new xr(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Re(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new Oe(Y),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Cr.Modified:Cr.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Cr.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new jr),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Oe(Y),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;y(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new jr,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Fr(){return new Ce(fe.comparator)}function Ur(){return new Ce(fe.comparator)}var Br="RemoteStore",Vr=function(){function e(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return a.__awaiter(o,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(p(Br,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new _r(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(dr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(dr.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(p(Br,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return p(Br,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(dr.Unknown),[2]}}))}))},e.prototype.listen=function(e){y(!T(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){y(T(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(dr.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Lr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(t){return I(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return void 0===e&&y(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(dr.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(dr.Online),e instanceof Mr&&e.state===Ar.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Pr?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Dr?this.watchChangeAggregator.handleExistenceFilter(e):(y(e instanceof Mr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(Te.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;y(!e.isEqual(Te.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return I(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(w(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new In(n.query,e,bn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;y(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){return T(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t;return a.__generator(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(Un)},e.prototype.onMutationResult=function(e,t){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=We.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t=this;return a.__generator(this,(function(n){return void 0===e&&y(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]):[2]}))}))},e.prototype.handleHandshakeError=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return Er(e.code)?(p(Br,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Un)]):[2]}))}))},e.prototype.handleWriteError=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){return Er(i=e.code)&&i!==_.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},e.prototype.createTransaction=function(){return new br(this.datastore)},e.prototype.restartNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(dr.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(p(Br,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(dr.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),qr=function(){function e(e,t){if(N("GeoPoint",arguments,2),P("GeoPoint","number",1,e),P("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)},e}(),Wr=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[ti]:this.memoizedOrderBy=[new ei(e),ti];else{y(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Jr.ASCENDING;this.memoizedOrderBy.push(a===Jr.ASCENDING?ti:ni)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){y(null==this.getInequalityFilterField()||!(t instanceof Hr)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}ar(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),ar(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!ar(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Hr&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Hr&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return fe.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):fe.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){y(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),zr=function(){},Kr=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return g("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),Hr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return a.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===Kr.IN?(y(r instanceof Vt,"Comparing on key with IN, but filter value not an ArrayValue"),y(r.internalValue.every((function(e){return e instanceof Ft})),"Comparing on key with IN, but an array value was not a RefValue"),new Qr(e,r)):(y(r instanceof Ft,"Comparing on key, but filter value not a RefValue"),y(n!==Kr.ARRAY_CONTAINS&&n!==Kr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Gr(e,n,r));if(r.isEqual(At.INSTANCE)){if(n!==Kr.EQUAL)throw new E(_.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Pt.NAN)){if(n!==Kr.EQUAL)throw new E(_.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===Kr.ARRAY_CONTAINS?new Yr(e,r):n===Kr.IN?(y(r instanceof Vt,"IN filter has invalid value: "+r.toString()),new $r(e,r)):n===Kr.ARRAY_CONTAINS_ANY?(y(r instanceof Vt,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Xr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case Kr.LESS_THAN:return e<0;case Kr.LESS_THAN_OR_EQUAL:return e<=0;case Kr.EQUAL:return 0===e;case Kr.GREATER_THAN:return e>0;case Kr.GREATER_THAN_OR_EQUAL:return e>=0;default:return g("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[Kr.LESS_THAN,Kr.LESS_THAN_OR_EQUAL,Kr.GREATER_THAN,Kr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(zr),Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=fe.comparator(e.key,t.key);return this.matchesComparison(n)},t}(Hr),Qr=function(e){function t(t,n){var r=e.call(this,t,Kr.IN,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(Hr),Yr=function(e){function t(t,n){return e.call(this,t,Kr.ARRAY_CONTAINS,n)||this}return a.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Vt&&t.contains(this.value)},t}(Hr),$r=function(e){function t(t,n){var r=e.call(this,t,Kr.IN,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(Hr),Xr=function(e){function t(t,n){var r=e.call(this,t,Kr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Vt&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(Hr),Jr=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),Zr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){y(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())y(o instanceof Ft,"Bound has a non-key value where the key path is being used."),n=fe.comparator(o.key,t.key);else{var a=t.field(i.field);y(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Jr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},e}(),ei=function(){function e(e,t){this.field=e,void 0===t&&(t=Jr.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Wt.compareByKey(e,t):Wt.compareByField(this.field,e,t);switch(this.dir){case Jr.ASCENDING:return n;case Jr.DESCENDING:return-1*n;default:return g("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),ti=new ei(le.keyField(),Jr.ASCENDING),ni=new ei(le.keyField(),Jr.DESCENDING),ri=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new jt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),ii=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=si(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Vt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&$(t.elements,this.elements)},e}(),oi=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=si(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Vt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&$(t.elements,this.elements)},e}(),ai=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof Rt&&this.operand instanceof Rt){var r=n.internalValue+this.operand.internalValue;return new Rt(r)}r=n.internalValue+this.operand.internalValue;return new Pt(r)},e.prototype.applyToRemoteDocument=function(e,t){return y(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Nt?e:new Rt(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function si(e){return e instanceof Vt?e.internalValue.slice():[]}var ui=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),ci=function(){var e={};return e[Jr.ASCENDING.name]="ASCENDING",e[Jr.DESCENDING.name]="DESCENDING",e}(),li=function(){var e={};return e[Kr.LESS_THAN.name]="LESS_THAN",e[Kr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[Kr.GREATER_THAN.name]="GREATER_THAN",e[Kr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[Kr.EQUAL.name]="EQUAL",e[Kr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",e[Kr.IN.name]="IN",e[Kr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",e}(),fi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(e,t){y(!ar(e),t+" is missing")}function di(e){return"number"===typeof e?e:"string"===typeof e?Number(e):g("can't parse "+e)}var pi=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?_.UNKNOWN:Sr(e.code);return new E(t,e.message||"")},e.prototype.toInt32Value=function(e){return this.options.useProto3Json||ar(e)?e:{value:e}},e.prototype.fromInt32Value=function(e){var t;return ar(t="object"===typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"===typeof e)return this.fromIso8601String(e);y(!!e,"Cannot deserialize null or undefined timestamp.");var t=di(e.seconds||"0"),n=e.nanos||0;return new Se(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=fi.exec(e);if(y(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new Se(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"===typeof e?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),te.fromBase64String(e)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),te.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return y(!!e,"Trying to deserialize version that isn't set"),Te.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=ue.fromString(e);return y(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return y(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),y(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new fe(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ue.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ue(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ue(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return y(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof At)return{nullValue:"NULL_VALUE"};if(e instanceof Ot)return{booleanValue:e.value()};if(e instanceof Rt)return{integerValue:""+e.value()};if(e instanceof Pt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Dt?{stringValue:e.value()}:e instanceof Bt?{mapValue:this.toMapValue(e)}:e instanceof Vt?{arrayValue:this.toArrayValue(e)}:e instanceof Mt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ut?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Lt?{bytesValue:this.toBytes(e.value())}:e instanceof Ft?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:g("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return At.INSTANCE;if("booleanValue"in e)return Ot.of(e.booleanValue);if("integerValue"in e)return new Rt(di(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Pt.NAN;if("Infinity"===e.doubleValue)return Pt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Pt.NEGATIVE_INFINITY}return new Pt(e.doubleValue)}if("stringValue"in e)return new Dt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){hi(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Vt(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return hi(e.timestampValue,"timestampValue"),new Mt(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){hi(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new Ut(new qr(r,i))}if("bytesValue"in e){hi(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new Lt(o)}if("referenceValue"in e){hi(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new oe(a.get(1),a.get(3)),u=new fe(this.extractLocalPathFromResourceName(a));return new Ft(s,u)}return g("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return y(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new Wt(r,i,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Bt.EMPTY;return k(n,(function(e,n){r=r.set(new le([e]),t.fromValue(n))})),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;y(!!e.found,"Tried to deserialize a found document from a missing document."),hi(e.found.name,"doc.found.name"),hi(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Wt(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){y(!!e.missing,"Tried to deserialize a missing document from a found document."),y(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new zt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):g("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Ar.Added:return"ADD";case Ar.Current:return"CURRENT";case Ar.NoChange:return"NO_CHANGE";case Ar.Removed:return"REMOVE";case Ar.Reset:return"RESET";default:return g("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Dr)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Pr){if(e.newDoc instanceof Wt){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof zt){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Mr){var n=void 0;return e.cause&&(n={code:Tr(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return g("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){hi(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Mr(r,i,o,s||null)}else if("documentChange"in e){hi(e.documentChange,"documentChange"),hi(e.documentChange.document,"documentChange.name"),hi(e.documentChange.document.name,"documentChange.document.name"),hi(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new Wt(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)})),h=u.targetIds||[],d=u.removedTargetIds||[];t=new Pr(h,d,f.key,f)}else if("documentDelete"in e){hi(e.documentDelete,"documentDelete"),hi(e.documentDelete.document,"documentDelete.document");var p=e.documentDelete;c=this.fromName(p.document),l=p.readTime?this.fromVersion(p.readTime):Te.forDeletedDoc(),f=new zt(c,l),d=p.removedTargetIds||[];t=new Pr([],d,f.key,f)}else if("documentRemove"in e){hi(e.documentRemove,"documentRemove"),hi(e.documentRemove.document,"documentRemove");var v=e.documentRemove;c=this.fromName(v.document),d=v.removedTargetIds||[];t=new Pr([],d,c,null)}else{if(!("filter"in e))return g("Unknown change type "+JSON.stringify(e));hi(e.filter,"filter"),hi(e.filter.targetId,"filter.targetId");var m=e.filter,y=m.count||0,b=new ui(y),w=m.targetId;t=new Dr(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Ar.NoChange:"ADD"===e?Ar.Added:"REMOVE"===e?Ar.Removed:"CURRENT"===e?Ar.Current:"RESET"===e?Ar.Reset:g("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return Te.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Te.MIN:t.readTime?this.fromVersion(t.readTime):Te.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof Et)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Ct)t={delete:this.toName(e.key)};else if(e instanceof St)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Tt))return g("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):wt.NONE;if(e.update){hi(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new St(r,i,o,n)}return new Et(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new Ct(r,n)}if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new Tt(r,a)}return g("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return y(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?wt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?wt.exists(e.exists):wt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t);r.isEqual(Te.MIN)&&(r=this.fromVersion(t));var i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new gt(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(y(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof ri)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ii)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof oi)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof ai)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw g("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)y("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=ri.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ii(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e){r=e.removeAllFromArray.values||[];n=new oi(r.map((function(e){return t.fromValue(e)})))}else if("increment"in e){var i=this.fromValue(e.increment);y(i instanceof Nt,"NUMERIC_ADD transform requires a NumberValue"),n=new ai(i)}else g("Unknown transform proto: "+JSON.stringify(e));var o=le.fromServerFormat(e.fieldPath);return new mt(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;y(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Wr.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(y(n.length%2===0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(y(n.length%2!==0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Wr(t,i,s,a,u,c,l)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case bn.Listen:return null;case bn.ExistenceFilterMismatch:return"existence-filter-mismatch";case bn.LimboResolution:return"limbo-document";default:return g("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof Hr?t.toUnaryOrFieldFilter(e):g("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):g("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new Zr(r,n)},e.prototype.toDirection=function(e){return ci[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return Jr.ASCENDING;case"DESCENDING":return Jr.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return li[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Kr.EQUAL;case"GREATER_THAN":return Kr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Kr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Kr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Kr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Kr.ARRAY_CONTAINS;case"IN":return Kr.IN;case"ARRAY_CONTAINS_ANY":return Kr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return g("Unspecified operator");default:return g("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return le.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new ei(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return Hr.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Kr.EQUAL){if(e.value.isEqual(Pt.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(At.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return Hr.create(t,Kr.EQUAL,Pt.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return Hr.create(n,Kr.EQUAL,At.INSTANCE);case"OPERATOR_UNSPECIFIED":return g("Unspecified filter");default:return g("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return le.fromServerFormat(e)}));return vt.fromArray(t)},e}(),vi=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},mi=function(){function e(e){this.syncEngine=e,this.queries=new Ht((function(e){return e.canonicalId()})),this.onlineState=dr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);(r||(n=!0,r=new vi,this.queries.set(t,r)),r.listeners.push(e),y(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return a.__generator(this,(function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++){u[s].onViewSnapshot(i)&&(t=!0)}a.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++){o[i].applyOnlineStateChange(e)&&(t=!0)}})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),gi=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=dr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(y(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Cr.Metadata&&t.push(i)}e=new Nr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){if(y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==dr.Offline;return this.options.waitForSyncWhenOnline&&n?(y(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===dr.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Nr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),yi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}return e.fromSnapshot=function(t,n){for(var r=Ue(),i=Ue(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Cr.Added:r=r.add(s.doc.key);break;case Cr.Removed:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),bi=function(e){this.key=e},wi=function(e){this.key=e},_i=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Ue(),this.mutatedKeys=Ue(),this.documentSet=new kr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Or,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=t instanceof Wt?t:null;l&&(y(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;c&&l?c.data().isEqual(l.data())?f!==h&&(r.track({type:Cr.Metadata,doc:l}),d=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Cr.Modified,doc:l}),d=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Cr.Added,doc:l}),d=!0):c&&!l&&(r.track({type:Cr.Removed,doc:c}),d=!0,u&&(s=!0));d&&(l?(a=a.add(l),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Cr.Removed,doc:c})}return y(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;y(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Cr.Added:return 1;case Cr.Modified:case Cr.Metadata:return 2;case Cr.Removed:return 0;default:return g("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Ir.Synced:Ir.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Nr(this.query,e.documentSet,i,o,e.mutatedKeys,s===Ir.Local,u,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===dr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Or,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return y(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Ue(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new wi(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new bi(e))})),n},e.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Ue();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},e.prototype.computeInitialSnapshot=function(){return Nr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ir.Local)},e}();var Ei=5,Si=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=Ei,this.backoff=new hr(this.asyncQueue,ee.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return a.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return a.__generator(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!ar(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(v){return this.deferred.reject(v),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Er(t)}return!1},e}(),Ti=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Ci=function(e){this.key=e,this.receivedDocument=!1},Ii=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Ht((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new Ce(fe.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Kn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=et.forSyncEngine(),this.isPrimary=void 0,this.onlineState=dr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){y(null!==e,"SyncEngine listener cannot be null"),y(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return a.__generator(this,(function(a){switch(a.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n,!0)];case 1:return r=a.sent(),i=new _i(n,r.remoteKeys),o=i.computeDocChanges(r.documents),s=Rr.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==dr.Offline),y(0===(u=i.applyChanges(o,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new Ti(n,e.targetId,i),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[e.targetId]=c,[2,u.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),y(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch(Un)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new Si(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),k(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(y(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?y(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(y(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Un(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===pr.RemoteStore||!this.isPrimary&&t===pr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);y(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,u,c=this;return a.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new Ce(fe.comparator)).insert(r,new zt(r,Te.forDeletedDoc())),o=Ue().add(r),s=new xr(Te.MIN,{},new Oe(Y),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return y(!!(u=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(u.query,!1).then((function(){return c.removeAndCleanupQuery(u)})).catch(Un)];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,t),a.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){var r;return a.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):g("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Un(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Un(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new E(_.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Ce(Y)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(y(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof bi)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof wi){p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else g("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){p("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Wr.atPath(t.path);this.limboResolutionsByTarget[n]=new Ci(t),this.remoteStore.listen(new In(r,n,bn.LimboResolution,ae.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return a.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,s){i.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query,!1).then((function(e){var n=e.documents;return s.view.computeDocChanges(n,t)})):t})).then((function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=yi.fromSnapshot(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){y(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,s,u,c=this;return a.__generator(this,(function(a){switch(a.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],u=Promise.resolve(),I(this.queryViewsByTarget,(function(e,t){c.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then((function(){return c.unlisten(t.query)})),c.remoteStore.unlisten(t.targetId)})),[4,u]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;I(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Ce(fe.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,s,u,c,l;return a.__generator(this,(function(a){switch(a.label){case 0:t=[],n=[],r=0,i=e,a.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(u=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(u.query,!0)]:[3,5]):[3,11];case 2:return a.sent(),[4,this.localStore.allocateQuery(u.query)];case 3:return s=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(u)];case 4:return(c=a.sent()).snapshot&&n.push(c.snapshot),[3,9];case 5:return y(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return y(!!(l=a.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return s=a.sent(),[4,this.initializeViewAndComputeSnapshot(s,!1)];case 8:a.sent(),a.label=9;case 9:t.push(s),a.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){var r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=a.sent(),i=xr.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return a.sent(),[3,7];case 4:return o=this.queryViewsByTarget[e],this.removeAndCleanupQuery(o),[4,this.localStore.releaseQuery(o.query,!0)];case 5:return a.sent(),this.syncEngineListener.onWatchError(o.query,n),[3,7];case 6:g("Unexpected target state: "+t),a.label=7;case 7:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l,f,h=this;return a.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,d.label=1;case 1:return n<r.length?(f=r[n],y(!this.queryViewsByTarget[f],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(f)]):[3,6];case 2:return y(!!(i=d.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:s=function(e){var t;return a.__generator(this,(function(n){switch(n.label){case 0:return(t=u.queryViewsByTarget[e])?[4,u.localStore.releaseQuery(t.query,!1).then((function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)})).catch(Un)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},u=this,c=0,l=t,d.label=7;case 7:return c<l.length?(f=l[c],[5,s(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Ue().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Ue()},e}(),ki=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Ai="SharedClientState",Oi="firestore_clients",Ni="firestore_mutations",xi="firestore_targets",Ri="firestore_online_state",Pi="firestore_sequence_number",Di=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,y(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"===typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"===typeof i.error),a=void 0;return o&&i.error&&(o="string"===typeof i.error.message&&"string"===typeof i.error.code)&&(a=new E(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(v(Ai,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Mi=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,y(void 0!==n===("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),o=void 0;return i&&r.error&&(i="string"===typeof r.error.message&&"string"===typeof r.error.code)&&(o=new E(r.error.code,r.error.message)),i?new e(t,r.state,o):(v(Ai,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ji=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"===typeof r&&r.activeTargetIds instanceof Array,o=Ve(),a=0;i&&a<r.activeTargetIds.length;++a)i=sr(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(v(Ai,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Li=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"===typeof n&&n.onlineState in dr&&"string"===typeof n.clientId?new e(n.clientId,dr[n.onlineState]):(v(Ai,"Failed to parse online state: "+t),null)},e}(),Fi=function(){function e(){this.activeTargetIds=Ve()}return e.prototype.addQueryTarget=function(e){y(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Ui=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new E(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Pi+"_"+r,this.activeClients[this.localClientId]=new Fi,this.clientStateKeyRe=new RegExp("^"+Oi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ni+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+xi+"_"+a+"_(\\d+)$"),this.onlineStateKey=Ri+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,u,c,l,f,h=this;return a.__generator(this,(function(a){switch(a.label){case 0:return y(!this.started,"WebStorageSharedClientState already started"),y(null!==this.syncEngine,"syncEngine property must be set before calling start()"),y(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=ji.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)f=l[c],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Ve();return k(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Mi.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return p(Ai,"READ",e,t),t},e.prototype.setItem=function(e,t){p(Ai,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){p(Ai,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(p(Ai,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return a.__awaiter(t,void 0,void 0,(function(){var t,n,r,i,o,s;return a.__generator(this,(function(a){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(y(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(e){var t=ae.INVALID;if(null!=e)try{var n=JSON.parse(e);y("number"===typeof n,"Found non-numeric sequence number"),t=n}catch(r){v(Ai,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==ae.INVALID&&this.sequenceNumberHandler(s));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Di(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:dr[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Mi(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return y(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),Oi+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return xi+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Ni+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return y(null!==n,"Cannot parse client state key '"+e+"'"),ji.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);y(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Di.fromWebStorageEntry(new ki(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);y(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Mi.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Li.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(p(Ai,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach((function(e){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(t){return r.has(e)||o.push(e),[2]}))}))})),r.forEach((function(e){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(t){return i.has(e)||s.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,s)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var Bi=function(){function e(){this.localState=new Fi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Fi,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Vi=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return xn.withCacheSize(this.cacheSizeBytes)},e}(),qi=function(){},Wi=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=Q.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new he,r=new he,i=!1;return this.credentials.setChangeListener((function(o){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(i=!0,t.initializePersistence(e,r,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Vi?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof E?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!("undefined"!==typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Fn.buildStoragePrefix(this.databaseInfo),i=new pi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return a.__awaiter(n,void 0,void 0,(function(){var n,o;return a.__generator(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Ui.isAvailable(this.platform))throw new E(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Ui(this.asyncQueue,this.platform,r,this.clientId,e):new Bi,[4,Fn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=Xn.createEagerPersistence(this.clientId),this.sharedClientState=new Bi,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return p("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return a.__awaiter(n,void 0,void 0,(function(){var n,i,o,s,u,c,l=this;return a.__generator(this,(function(f){switch(f.label){case 0:return n=new tr,this.localStore=new Gn(this.persistence,n,e),t&&(this.lruScheduler=new Rn(t,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),o=this.platform.newSerializer(this.databaseInfo.databaseId),s=new yr(this.asyncQueue,r,this.credentials,o),u=function(e){return l.syncEngine.applyOnlineStateChange(e,pr.RemoteStore)},c=function(e){return l.syncEngine.applyOnlineStateChange(e,pr.SharedClientState)},this.remoteStore=new Vr(this.localStore,s,this.asyncQueue,u,i),this.syncEngine=new Ii(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=c,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new mi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return f.sent(),[4,this.remoteStore.start()];case 2:return f.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return a.__awaiter(l,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return f.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return a.__awaiter(l,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 4:return f.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new he;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new gi(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Wt)return e;if(e instanceof zt)return null;throw new E(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return a.__awaiter(t,void 0,void 0,(function(){var t,n,r;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=i.sent(),n=new _i(e,t.remoteKeys),r=n.computeDocChanges(t.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new he;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new he;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),zi=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Ki=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new E(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+G(r,"element")+".")}("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(P("FieldPath","string",n,e[n]),0===e[n].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(le.keyField().canonicalString()),e}(),Hi=new RegExp("[~\\*/\\[\\]]");var Gi=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},Qi=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(ki.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){y(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Yi=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=ki.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new E(_.ABORTED,"getToken aborted due to token change.");return n?(y("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Gi(n.accessToken,e.currentUser)):null}))},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(this.currentUser)},e.prototype.removeChangeListener=function(){y(null!=this.tokenListener,"removeChangeListener() called twice"),y(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return y(null===e||"string"===typeof e,"Received invalid UID: "+e),new ki(e)},e}(),$i=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ki.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),Xi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new $i(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(ki.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ji(e){if(!e)return new Qi;switch(e.type){case"gapi":var t=e.client;return y(!("object"!==typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Xi(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new E(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Zi(e){return function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}(e,["next","error","complete"])}var eo,to=function(){function e(e){this._methodName=e}return e.delete=function(){return O("FieldValue.delete",arguments),no.instance},e.serverTimestamp=function(){return O("FieldValue.serverTimestamp",arguments),ro.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x("FieldValue.arrayUnion",arguments,1),new io(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x("FieldValue.arrayRemove",arguments,1),new oo(e)},e.increment=function(e){return P("FieldValue.increment","number",1,e),N("FieldValue.increment",arguments,1),new ao(e)},e.prototype.isEqual=function(e){return this===e},e}(),no=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return a.__extends(t,e),t.instance=new t,t}(to),ro=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(t,e),t.instance=new t,t}(to),io=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return a.__extends(t,e),t}(to),oo=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return a.__extends(t,e),t}(to),ao=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return a.__extends(t,e),t}(to),so=S(to,"Use FieldValue.<field>() instead."),uo=/^__.*__$/,co=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new St(e,this.data,this.fieldMask,t)):n.push(new Et(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Tt(e,this.fieldTransforms)),n},e}(),lo=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new St(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new Tt(e,this.fieldTransforms)),n},e}();function fo(e){switch(e){case eo.Set:case eo.MergeSet:case eo.Update:return!0;case eo.Argument:return!1;default:throw g("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument"}(eo||(eo={}));var ho=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(fo(this.dataSource)&&uo.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),po=function(e,t){this.databaseId=e,this.key=t},vo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new ho(eo.Set,e,le.EMPTY_PATH);go("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new co(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new ho(eo.MergeSet,e,le.EMPTY_PATH);go("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new Oe(le.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Ki)f=l._internalPath;else{if("string"!==typeof l)throw g("Expected stringOrFieldPath to be a string or a FieldPath");f=bo(e,l)}if(!r.contains(f))throw new E(_.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=vt.fromSet(s),o=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=vt.fromArray(r.fieldMask),o=r.fieldTransforms;return new co(a,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new ho(eo.Update,e,le.EMPTY_PATH);go("Data must be an object, but it was:",r,t);var i=new Oe(le.comparator),o=Bt.EMPTY;k(t,(function(t,a){var s=bo(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof no)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}}));var a=vt.fromSet(i);return new lo(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new ho(eo.Update,e,le.EMPTY_PATH),o=[yo(e,t)],a=[n];if(r.length%2!==0)throw new E(_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(yo(e,r[s])),a.push(r[s+1]);var u=new Oe(le.comparator),c=Bt.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof no)u=u.add(l);else{var d=this.parseData(h,f);null!=d&&(u=u.add(l),c=c.set(l,d))}}var p=vt.fromSet(u);return new lo(c,p,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new ho(eo.Argument,e,le.EMPTY_PATH),r=this.parseData(t,n);return y(null!=r,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=wo(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(mo(e=this.runPreConverter(e,t)))return go("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof to)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Ce(Y);return A(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new Bt(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=At.INSTANCE),n.push(s),r++}return new Vt(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!fo(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof no){if(t.dataSource!==eo.MergeSet)throw t.dataSource===eo.Update?(y(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ro)t.fieldTransforms.push(new mt(t.path,ri.instance));else if(e instanceof io){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new ii(n);t.fieldTransforms.push(new mt(t.path,r))}else if(e instanceof oo){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new oi(n);t.fieldTransforms.push(new mt(t.path,i))}else if(e instanceof ao){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new ai(o);t.fieldTransforms.push(new mt(t.path,a))}else g("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return At.INSTANCE;if("number"===typeof e)return sr(e)?new Rt(e):new Pt(e);if("boolean"===typeof e)return Ot.of(e);if("string"===typeof e)return new Dt(e);if(e instanceof Date)return new Mt(Se.fromDate(e));if(e instanceof Se)return new Mt(new Se(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof qr)return new Ut(e);if(e instanceof te)return new Lt(e);if(e instanceof po)return new Ft(e.databaseId,e.key);throw t.createError("Unsupported field value: "+q(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new ho(eo.Argument,e,le.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},e}();function mo(e){return"object"===typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof Se)&&!(e instanceof qr)&&!(e instanceof te)&&!(e instanceof po)&&!(e instanceof to)}function go(e,t,n){if(!mo(n)||!V(n)){var r=q(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function yo(e,t){if(t instanceof Ki)return t._internalPath;if("string"===typeof t)return bo(e,t);throw new E(_.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function bo(e,t){try{return function(e){if(e.search(Hi)>=0)throw new E(_.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ki.bind.apply(Ki,a.__spreadArrays([void 0],e.split("."))))}catch(t){throw new E(_.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=wo(r);throw new E(_.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function wo(e){return e instanceof Error?e.message:e.toString()}var _o="firestore.googleapis.com",Eo=!0,So=!0,To=!1,Co=xn.COLLECTION_DISABLED,Io=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_o,this.ssl=Eo}else M("settings","non-empty string","host",e.host),this.host=e.host,j("settings","boolean","ssl",e.ssl),this.ssl=C(e.ssl,Eo);if(z("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),j("settings","object","credentials",e.credentials),this.credentials=e.credentials,j("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?v("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&v("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=C(e.timestampsInSnapshots,So),j("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=xn.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Co&&e.cacheSizeBytes<xn.MINIMUM_CACHE_SIZE_BYTES)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+xn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}j("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?To:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),ko=function(){function e(t){var n=this;if(this._firebaseApp=null,this._queue=new pe,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"===typeof t.options){var r=t;this._firebaseApp=r,this._databaseId=e.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Yi(r)}else{var i=t;if(!i.projectId)throw new E(_.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new oe(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new Qi}this._settings=new Io({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(N("Firestore.settings",arguments,1),P("Firestore.settings","object",1,e),T(e,"persistence"))throw new E(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Io(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=Ji(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=C(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Vi(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Fn.buildStoragePrefix(this.makeDatabaseInfo()),n=new he;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return a.__awaiter(e,void 0,void 0,(function(){var e;return a.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new E(_.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Fn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),Zi(e))return this.onSnapshotsInSyncInternal(e);P("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new zi({next:function(){e.next&&e.next()},error:function(e){throw g("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new qi),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new re(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){y(!!this._settings.host,"FirestoreSettings.host is not set"),y(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Wi(b.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new vo((function(t){if(t instanceof No){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new E(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new po(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!T(t,"projectId"))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!==typeof n)throw new E(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new oe(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return N("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new jo(ue.fromString(e),this)},e.prototype.doc=function(e){return N("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),No.forPath(ue.fromString(e),this)},e.prototype.collectionGroup=function(e){if(N("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new E(_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Do(new Wr(ue.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return N("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Ao(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Oo(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return g("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(N("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":d(i.DEBUG);break;case"error":d(i.ERROR);break;case"silent":d(i.SILENT);break;default:throw new E(_.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Ao=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;N("Transaction.get",arguments,1);var n=Bo("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return g("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof zt)return new Ro(t._firestore,n._key,null,!1,!1);if(r instanceof Wt)return new Ro(t._firestore,n._key,r,!1,!1);throw g("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){R("Transaction.set",arguments,2,3);var r=Bo("Transaction.set",e,this._firestore),i=(n=Lo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"===typeof t||t instanceof Ki?(x("Transaction.update",arguments,3),r=Bo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(N("Transaction.update",arguments,2),r=Bo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){N("Transaction.delete",arguments,1);var t=Bo("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Oo=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){R("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Bo("WriteBatch.set",e,this._firestore),i=(n=Lo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,wt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"===typeof t||t instanceof Ki?(x("WriteBatch.update",arguments,3),r=Bo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(N("WriteBatch.update",arguments,2),r=Bo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,wt.exists(!0))),this},e.prototype.delete=function(e){N("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Bo("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Ct(t._key,wt.NONE)),this},e.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),No=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!==0)throw new E(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new fe(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new jo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(N("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,e),!e)throw new E(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=ue.fromString(e);return new jo(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){R("DocumentReference.set",arguments,1,2);var n=(t=Lo("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,wt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"===typeof e||e instanceof Ki?(x("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(N("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,wt.exists(!0)))},e.prototype.delete=function(){return N("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ct(this._key,wt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];R("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof e[i]||Zi(e[i])||(z("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Zi(e[i])?n=e[i]:(P("DocumentReference.onSnapshot","function",i,e[i]),D("DocumentReference.onSnapshot","function",i+1,e[i+1]),D("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new zi({next:function(e){if(t.next){y(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Ro(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Wr.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return R("DocumentReference.get",arguments,0,1),Uo("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new Ro(t.firestore,t._key,e,!0,e instanceof Wt&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new E(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new E(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),xo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Ro=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return R("DocumentSnapshot.data",arguments,0,1),e=Fo("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),It.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(R("DocumentSnapshot.get",arguments,1,2),t=Fo("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(yo("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,It.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new No(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new xo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertValue=function(e,t){if(e instanceof Bt)return this.convertObject(e,t);if(e instanceof Vt)return this.convertArray(e,t);if(e instanceof Ft){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||v("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new No(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},e}(),Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return y("object"===typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Ro),Do=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){if(N("Query.where",arguments,3),W("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];U("Query.where",i,2,n)}var o,a=yo("Query.where",t),s=Kr.fromString(n);if(a.isKeyField()){if(s===Kr.ARRAY_CONTAINS||s===Kr.ARRAY_CONTAINS_ANY)throw new E(_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===Kr.IN){this.validateDisjunctiveFilterElements(r,s);for(var u=[],c=0,l=r;c<l.length;c++){var f=l[c];u.push(this.parseDocumentIdValue(f))}o=new Vt(u)}else o=this.parseDocumentIdValue(r)}else s!==Kr.IN&&s!==Kr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,s),o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var h=Hr.create(a,s,o);return this.validateNewFilter(h),new e(this._query.addFilter(h),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(R("Query.orderBy",arguments,1,2),D("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Jr.ASCENDING;else{if("desc"!==n)throw new E(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Jr.DESCENDING}if(null!==this._query.startAt)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=yo("Query.orderBy",t),o=new ei(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(N("Query.limit",arguments,1),P("Query.limit","number",1,t),t<=0)throw new E(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(W(e,1,t),t instanceof Ro){if(n.length>0)throw new E(_.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new E(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Ft(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof jt)throw new E(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new E(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Zr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new E(_.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!==typeof a)throw new E(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(ue.fromString(a));if(!fe.isDocumentKey(s))throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new fe(s);i.push(new Ft(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new Zr(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];R("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof e[i]||Zi(e[i])||(z("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Zi(e[i])?n=e[i]:(P("Query.onSnapshot","function",i,e[i]),D("Query.onSnapshot","function",i+1,e[i+1]),D("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new zi({next:function(e){t.next&&t.next(new Mo(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(e){var t=this;return R("Query.get",arguments,0,1),Uo("Query.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new Mo(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"===typeof e){if(""===e)throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(ue.fromString(e));if(!fe.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Ft(this.firestore._databaseId,new fe(t))}if(e instanceof No){var n=e;return new Ft(this.firestore._databaseId,n._key)}throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new E(_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new E(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new E(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new E(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof Hr){var t=[Kr.ARRAY_CONTAINS,Kr.ARRAY_CONTAINS_ANY],n=[Kr.IN,Kr.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new E(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new E(_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new E(_.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new E(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Mo=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new xo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;R("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Do(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(z("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(t){var o=new Po(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return y(t.type===Cr.Added,"Invalid event type for first snapshot"),y(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Cr.Metadata})).map((function(t){var r=new Po(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==Cr.Added&&(y((i=o.indexOf(t.doc.key))>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Cr.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:Vo(t.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw K("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Po(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();a.__spreadArrays(["length","forEach","map"],"undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(Mo.prototype.docChanges,e,{get:function(){return function(){throw new E(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var jo=function(e){function t(t,n){var r=e.call(this,Wr.atPath(t),n)||this;if(t.length%2!==1)throw new E(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return a.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new No(new fe(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(R("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Q.newId()),P("CollectionReference.doc","non-empty string",1,e),""===e)throw new E(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=ue.fromString(e);return No.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){N("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t}(Do);function Lo(e,t){if(void 0===t)return{merge:!1};if(z(e,t,["merge","mergeFields"]),j(e,"boolean","merge",t.merge),L(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"===typeof e||e instanceof Ki})),void 0!==t.mergeFields&&void 0!==t.merge)throw new E(_.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Fo(e,t){return void 0===t?{}:(z(e,t,["serverTimestamps"]),F(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Uo(e,t){D(e,"object",1,t),t&&(z(e,t,["source"]),F(e,0,"source",t.source,["default","server","cache"]))}function Bo(e,t,n){if(t instanceof No){if(t.firestore!==n)throw new E(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw K(e,"DocumentReference",1,t)}function Vo(e){switch(e){case Cr.Added:return"added";case Cr.Modified:case Cr.Metadata:return"modified";case Cr.Removed:return"removed";default:return g("Unknown change type: "+e)}}var qo=S(ko,"Use firebase.firestore() instead."),Wo=S(Ao,"Use firebase.firestore().runTransaction() instead."),zo=S(Oo,"Use firebase.firestore().batch() instead."),Ko=S(No,"Use firebase.firestore().doc() instead."),Ho=S(Ro),Go=S(Po),Qo=S(Do),Yo=S(Mo),$o=S(jo,"Use firebase.firestore().collection() instead."),Xo={Firestore:qo,GeoPoint:qr,Timestamp:Se,Blob:ne,Transaction:Wo,WriteBatch:zo,DocumentReference:Ko,DocumentSnapshot:Ho,Query:Qo,QueryDocumentSnapshot:Go,QuerySnapshot:Yo,CollectionReference:$o,FieldPath:Ki,FieldValue:so,setLogLevel:ko.setLogLevel,CACHE_SIZE_UNLIMITED:Co};function Jo(e){e.INTERNAL.registerService("firestore",(function(e){return new ko(e)}),function(e){y(e&&"object"===typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(Xo))}var Zo=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),ea=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!==typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ta=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),na="Connection",ra={BatchGetDocuments:"batchGet",Commit:"commit"},ia="gl-js/ fire/"+l,oa=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=ia},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(o,s){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var t=u.getResponseJson();p(na,"XHR received:",JSON.stringify(t)),o(t);break;case c.ErrorCode.TIMEOUT:p(na,'RPC "'+e+'" timed out'),s(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(p(na,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(_).indexOf(t)>=0?t:_.UNKNOWN}(r.status);s(new E(i,r.message))}else s(new E(_.UNKNOWN,"Server responded with status "+u.getStatus()))}else p(na,'RPC "'+e+'" failed'),s(new E(_.UNAVAILABLE,"Connection failed."));break;default:g('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{p(na,'RPC "'+e+'" completed.')}}));var l=a.__assign({},t);delete l.database;var f=JSON.stringify(l);p(na,"XHR sending: ",i+" "+f);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),u.send(i,"POST",f,h,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=c.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p(na,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,l=!1,f=new ta({sendFn:function(e){l?p(na,"Not sending because WebChannel is closed:",e):(s||(p(na,"Opening WebChannel transport."),a.open(),s=!0),p(na,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),h=function(e,t){a.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return h(c.WebChannel.EventType.OPEN,(function(){l||p(na,"WebChannel transport opened.")})),h(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,p(na,"WebChannel transport closed"),f.callOnClose())})),h(c.WebChannel.EventType.ERROR,(function(e){l||(l=!0,p(na,"WebChannel transport errored:",e),f.callOnClose(new E(_.UNAVAILABLE,"The operation could not be completed")))})),h(c.WebChannel.EventType.MESSAGE,(function(e){if(!l){var t=e.data[0];y(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){p(na,"WebChannel received error:",r);var i=r.status,o=function(e){var t=wr[e];if(void 0!==t)return Sr(t)}(i),s=r.message;void 0===o&&(o=_.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,f.callOnClose(new E(o,s)),a.close()}else p(na,"WebChannel received:",t),f.callOnMessage(t)}})),setTimeout((function(){f.callOnOpen()}),0),f},e.prototype.makeUrl=function(e){var t=ra[e];y(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),aa=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new oa(e))},e.prototype.newConnectivityMonitor=function(){return ea.isAvailable()?new ea:new Zo},e.prototype.newSerializer=function(e){return new pi(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();function sa(e){Jo(e)}b.setPlatform(new aa),sa(o),t.registerFirestore=sa},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ErrorCode",(function(){return ur})),n.d(t,"EventType",(function(){return cr})),n.d(t,"WebChannel",(function(){return lr})),n.d(t,"XhrIo",(function(){return fr})),n.d(t,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},o=o||{},a=i;function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function l(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function h(e){return"array"==f(e)}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function E(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[v]||(this[v]=++m)},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},C=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=s(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function I(e){return Array.prototype.concat.apply([],arguments)}function k(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var O,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function x(e,t){return-1!=e.indexOf(t)}function R(e,t){return e<t?-1:e>t?1:0}e:{var P=a.navigator;if(P){var D=P.userAgent;if(D){O=D;break e}}O=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function j(e){var t,n={};for(t in e)n[t]=e[t];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=l;var B,V=x(O,"Opera"),q=x(O,"Trident")||x(O,"MSIE"),W=x(O,"Edge"),z=W||q,K=x(O,"Gecko")&&!(x(O.toLowerCase(),"webkit")&&!x(O,"Edge"))&&!(x(O,"Trident")||x(O,"MSIE"))&&!x(O,"Edge"),H=x(O.toLowerCase(),"webkit")&&!x(O,"Edge");function G(){var e=a.document;return e?e.documentMode:void 0}e:{var Q="",Y=function(){var e=O;return K?/rv:([^\);]+)(\)|;)/.exec(e):W?/Edge\/([\d\.]+)/.exec(e):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):H?/WebKit\/(\S+)/.exec(e):V?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Y&&(Q=Y?Y[1]:""),q){var $=G();if(null!=$&&$>parseFloat(Q)){B=String($);break e}}B=Q}var X,J={};function Z(e){return function(e,t){var n=J;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=N(String(B)).split("."),r=N(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=R(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||R(0==a[2].length,0==s[2].length)||R(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var ee=a.document;X=ee&&q?G()||("CSS1Compat"==ee.compatMode?parseInt(B,10):5):void 0;var te=!q||9<=Number(X),ne=q&&!Z("9"),re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function ie(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function oe(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(K){e:{try{U(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=s(e.pointerType)?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ie.prototype.b=function(){this.Ja=!1},E(oe,ie);var ae={2:"touch",3:"pen",4:"mouse"};oe.prototype.b=function(){oe.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ne)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var se="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++ue,this.X=this.Z=!1}function le(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function fe(e){this.src=e,this.a={},this.b=0}function he(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=T(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(le(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function de(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=de(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ce(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),ve={};function me(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}r=Te(r);return t&&t[se]?t.Ba(n,r,p(i)?!!i.capture:!!i,o):ge(t,n,r,!0,i,o)}(e,t,n,r,i);if(h(t)){for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);return null}return n=Te(n),e&&e[se]?e.Aa(t,n,p(r)?!!r.capture:!!r,i):ge(e,t,n,!1,r,i)}function ge(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!te)return null;var s=Ee(e);if(s||(e[pe]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=_e,t=te?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ye(e){if(!u(e)&&e&&!e.X){var t=e.src;if(t&&t[se])he(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(he(n,e),0==n.b&&(n.src=null,t[pe]=null)):le(e)}}}function be(e){return e in ve?ve[e]:ve[e]="on"+e}function we(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&ye(e),n.call(r,t)}function _e(e,t){return!!e.X||(te?we(e,new oe(t,this)):we(e,t=new oe(t||c("window.event"),this)))}function Ee(e){return(e=e[pe])instanceof fe?e:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"==f(e)?e:(e[Se]||(e[Se]=function(t){return e.handleEvent(t)}),e[Se])}function Ce(){S.call(this),this.c=new fe(this),this.J=this,this.B=null}function Ie(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&he(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}E(Ce,S),Ce.prototype[se]=!0,(r=Ce.prototype).addEventListener=function(e,t,n,r){me(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=Te(r),t&&t[se]?(t=t.c,(n=String(n).toString())in t.a&&(-1<(r=de(a=t.a[n],r,i,o))&&(le(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--)))):t&&(t=Ee(t))&&(n=t.a[n.toString()],t=-1,n&&(t=de(n,r,i,o)),(r=-1<t?n[t]:null)&&ye(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(s(e))e=new ie(e,n);else if(e instanceof ie)e.target=e.target||n;else{var i=e;F(e=new ie(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Ie(a,r,!0,e)&&i}if(i=Ie(a=e.a=n,r,!0,e)&&i,i=Ie(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ie(a=e.a=t[o],r,!1,e)&&i;return i},r.G=function(){if(Ce.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)le(n[r]);delete t.a[e],t.b--}}this.B=null},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var ke=a.JSON.stringify;function Ae(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Oe(){this.b=this.a=null}Ae.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ne,xe=new Ae((function(){return new Pe}),(function(e){e.reset()}));function Re(){var e=Le,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Pe(){this.next=this.b=this.a=null}function De(e){a.setTimeout((function(){throw e}),0)}function Me(e,t){Ne||function(){var e=a.Promise.resolve(void 0);Ne=function(){e.then(Fe)}}(),je||(Ne(),je=!0),Le.add(e,t)}Oe.prototype.add=function(e,t){var n=xe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Pe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Pe.prototype.reset=function(){this.next=this.b=this.a=null};var je=!1,Le=new Oe;function Fe(){for(var e;e=Re();){try{e.a.call(e.b)}catch(n){De(n)}var t=xe;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}je=!1}function Ue(e,t){Ce.call(this),this.b=e||1,this.a=t||a,this.f=b(this.gb,this),this.g=_()}function Be(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Ve(e,t,n){if("function"==f(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function qe(e,t,n){S.call(this),this.f=null!=n?b(e,n):e,this.c=t,this.b=b(this.ab,this),this.a=[]}function We(e){e.U=Ve(e.b,e.c),e.f.apply(null,e.a)}function ze(e){S.call(this),this.b=e,this.a={}}E(Ue,Ce),(r=Ue.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var e=_()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Be(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Ue.N.G.call(this),Be(this),delete this.a},E(qe,S),(r=qe.prototype).ea=!1,r.U=null,r.Ua=function(e){this.a=arguments,this.U?this.ea=!0:We(this)},r.G=function(){qe.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,We(this))},E(ze,S);var Ke=[];function He(e,t,n,r){h(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var o=me(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ge(e){M(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ye(e)}),e),e.a={}}function Qe(){}ze.prototype.G=function(){ze.N.G.call(this),Ge(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new Ce;function $e(e){ie.call(this,"serverreachability",e)}function Xe(e){Ye.dispatchEvent(new $e(Ye,e))}function Je(e){ie.call(this,"statevent",e)}function Ze(e){Ye.dispatchEvent(new Je(Ye,e))}function et(e){ie.call(this,"timingevent",e)}function tt(e,t){if("function"!=f(e))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}E($e,ie),E(Je,ie),E(et,ie);var nt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},rt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function it(){}function ot(e){var t;return(t=e.a)||(t=e.a={}),t}function at(){}it.prototype.a=null;var st,ut={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ct(){ie.call(this,"d")}function lt(){ie.call(this,"c")}function ft(){}function ht(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new ze(this),this.O=dt,e=z?125:void 0,this.P=new Ue(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ct,ie),E(lt,ie),E(ft,it),st=new ft;var dt=45e3,pt={},vt={};function mt(e,t,n){e.F=1,e.f=Vt(Dt(t)),e.l=n,e.H=!0,yt(e,null)}function gt(e,t,n,r){e.F=1,e.f=Vt(Dt(t)),e.l=null,e.H=n,yt(e,r)}function yt(e,t){e.v=_(),_t(e),e.D=Dt(e.f),Bt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new qe(b(e.Ka,e,e.a),e.J)),He(e.I,e.a,"readystatechange",e.eb),t=e.h?j(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Xe(1)}function bt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=wt(e,n);if(i==vt){4==t&&(e.c=4,Ze(14),r=!1);break}if(i==pt){e.c=4,Ze(15),r=!1;break}It(e,i)}4==t&&0==n.length&&(e.c=1,Ze(16),r=!1),e.b=e.b&&r,r||(Ct(e),Tt(e))}function wt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?vt:(n=Number(t.substring(n,r)),isNaN(n)?pt:(r+=1)+n>t.length?vt:(t=t.substr(r,n),e.A=r+n,t))}function _t(e){e.R=_()+e.O,Et(e,e.O)}function Et(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=tt(b(e.bb,e),t)}function St(e){e.i&&(a.clearTimeout(e.i),e.i=null)}function Tt(e){e.g.Da()||e.m||e.g.na(e)}function Ct(e){St(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,Be(e.P),Ge(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function It(e,t){try{e.g.Ga(e,t),Xe(4)}catch(n){}}function kt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||s(e))C(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(d(e)||s(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(s(e))return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function At(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof At)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ot(e,t){xt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nt(e))}function Nt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];xt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)xt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ht.prototype).setTimeout=function(e){this.O=e},r.eb=function(e){e=e.target;var t=this.B;t&&3==Dn(e)?t.Ua():this.Ka(e)},r.Ka=function(e){try{if(e==this.a)e:{var t=Dn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!z&&!this.a.aa())){this.m||4!=t||7==n||Xe(8==n||0>=r?3:2),St(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=Mn(this.a,"X-HTTP-Initial-Response");if(a&&!A(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,Ze(12),Ct(this),Tt(this);break e}this.s=!0,It(this,s)}this.H?(bt(this,t,o),z&&this.b&&3==t&&(He(this.I,this.P,"tick",this.cb),this.P.start())):It(this,o),4==t&&Ct(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,_t(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Ze(12)):(this.c=0,Ze(13)),Ct(this),Tt(this)}}}catch(u){}},r.cb=function(){if(this.a){var e=Dn(this.a),t=this.a.aa();this.A<t.length&&(St(this),bt(this,e,t),this.b&&4!=e&&_t(this))}},r.cancel=function(){this.m=!0,Ct(this)},r.bb=function(){this.i=null;var e=_();0<=e-this.R?(2!=this.F&&(Xe(3),Ze(17)),Ct(this),this.c=2,Tt(this)):Et(this,this.R-e)},(r=At.prototype).C=function(){Nt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return Nt(this),this.a.concat()},r.get=function(e,t){return xt(this.b,e)?this.b[e]:t},r.set=function(e,t){xt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Pt?(this.h=void 0!==t?t:e.h,Mt(this,e.f),this.j=e.j,jt(this,e.b),Lt(this,e.i),this.a=e.a,Ft(this,tn(e.c)),this.g=e.g):e&&(n=String(e).match(Rt))?(this.h=!!t,Mt(this,n[1]||"",!0),this.j=qt(n[2]||""),jt(this,n[3]||"",!0),Lt(this,n[4]),this.a=qt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.g=qt(n[7]||"")):(this.h=!!t,this.c=new $t(null,this.h))}function Dt(e){return new Pt(e)}function Mt(e,t,n){e.f=n?qt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function jt(e,t,n){e.b=n?qt(t,!0):t}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Ft(e,t,n){t instanceof $t?(e.c=t,function(e,t){t&&!e.f&&(Xt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jt(this,t),en(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=Wt(t,Qt)),e.c=new $t(t,e.h))}function Ut(e,t,n){e.c.set(t,n)}function Bt(e,t,n){h(n)||(n=[String(n)]),en(e.c,t,n)}function Vt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wt(e,t,n){return s(e)?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Wt(t,Kt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Wt(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wt(n,"/"==n.charAt(0)?Gt:Ht,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Wt(n,Yt)),e.join("")},Pt.prototype.resolve=function(e){var t=Dt(this),n=!!e.f;n?Mt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?jt(t,e.b):n=null!=e.i;var r=e.a;if(n)Lt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Ft(t,tn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Kt=/[#\/\?@]/g,Ht=/[#\?:]/g,Gt=/[#\?]/g,Qt=/[#\?@]/g,Yt=/#/g;function $t(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xt(e){e.a||(e.a=new At,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jt(e,t){Xt(e),t=nn(e,t),xt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ot(e.a,t))}function Zt(e,t){return Xt(e),t=nn(e,t),xt(e.a.b,t)}function en(e,t,n){Jt(e,t),0<n.length&&(e.c=null,e.a.set(nn(e,t),k(n)),e.b+=n.length)}function tn(e){var t=new $t;return t.c=e.c,e.a&&(t.a=new At(e.a),t.b=e.b),t}function nn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function rn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function on(e){var t=e.a.F.a;if(null!=t)Ze(4),t?(Ze(10),Gn(e.a,e,!1)):(Ze(11),Gn(e.a,e,!0));else{e.b=new ht(e,void 0,void 0),e.b.h=e.h,t=Jn(t=e.a,t.Y()?e.f:null,e.i),Ze(4),Bt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Ut(t,n,r),gt(e.b,t,!1,e.f)}}function an(){this.a=this.b=null}function sn(){this.a=new At}function un(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[v]||(e[v]=++m)):t.charAt(0)+e}function cn(e,t){this.b=e,this.a=t}function ln(e){this.g=e||fn,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=$t.prototype).add=function(e,t){Xt(this),this.c=null,e=nn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){Xt(this),this.a.forEach((function(n,r){C(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.K=function(){Xt(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.C=function(e){Xt(this);var t=[];if(s(e))Zt(this,e)&&(t=I(t,this.a.get(nn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=I(t,e[n])}return t},r.set=function(e,t){return Xt(this),this.c=null,Zt(this,e=nn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},E((function(){}),(function(){})),(r=rn.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Mn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Mn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(i){return(t=this.a).m=this.c,void $n(t,2)}this.f=r[0]}else(t=this.a).m=this.c,$n(t,2)}else 1==this.M&&(this.g?Ze(6):"11111"==t?(Ze(5),this.g=!0,(!q||10<=Number(X))&&(this.c=200,this.b.cancel(),Ze(11),Gn(this.a,this,!0))):(Ze(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,on(this)):1==this.M&&(this.g?(Ze(11),Gn(this.a,this,!0)):(Ze(10),Gn(this.a,this,!1)));else{0==this.M?Ze(8):1==this.M&&Ze(9);var e=this.a;e.m=this.c,$n(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(e){this.a.set(un(e),e)},sn.prototype.C=function(){return this.a.C()};var fn=10;function hn(e,t){!e.a&&(x(t,"spdy")||x(t,"quic")||x(t,"h2"))&&(e.f=e.g,e.a=new sn,e.b&&(mn(e,e.b),e.b=null))}function dn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function pn(e){return e.b?1:e.a?e.a.a.c:0}function vn(e,t){return e.b?e=e.b==t:e.a?(t=un(t),e=xt(e.a.a.b,t)):e=!1,e}function mn(e,t){e.a?e.a.add(t):e.b=t}function gn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=un(t),n=xt(e.a.a.b,n)),n&&Ot(e.a.a,un(t)))}function yn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return C(e.a.C(),(function(e){t=t.concat(e.j)})),t}return k(e.c)}function bn(){}function wn(){this.a=new bn}function _n(e,t,n){var r=n||"";try{kt(e,(function(e,n){var i=e;p(e)&&(i=ke(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function En(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}ln.prototype.cancel=function(){var e;this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(C(this.a.C(),(function(e){e.cancel()})),(e=this.a.a).b={},e.a.length=0,e.c=0)},bn.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},bn.prototype.parse=function(e){return a.JSON.parse(e,void 0)};var Sn=a.JSON.parse;function Tn(e){Ce.call(this),this.headers=new At,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}E(Tn,Ce);var Cn="",In=/^https?$/i,kn=["POST","PUT"];function An(e){return"content-type"==e.toLowerCase()}function On(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Nn(e),Rn(e)}function Nn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function xn(e){if(e.b&&"undefined"!=typeof o&&(!e.s[1]||4!=Dn(e)||2!=e.T()))if(e.l&&4==Dn(e))Ve(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Dn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.A).match(Rt)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!In.test(s?s.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Nn(e))}finally{Rn(e)}}}function Rn(e,t){if(e.a){Pn(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(a.clearTimeout(e.m),e.m=null)}function Dn(e){return e.a?e.a.readyState:0}function Mn(e,t){return e.a?e.a.getResponseHeader(t):null}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return M(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),s(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Ut(e,t,n),e}function Ln(e){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new ln(e&&e.concurrentRequestLimit),this.ja=new wn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(e){if(Un(e),3==e.u){var t=e.P++,n=Dt(e.B);Ut(n,"SID",e.H),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Wn(e,n),(t=new ht(e,t,void 0)).F=2,t.f=Vt(Dt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.f.toString(),"")),!n&&a.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=_(),_t(t)}Xn(e)}function Un(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(a.clearTimeout(e.l),e.l=null),Qn(e),e.b.cancel(),e.h&&(u(e.h)&&a.clearTimeout(e.h),e.h=null)}function Bn(e,t){e.f.push(new cn(e.Ra++,t)),3==e.u&&Vn(e)}function Vn(e){dn(e.b)||e.h||(e.h=!0,Me(e.Ia,e),e.A=0)}function qn(e,t){var n;n=t?t.W:e.P++;var r=Dt(e.B);Ut(r,"SID",e.H),Ut(r,"RID",n),Ut(r,"AID",e.O),Wn(e,r),e.g&&e.i&&jn(r,e.g,e.i),n=new ht(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),mn(e.b,n),mt(n,r,t)}function Wn(e,t){e.c&&kt({},(function(e,n){Ut(t,n,e)}))}function zn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?b(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{_n(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Kn(e){e.a||e.l||(e.S=1,Me(e.Ha,e),e.v=0)}function Hn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=tt(b(e.Ha,e),Yn(e,e.v)),e.v++,!0)}function Gn(e,t,n){var r=t.l;r&&hn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Jn(e,null,e.ha),Vn(e)}function Qn(e){null!=e.s&&(a.clearTimeout(e.s),e.s=null)}function Yn(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function $n(e,t){if(2==t){var n=null;e.c&&(n=null);var r=b(e.fb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Mt(n,"https"),Vt(n)),function(e,t){var n=new Qe;if(a.Image){var r=new Image;r.onload=w(En,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(En,n,r,"TestLoadImage: error",!1,t),r.onabort=w(En,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(En,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.u=0,e.c&&e.c.ta(t),Xn(e),Un(e)}function Xn(e){e.u=0,e.m=-1,e.c&&(0==yn(e.b).length&&0==e.f.length||(e.b.c.length=0,k(e.f),e.f.length=0),e.c.sa())}function Jn(e,t,n){var r=function(e){return e instanceof Pt?Dt(e):new Pt(e,void 0)}(n);if(""!=r.b)t&&jt(r,t+"."+r.b),Lt(r,r.i);else{var i,o=a.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Pt(null,void 0);return e&&Mt(i,e),t&&jt(i,t),n&&Lt(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&M(e.V,(function(e,t){Ut(r,t,e)})),t=e.j,n=e.I,t&&n&&Ut(r,t,n),Ut(r,"VER",e.wa),Wn(e,r),r}function Zn(){}function er(){if(q&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function tr(e,t){Ce.call(this),this.a=new Ln(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))t=i;else(r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new ir(this)}function nr(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function rr(){lt.call(this),this.status=1}function ir(e){this.a=e}(r=Tn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ot(this.H):ot(st),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void On(this,o)}e=n||"";var i=new At(this.headers);r&&kt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=An,n=e.length,r=s(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:s(e)?e.charAt(t):e[t]}(i.K()),n=a.FormData&&e instanceof a.FormData,!(0<=T(kn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(e){return q&&Z(9)&&u(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Ve(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){On(this,o)}},r.Ca=function(){"undefined"!=typeof o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Rn(this,!0)),Tn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?xn(this):this.$a())},r.$a=function(){xn(this)},r.T=function(){try{return 2<Dn(this)?this.a.status:-1}catch(e){return-1}},r.za=function(){try{return 2<Dn(this)?this.a.statusText:""}catch(e){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},r.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sn(t)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ht(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?F(r=j(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=zn(this,n,t),Ut(i=Dt(this.B),"RID",e),Ut(i,"CVER",22),this.o&&this.j&&Ut(i,"X-HTTP-Session-Id",this.j),Wn(this,i),this.g&&r&&jn(i,this.g,r),mn(this.b,n),this.W?(Ut(i,"$req",t),Ut(i,"SID","null"),n.S=!0,mt(n,i,null)):mt(n,i,t),this.u=2}}else 3==this.u&&(e?qn(this,e):0==this.f.length||dn(this.b)||qn(this))},r.Ha=function(){this.l=null,this.a=new ht(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Dt(this.pa);Ut(e,"RID","rpc"),Ut(e,"SID",this.H),Ut(e,"CI",this.ia?"0":"1"),Ut(e,"AID",this.O),Wn(this,e),Ut(e,"TYPE","xmlhttp"),this.g&&this.i&&jn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),gt(this.a,e,!0,this.ga)},r.Ga=function(e,t){if(0!=this.u&&(this.a==e||vn(this.b,e)))if(this.m=e.o,!e.s&&vn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(o){n=null}if(h(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Qn(this),this.a.cancel(),this.a=null}Hn(this),Ze(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=tt(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else $n(this,11)}else if((e.s||this.a==e)&&Qn(this),!A(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Mn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Mn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ut(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(St(r),_t(r)),this.a=r):Kn(this),0<this.f.length&&Vn(this)}else"stop"!=r[0]&&"close"!=r[0]||$n(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?$n(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),Ze(19))},r.na=function(e){var t=null;if(this.a==e){Qn(this),this.a=null;var n=2}else{if(!vn(this.b,e))return;t=e.j,gn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=_()-e.v,Ye.dispatchEvent(new et(Ye,e.l?e.l.length:0,t,this.A)),Vn(this)):Kn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(pn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=tt(b(e.Ia,e,t),Yn(e,e.A)),e.A++,!0))}(this,e)||2==n&&Hn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:$n(this,5);break;case 4:$n(this,10);break;case 3:$n(this,6);break;default:$n(this,2)}}},r.fb=function(e){Ze(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(this.La)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},er.prototype.a=function(e,t){return new tr(e,t)},E(tr,Ce),(r=tr.prototype).addEventListener=function(e,t,n,r){tr.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){tr.N.removeEventListener.call(this,e,t,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;Ze(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new rn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=jn(t,e.g,e.i)),(e=e.w).i=n,t=Jn(e.a,null,e.i),Ze(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,on(e)):(Bt(t,"MODE","init"),!e.a.o&&e.a.j&&Bt(t,"X-HTTP-Session-Id",e.a.j),e.b=new ht(e,void 0,void 0),e.b.h=e.h,gt(e.b,t,!1,null),e.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(e){if(s(e)){var t={};t.__data__=e,Bn(this.a,t)}else this.h?((t={}).__data__=ke(e),Bn(this.a,t)):Bn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},E(nr,ct),E(rr,lt),E(ir,Zn),ir.prototype.va=function(){this.a.dispatchEvent("a")},ir.prototype.ua=function(e){this.a.dispatchEvent(new nr(e))},ir.prototype.ta=function(e){this.a.dispatchEvent(new rr(e))},ir.prototype.sa=function(){this.a.dispatchEvent("b")};var or=w((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),er);er.prototype.createWebChannel=er.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",at.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Ce.prototype.listen=Ce.prototype.Aa,Tn.prototype.listenOnce=Tn.prototype.Ba,Tn.prototype.getLastError=Tn.prototype.Ya,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.T,Tn.prototype.getStatusText=Tn.prototype.za,Tn.prototype.getResponseJson=Tn.prototype.Va,Tn.prototype.getResponseText=Tn.prototype.aa,Tn.prototype.send=Tn.prototype.ca;var ar={createWebChannelTransport:or,ErrorCode:nt,EventType:rt,WebChannel:at,XhrIo:Tn},sr=ar.createWebChannelTransport,ur=ar.ErrorCode,cr=ar.EventType,lr=ar.WebChannel,fr=ar.XhrIo;t.default=ar}.call(this,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(4))&&"object"===typeof r&&"default"in r?r.default:r,o=n(2),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return o.__extends(t,e),t}(Error);var u=function(){function e(e){this.app=e}return e.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(e=t.sent())?[2,e]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}}))}))},e.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function c(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var l=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return c(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?c(e,(function(e){return t.decode(e)})):e},e}();var f=function(){function e(e,t){var n=this;void 0===t&&(t="us-central1"),this.app_=e,this.region_=t,this.serializer=new l,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return n.deleteService()}},this.contextProvider=new u(e),this.cancelAllRequests=new Promise((function(e){n.deleteService=function(){return e()}}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+n+"/"+e:"https://"+n+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,u,c,l,f,h,d;return o.__generator(this,(function(o){switch(o.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},u=new Headers,[4,this.contextProvider.getContext()];case 1:return(c=o.sent()).authToken&&u.append("Authorization","Bearer "+c.authToken),c.instanceIdToken&&u.append("Firebase-Instance-ID-Token",c.instanceIdToken),l=n.timeout||7e4,[4,Promise.race([this.postJSON(r,i,u),(p=l,new Promise((function(e,t){setTimeout((function(){t(new s("deadline-exceeded","deadline-exceeded"))}),p)}))),this.cancelAllRequests])];case 2:if(!(f=o.sent()))throw new s("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var u=t&&t.error;if(u){var c=u.status;if("string"===typeof c){if(!a[c])return new s("internal","internal");r=a[c],i=c}var l=u.message;"string"===typeof l&&(i=l),void 0!==(o=u.details)&&(o=n.decode(o))}}catch(f){}return"ok"===r?null:new s(r,i,o)}(f.status,f.json,this.serializer))throw h;if(!f.json)throw new s("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}var p}))}))},e}(),h="functions";function d(e,t,n){return new f(e,n)}function p(e){var t={Functions:f};e.INTERNAL.registerService(h,d,t,void 0,!0)}p(i),t.registerFunctions=p},function(e,t,n){"use strict";n.r(t),n.d(t,"isSupported",(function(){return D})),n.d(t,"registerMessaging",(function(){return P}));var r,i,o=n(4),a=n.n(o),s=n(2),u=n(16),c=(n(37),(r={})["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["should-be-overriden"]="This method should be overriden by extended classes.",r["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r["permission-default"]="The required permissions were not granted and dismissed instead.",r["permission-blocked"]="The required permissions were not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["notifications-blocked"]="Notifications have been blocked.",r["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["sw-registration-expected"]="A service worker registration was the expected input.",r["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",r["invalid-saved-token"]="Unable to access details of the saved token.",r["sw-reg-redundant"]="The service worker being used for push was made redundant.",r["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",r["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",r["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",r["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$errorInfo}",r["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r["failed-to-delete-token"]="Unable to delete the currently saved token.",r["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r["bad-scope"]="The service worker scope must be a string with at least one character.",r["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",r["bad-subscription"]="The subscription must be a valid PushSubscription.",r["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",r["failed-delete-vapid-key"]="The VAPID key could not be deleted.",r["invalid-public-vapid-key"]="The public VAPID key must be a string.",r["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",r),l=new u.ErrorFactory("messaging","Messaging",c),f=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),h="https://fcmregistrations.googleapis.com/v1";function d(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),i=0;i<e.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function p(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(s.__spread)(t)))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(i||(i={}));var v=function(){function e(){}return e.prototype.getToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,u,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,g(e)];case 1:r=s.sent(),i=y(t,n),o={method:"POST",headers:r,body:JSON.stringify(i)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(m(e),o)];case 3:return[4,s.sent().json()];case 4:return a=s.sent(),[3,6];case 5:throw u=s.sent(),l.create("token-subscribe-failed",{errorInfo:u});case 6:if(a.error)throw c=a.error.message,l.create("token-subscribe-failed",{errorInfo:c});if(!a.token)throw l.create("token-subscribe-no-token");return[2,a.token]}}))}))},e.prototype.updateToken=function(e,t,n,r){return Object(s.__awaiter)(this,void 0,void 0,(function(){var i,o,a,u,c,f;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,g(t)];case 1:i=s.sent(),o=y(n,r),a={method:"PATCH",headers:i,body:JSON.stringify(o)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(m(t)+"/"+e.fcmToken,a)];case 3:return[4,s.sent().json()];case 4:return u=s.sent(),[3,6];case 5:throw c=s.sent(),l.create("token-update-failed",{errorInfo:c});case 6:if(u.error)throw f=u.error.message,l.create("token-update-failed",{errorInfo:f});if(!u.token)throw l.create("token-update-no-token");return[2,u.token]}}))}))},e.prototype.deleteToken=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,g(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(m(e)+"/"+t.fcmToken,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,l.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),l.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))},e}();function m(e){return h+"/projects/"+e.options.projectId+"/registrations"}function g(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.installations().getToken()];case 1:return t=n.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.options.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function y(e,t){var n=p(e.getKey("p256dh")),r=p(e.getKey("auth")),i={web:{endpoint:e.endpoint,p256dh:n,auth:r}};return d(t.buffer,f.buffer)||(i.web.applicationPubKey=p(t)),i}function b(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var w="undefined",_="fcm_token_object_Store";function E(e){var t=indexedDB.open(w);t.onerror=function(e){},t.onsuccess=function(n){!function(e,t){if(e.objectStoreNames.contains(_)){var n=e.transaction(_).objectStore(_),r=new v,i=n.openCursor();i.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},i.onsuccess=function(){var n=i.result;if(n){var o=n.value;r.deleteToken(t,o),n.continue()}else e.close(),indexedDB.deleteDatabase(w)}}}(t.result,e)}}var S=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction((function(t){return t.get(e)}))},e.prototype.getIndex=function(e,t){return this.createTransaction((function(n){return n.index(e).get(t)}))},e.prototype.put=function(e){return this.createTransaction((function(t){return t.put(e)}),"readwrite")},e.prototype.delete=function(e){return this.createTransaction((function(t){return t.delete(e)}),"readwrite")},e.prototype.closeDatabase=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}}))}))},e.prototype.createTransaction=function(e,t){return void 0===t&&(t="readonly"),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,t),i=r.objectStore(this.objectStoreName),[4,T(e(i))];case 2:return o=a.sent(),[2,new Promise((function(e,t){r.oncomplete=function(){e(o)},r.onerror=function(){t(r.error)}}))]}}))}))},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise((function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(){t(r.result)},r.onerror=function(){e.dbPromise=null,n(r.error)},r.onupgradeneeded=function(t){return e.onDbUpgrade(r,t)}}))),this.dbPromise},e}();function T(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}var C=function(e){function t(t){var n=e.call(this)||this;return n.app=t,n.dbName="fcm_token_details_db",n.dbVersion=4,n.objectStoreName="fcm_token_object_Store",n}return Object(s.__extends)(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(i=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),i.createIndex("fcmToken","fcmToken",{unique:!0});case 1:E(this.app);case 2:var r=(i=e.transaction.objectStore(this.objectStoreName)).openCursor();r.onsuccess=function(){var e=r.result;if(e){var t=e.value,n=Object(s.__assign)({},t);t.createTime||(n.createTime=Date.now()),"string"===typeof t.vapidKey&&(n.vapidKey=b(t.vapidKey)),"string"===typeof t.auth&&(n.auth=b(t.auth).buffer),"string"===typeof t.auth&&(n.p256dh=b(t.p256dh).buffer),"string"===typeof t.fcmPushSet&&delete n.fcmPushSet,e.update(n),e.continue()}};break;case 3:var i,o=(i=e.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var e=o.result;if(e){var t=e.value,n=Object(s.__assign)({},t);"string"===typeof t.fcmPushSet&&delete n.fcmPushSet,e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){if(!e)throw l.create("bad-token");return I({fcmToken:e}),[2,this.getIndex("fcmToken",e)]}))}))},t.prototype.getTokenDetailsFromSWScope=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){if(!e)throw l.create("bad-scope");return I({swScope:e}),[2,this.get(e)]}))}))},t.prototype.saveTokenDetails=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){if(!e.swScope)throw l.create("bad-scope");if(!e.vapidKey)throw l.create("bad-vapid-key");if(!e.endpoint||!e.auth||!e.p256dh)throw l.create("bad-subscription");if(!e.fcmSenderId)throw l.create("bad-sender-id");if(!e.fcmToken)throw l.create("bad-token");return I(e),[2,this.put(e)]}))}))},t.prototype.deleteToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return"string"!==typeof e||0===e.length?[2,Promise.reject(l.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(t=n.sent()))throw l.create("delete-token-not-found");return[4,this.delete(t.swScope)];case 2:return n.sent(),[2,t]}}))}))},t}(S);function I(e){if(e.fcmToken&&("string"!==typeof e.fcmToken||0===e.fcmToken.length))throw l.create("bad-token");if(e.swScope&&("string"!==typeof e.swScope||0===e.swScope.length))throw l.create("bad-scope");if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw l.create("bad-vapid-key");if(e.endpoint&&("string"!==typeof e.endpoint||0===e.endpoint.length))throw l.create("bad-subscription");if(e.auth&&!(e.auth instanceof ArrayBuffer))throw l.create("bad-subscription");if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw l.create("bad-subscription");if(e.fcmSenderId&&("string"!==typeof e.fcmSenderId||0===e.fcmSenderId.length))throw l.create("bad-sender-id")}var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return Object(s.__extends)(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:if("string"!==typeof e||0===e.length)throw l.create("bad-scope");return[4,this.get(e)];case 1:return[2,(t=n.sent())?t.vapidKey:void 0]}}))}))},t.prototype.saveVapidDetails=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){if("string"!==typeof e||0===e.length)throw l.create("bad-scope");if(null===t||65!==t.length)throw l.create("bad-vapid-key");return n={swScope:e,vapidKey:t},[2,this.put(n)]}))}))},t.prototype.deleteVapidDetails=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw l.create("delete-scope-not-found");return[4,this.delete(e)];case 2:return n.sent(),[2,t]}}))}))},t}(S),A=function(){function e(e){var t=this;if(this.app=e,this.vapidDetailsModel=new k,this.subscriptionManager=new v,!e.options.messagingSenderId||"string"!==typeof e.options.messagingSenderId)throw l.create("bad-sender-id");this.INTERNAL={delete:function(){return t.delete()}},this.tokenDetailsModel=new C(e)}return e.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:if("denied"===(e=this.getNotificationPermission_()))throw l.create("notifications-blocked");return"granted"!==e?[2,null]:[4,this.getSWRegistration_()];case 1:return t=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(i=o.sent())?[2,this.manageExistingToken(t,r,n,i)]:[2,this.getNewToken(t,r,n)]}}))}))},e.prototype.manageExistingToken=function(e,t,n,r){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return function(e,t,n){if(!n.vapidKey||!d(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,i=d(e.getKey("auth"),n.auth),o=d(e.getKey("p256dh"),n.p256dh);return r&&i&&o}(t,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[3,1];case 1:return[4,this.deleteTokenFromDB(r.fcmToken)];case 2:return i.sent(),[2,this.getNewToken(e,t,n)];case 3:return[2]}}))}))},e.prototype.updateToken=function(e,t,n,r){return Object(s.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.subscriptionManager.updateToken(r,this.app,t,n)];case 1:return i=s.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.app.options.messagingSenderId,fcmToken:i,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return s.sent(),[2,i];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}}))}))},e.prototype.getNewToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.subscriptionManager.getToken(this.app,t,n)];case 1:return r=o.sent(),i={swScope:e.scope,vapidKey:n,fcmSenderId:this.app.options.messagingSenderId,fcmToken:r,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return o.sent(),[2,r]}}))}))},e.prototype.deleteToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(t=r.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}}))}))},e.prototype.deleteTokenFromDB=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.subscriptionManager.deleteToken(this.app,t)];case 2:return n.sent(),[2]}}))}))},e.prototype.getPushSubscription=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})]}}))}))},e.prototype.requestPermission=function(){throw l.create("only-available-in-window")},e.prototype.useServiceWorker=function(e){throw l.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){throw l.create("only-available-in-window")},e.prototype.onMessage=function(e,t,n){throw l.create("only-available-in-window")},e.prototype.onTokenRefresh=function(e,t,n){throw l.create("only-available-in-window")},e.prototype.setBackgroundMessageHandler=function(e){throw l.create("only-available-in-sw")},e.prototype.delete=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}}))}))},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getSubscriptionManager=function(){return this.subscriptionManager},e}();var O=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",(function(e){n.onPush(e)})),self.addEventListener("pushsubscriptionchange",(function(e){n.onSubChange(e)})),self.addEventListener("notificationclick",(function(e){n.onNotificationClick(e)})),n}return Object(s.__extends)(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(u){return[2]}return[4,this.hasVisibleClients_()];case 1:return s.sent()?[2,this.sendMessageToWindowClients_(t)]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return i=s.sent(),o=n.actions,a=Notification.maxActions,o&&a&&o.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,i.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return s.sent(),[2];case 5:return[2]}}))}))},t.prototype.onSubChange_=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=i.sent(),[3,3];case 2:throw t=i.sent(),l.create("unable-to-resubscribe",{errorInfo:t});case 3:return i.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return i.sent(),[3,8];case 5:return n=i.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope)];case 6:if(!(r=i.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw i.sent(),n;case 8:return[2]}}))}))},t.prototype.onNotificationClick_=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:if(!(e.notification&&e.notification.data&&e.notification.data.FCM_MSG))return[2];if(e.action)return[2];if(e.stopImmediatePropagation(),e.notification.close(),!(t=e.notification.data.FCM_MSG).notification)return[2];if(!(n=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action)){if(!(t.data&&"google.c.a.c_id"in t.data))return[2];n=self.location.origin}return[4,this.getWindowClient_(n)];case 1:return(r=a.sent())?[3,4]:[4,self.clients.openWindow(n)];case 2:return r=a.sent(),[4,(s=3e3,new Promise((function(e){setTimeout(e,s)})))];case 3:return a.sent(),[3,6];case 4:return[4,r.focus()];case 5:r=a.sent(),a.label=6;case 6:return r?(delete t.notification,delete t.fcmOptions,o=x(i.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,o)]):[2]}var s}))}))},t.prototype.getNotificationData_=function(e){var t;if(e&&"object"===typeof e.notification){var n=Object(s.__assign)({},e.notification);return n.data=Object(s.__assign)(Object(s.__assign)({},e.notification.data),((t={}).FCM_MSG=e,t)),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!==typeof e)throw l.create("bg-handler-function-expected");this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return t=new URL(e,self.location.href).href,[4,N()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===t){r=n[i];break}return[2,r]}}))}))},t.prototype.attemptToMessageClient_=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){if(!e)throw l.create("no-window-client-to-msg");return e.postMessage(t),[2]}))}))},t.prototype.hasVisibleClients_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return[4,N()];case 1:return[2,e.sent().some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))]}}))}))},t.prototype.sendMessageToWindowClients_=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,N()];case 1:return t=o.sent(),n=x(i.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map((function(e){return r.attemptToMessageClient_(e,n)})))];case 2:return o.sent(),[2]}}))}))},t.prototype.getSWRegistration_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){return[2,self.registration]}))}))},t.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw l.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return null==(t=n.sent())?[2,f]:[2,t]}}))}))},t}(A);function N(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function x(e,t){return{firebaseMessagingType:e,firebaseMessagingData:t}}var R=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(u.createSubscribe)((function(e){n.messageObserver=e})),n.onTokenRefreshInternal=Object(u.createSubscribe)((function(e){n.tokenRefreshObserver=e})),n.setupSWMessageListener_(),n}return Object(s.__extends)(t,e),t.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?l.create("permission-blocked"):l.create("permission-default")}}))}))},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw l.create("sw-registration-expected");if(null!=this.registrationToUse)throw l.create("use-sw-before-get-token");this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!==typeof e)throw l.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw l.create("use-public-key-before-get-token");var t=b(e);if(65!==t.length)throw l.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"===typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"===typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise((function(n,r){if(t)if("activated"!==t.state)if("redundant"!==t.state){t.addEventListener("statechange",(function i(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;r(l.create("sw-reg-redundant"))}t.removeEventListener("statechange",i)}))}else r(l.create("sw-reg-redundant"));else n(e);else r(l.create("no-sw-in-reg"))}))},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch((function(e){throw l.create("failed-serviceworker-registration",{browserErrorMessage:e.message})})).then((function(t){return e.waitForRegistrationToActivate_(t).then((function(){return e.registrationToUse=t,t.update(),t}))})))},t.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,f]}))}))},t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",(function(t){if(t.data&&t.data.firebaseMessagingType&&t.data.firebaseMessagingData){var n=t.data,r=n.firebaseMessagingType,o=n.firebaseMessagingData;e.messageObserver&&e.messageObserver.next(o);var a=o.data;if(a&&"google.c.a.c_id"in a&&"1"===a["google.c.a.e"]){var s=function(e){switch(e){case i.NOTIFICATION_CLICKED:return"notification_open";case i.PUSH_MSG_RECEIVED:return"notification_foreground";default:throw new Error}}(r);e.app.INTERNAL.analytics.logEvent(s,{message_name:a["google.c.a.c_l"],message_id:a["google.c.a.c_id"],message_time:a["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}}}),!1)},t}(A);function P(e){var t={isSupported:D};e.INTERNAL.registerService("messaging",(function(e){if(!D())throw l.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new O(e):new R(e)}),t)}function D(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}P(a.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"registerStorage",(function(){return nt}));var r=n(4),i=n.n(r),o=n(2),a="firebasestorage.googleapis.com",s="storageBucket",u=12e4,c=6e5,l=-9007199254740991,f=function(){function e(e,t){this.code_=d(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return d(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),h={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function d(e){return"storage/"+e}function p(){return new f(h.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function v(){return new f(h.CANCELED,"User canceled the upload/download.")}function m(){return new f(h.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g(){return new f(h.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function y(e,t,n){return new f(h.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function b(){return new f(h.APP_DELETED,"The Firebase app was deleted.")}function w(e,t){return new f(h.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _(e){throw new f(h.INTERNAL_ERROR,"Internal error: "+e)}var E={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function S(e){switch(e){case E.RAW:case E.BASE64:case E.BASE64URL:case E.DATA_URL:return;default:throw"Expected one of the event types: ["+E.RAW+", "+E.BASE64+", "+E.BASE64URL+", "+E.DATA_URL+"]."}}var T=function(e,t){this.data=e,this.contentType=t||null};function C(e,t){switch(e){case E.RAW:return new T(I(t));case E.BASE64:case E.BASE64URL:return new T(k(e,t));case E.DATA_URL:return new T(function(e){var t=new A(e);return t.base64?k(E.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw w(E.DATA_URL,"Malformed data URL.")}return I(t)}(t.rest)}(t),new A(t).contentType)}throw p()}function I(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function k(e,t){switch(e){case E.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw w(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case E.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw w(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw w(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var A=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw w(E.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var O,N={STATE_CHANGED:"state_changed"},x={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},R={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function P(e){switch(e){case x.RUNNING:case x.PAUSING:case x.CANCELING:return R.RUNNING;case x.PAUSED:return R.PAUSED;case x.SUCCESS:return R.SUCCESS;case x.CANCELED:return R.CANCELED;case x.ERROR:default:return R.ERROR}}function D(e){return null!=e}function M(e){return void 0!==e}function j(e){return"function"===typeof e}function L(e){return"object"===typeof e}function F(e){return L(e)&&null!==e}function U(e){return"string"===typeof e||e instanceof String}function B(e){return V(e)&&Number.isInteger(e)}function V(e){return"number"===typeof e||e instanceof Number}function q(e){return W()&&e instanceof Blob}function W(){return"undefined"!==typeof Blob}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(O||(O={}));var z=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=O.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=O.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=O.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw _("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),D(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return D(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw _("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw _("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw _("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){D(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){D(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),K=function(){function e(){}return e.prototype.createXhrIo=function(){return new z},e}();function H(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function G(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=H();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(W())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var Q=function(){function e(e,t){var n=0,r="";q(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(q(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(W()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(G.apply(null,r))}var i=t.map((function(e){return U(e)?C(E.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),Y=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n,r;try{n=e.makeFromUrl(t)}catch(i){return new e(t,"")}if(""===n.path)return n;throw r=t,new f(h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")},e.makeFromUrl=function(t){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");for(var i=a.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],s=0;s<o.length;s++){var u=o[s],c=u.regex.exec(t);if(c){var l=c[u.indices.bucket],d=c[u.indices.path];d||(d=""),n=new e(l,d),u.postModify(n);break}}if(null==n)throw function(e){return new f(h.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return n},e}();function $(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return L(n=t)&&!Array.isArray(n)?t:null}function X(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function J(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Z(e){return"https://"+a+"/v0"+e}function ee(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function te(e,t){return t}var ne=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||te},re=null;function ie(){if(re)return re;var e=[];e.push(new ne("bucket")),e.push(new ne("generation")),e.push(new ne("metageneration")),e.push(new ne("name","fullPath",!0));var t=new ne("name");t.xform=function(e,t){return function(e){return!U(e)||e.length<2?e:J(e)}(t)},e.push(t);var n=new ne("size");return n.xform=function(e,t){return D(t)?Number(t):t},e.push(n),e.push(new ne("timeCreated")),e.push(new ne("updated")),e.push(new ne("md5Hash",null,!0)),e.push(new ne("cacheControl",null,!0)),e.push(new ne("contentDisposition",null,!0)),e.push(new ne("contentEncoding",null,!0)),e.push(new ne("contentLanguage",null,!0)),e.push(new ne("contentType",null,!0)),e.push(new ne("metadata","customMetadata",!0)),re=e}function oe(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Y(n,r);return t.makeStorageReference(i)}})}(r,e),r}function ae(e,t,n){var r=$(t);return null===r?null:oe(e,r,n)}function se(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ue(e){if(!L(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!L(n))throw"Expected object for 'customMetadata' mapping."}else if(F(n))throw"Mapping for '"+t+"' cannot be an object."}}var ce="maxResults",le=1e3,fe="pageToken",he="prefixes",de="items";function pe(e,t){var n={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=e.bucket();if(null===r)throw new f(h.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s+"' property when initializing the app?");if(t[he])for(var i=0,o=t[he];i<o.length;i++){var a=o[i].replace(/\/$/,""),u=e.makeStorageReference(new Y(r,a));n.prefixes.push(u)}if(t[de])for(var c=0,l=t[de];c<l.length;c++){var d=l[c];u=e.makeStorageReference(new Y(r,d.name));n.items.push(u)}return n}function ve(e){if(!L(e)||!e)throw"Expected ListOptions object.";for(var t in e)if(t===ce){if(!B(e[ce])||e[ce]<=0)throw"Expected maxResults to be a positive number.";if(e[ce]>1e3)throw"Expected maxResults to be less than or equal to "+le+"."}else{if(t!==fe)throw"Unknown option: "+t;if(e[fe]&&!U(e[fe]))throw"Expected pageToken to be string."}}var me=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ge(e){if(!e)throw p()}function ye(e,t){return function(n,r){var i=ae(e,r,t);return ge(null!==i),i}}function be(e){return function(t,n){var r=function(e,t){var n=$(t);return null===n?null:pe(e,n)}(e,n);return ge(null!==r),r}}function we(e,t){return function(n,r){var i=ae(e,r,t);return ge(null!==i),function(e,t){var n=$(t);if(null===n)return null;if(!U(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,r=e.fullPath;return Z("/b/"+i(n)+"/o/"+i(r))+ee({alt:"media",token:t})}))[0]}(i,r)}}function _e(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new f(h.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new f(h.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new f(h.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function Ee(e){var t=_e(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new f(h.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Se(e,t,n){var r=Z(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new me(r,"GET",ye(e,n),i);return o.errorHandler=Ee(t),o}function Te(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Z(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime(),u=new me(a,"GET",be(e),s);return u.urlParams=o,u.errorHandler=_e(t),u}function Ce(e,t,n){var r=Z(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new me(r,"GET",we(e,n),i);return o.errorHandler=Ee(t),o}function Ie(e,t,n,r){var i=Z(t.fullServerUrl()),o=se(n,r),a=e.maxOperationRetryTime(),s=new me(i,"PATCH",ye(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ee(t),s}function ke(e,t){var n=Z(t.fullServerUrl()),r=e.maxOperationRetryTime();var i=new me(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Ee(t),i}function Ae(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Oe=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ne(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ge(!1)}return ge(!!n&&-1!==(t||["active"]).indexOf(n)),n}function xe(e,t,n,r,i,o,a,s){var u=new Oe(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new f(h.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var d=u.current,p=d+l,v={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},g=r.slice(d,p);if(null===g)throw m();var y=t.maxUploadRetryTime(),b=new me(n,"POST",(function(e,n){var i,a=Ne(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?ye(t,o)(e,n):null,new Oe(s,c,"final"===a,i)}),y);return b.headers=v,b.body=g.uploadData(),b.progressCallback=s||null,b.errorHandler=_e(e),b}var Re=function(e,t,n){if(j(e)||D(t)||D(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Pe=function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o};function De(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new f(h.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}(r,i,e,n.length);for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(a){throw a instanceof Error?y(o,e,a.message):y(o,e,a)}}var Me=function(e,t){var n=this;this.validator=function(t){n.optional&&!M(t)||e(t)},this.optional=!!t};function je(e,t){function n(e){if(!U(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new Me(r,t)}function Le(){return new Me((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||W()&&e instanceof Blob))throw"Expected Blob or File."}))}function Fe(e){return new Me(ue,e)}function Ue(e){return new Me(ve,e)}function Be(){return new Me((function(e){if(!(V(e)&&e>=0))throw"Expected a number 0 or greater."}))}function Ve(e,t){return new Me((function(t){if(!(null===t||D(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}),t)}function qe(e){return new Me((function(e){if(!(null===e||j(e)))throw"Expected a Function."}),e)}function We(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var ze=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=x.RUNNING,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(h.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(x.ERROR))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(h.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(x.ERROR))},this.promise_=new Promise((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===x.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case x.RUNNING:e(n);break;case x.CANCELING:t.transition_(x.CANCELED);break;case x.PAUSING:t.transition_(x.PAUSED)}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Ae(t,r,i),s={name:a.fullPath},u=Z(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=se(a,n),f=e.maxUploadRetryTime(),h=new me(u,"POST",(function(e){var t;Ne(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ge(!1)}return ge(U(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=_e(t),h}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new me(n,"POST",(function(e){var t=Ne(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){ge(!1)}n||ge(!1);var i=Number(n);return ge(!isNaN(i)),new Oe(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=_e(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new Oe(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=xe(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(s){return e.error_=s,void e.transition_(x.ERROR)}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(x.SUCCESS)):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=Se(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_(x.SUCCESS)}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ae(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+se(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Q.getBlob(c,r,l);if(null===f)throw m();var h={name:u.fullPath},d=Z(o),p=e.maxUploadRetryTime(),v=new me(d,"POST",ye(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=_e(t),v}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(x.SUCCESS)}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case x.CANCELING:case x.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case x.RUNNING:var t=this.state_===x.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case x.PAUSED:this.state_=e,this.notifyObservers_();break;case x.CANCELED:this.error_=v(),this.state_=e,this.notifyObservers_();break;case x.ERROR:case x.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case x.PAUSING:this.transition_(x.PAUSED);break;case x.CANCELING:this.transition_(x.CANCELED);break;case x.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=P(this.state_);return new Pe(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==N.STATE_CHANGED)throw"Expected one of the event types: ["+N.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=qe(!0).validator,s=Ve(null,!0).validator;function u(e){try{return void a(e)}catch(t){}try{if(s(e),!(M(e.next)||M(e.error)||M(e.complete)))throw"";return}catch(t){throw o}}var c=[je(i),Ve(u,!0),qe(!0),qe(!0)];De("on",c,arguments);var l=this;function f(e){return function(t,n,i){null!==e&&De("on",e,arguments);var o=new Re(t,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function h(e){if(null===e)throw o;u(e)}var d=[Ve(h),qe(!0),qe(!0)],p=!(M(t)||M(n)||M(r));return p?f(d):f(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(P(this.state_)){case R.SUCCESS:We(this.resolve_.bind(null,this.snapshot))();break;case R.CANCELED:case R.ERROR:We(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(P(this.state_)){case R.RUNNING:case R.PAUSED:e.next&&We(e.next.bind(e,this.snapshot))();break;case R.SUCCESS:e.complete&&We(e.complete.bind(e))();break;case R.CANCELED:case R.ERROR:e.error&&We(e.error.bind(e,this.error_))();break;default:e.error&&We(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){De("resume",[],arguments);var e=this.state_===x.PAUSED||this.state_===x.PAUSING;return e&&this.transition_(x.RUNNING),e},e.prototype.pause=function(){De("pause",[],arguments);var e=this.state_===x.RUNNING;return e&&this.transition_(x.PAUSING),e},e.prototype.cancel=function(){De("cancel",[],arguments);var e=this.state_===x.RUNNING||this.state_===x.PAUSING;return e&&this.transition_(x.CANCELING),e},e}(),Ke=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof Y?t:Y.makeFromUrl(t)}return e.prototype.toString=function(){return De("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return ie()},e.prototype.child=function(e){De("child",[je()],arguments);var t=X(this.location.path,e),n=new Y(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new Y(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new Y(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return J(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),De("put",[Le(),Fe(!0)],arguments),this.throwIfRoot_("put"),new ze(this,this.authWrapper,this.location,this.mappings(),new Q(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=E.RAW),De("putString",[je(),je(S,!0),Fe(!0)],arguments),this.throwIfRoot_("putString");var r=C(t,e),i=Object.assign({},n);return!D(i.contentType)&&D(r.contentType)&&(i.contentType=r.contentType),new ze(this,this.authWrapper,this.location,this.mappings(),new Q(r.data,!0),i)},e.prototype.delete=function(){var e=this;return De("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(t){var n=ke(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){De("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return n={pageToken:t},[4,this.list(n)];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(a=e.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){De("list",[Ue(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=e||{},i=Te(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return De("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(t){var n=Se(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return De("updateMetadata",[Fe()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=Ie(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return De("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(t){var n=Ce(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw g();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new f(h.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),He=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),Ge=function(){function e(){this.map=new Map,this.id=l}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then((function(){return t.map.delete(n)}),(function(){return t.map.delete(n)}))},e.prototype.clear=function(){this.map.forEach((function(e){e&&e.cancel(!0)})),this.map.clear()},e}(),Qe=function(){function e(t,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;D(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=u,this.maxUploadRetryTime_=c,this.requestMap_=new Ge}return e.extractBucket_=function(e){var t=e[s]||null;return null==t?null:Y.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&D(this.app_.INTERNAL)&&D(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(){return null})):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw b();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new He(b());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}();var Ye=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());M(s)?i(s):i()}catch(u){o(u)}else null!==a?((r=p()).setServerResponseProp(a.getResponseText()),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?b():v()):o(r=new f(h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new $e(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function f(t){i=setTimeout((function(){i=null,e(h,u())}),t)}function h(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];c||(e?l.call.apply(l,Object(o.__spreadArrays)([null,e],n)):u()||a?l.call.apply(l,Object(o.__spreadArrays)([null,e],n)):(r<64&&(r*=2),1===s?(s=2,t=0):t=1e3*(r+Math.random()),f(t)))}var d=!1;function p(e){d||(d=!0,c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),setTimeout((function(){a=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new $e(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===O.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new $e(a,n))}else{var s=n.getErrorCode()===O.ABORT;t(!1,new $e(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),$e=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Xe(e,t,n){var r=ee(e.urlParams),o=e.url+r,a=Object.assign({},e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,t),function(e){var t="undefined"!==typeof i.a?i.a.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(a),new Ye(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var Je=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new Qe(e,(function(e,t){return new Ke(e,t)}),Xe,this,t),this.app_=e,null!=n)this.bucket_=Y.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Y(r,""))}this.internals_=new Ze(this)}return e.prototype.ref=function(e){function t(e){if("string"!==typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(De("ref",[je(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Ke(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!==typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{Y.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return De("refFromURL",[je(t,!1)],arguments),new Ke(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){De("setMaxUploadRetryTime",[Be()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){De("setMaxOperationRetryTime",[Be()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Ze=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}(),et="storage";function tt(e,t,n){return new Je(e,new K,n)}function nt(e){var t={TaskState:R,TaskEvent:N,StringFormat:E,Storage:Je,Reference:Ke};e.INTERNAL.registerService(et,tt,t,void 0,!0)}nt(i.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(4))&&"object"===typeof r&&"default"in r?r.default:r,o=n(2),a=n(16);n(37);var s,u,c,l,f=n(33),h="0.2.20",d="FB-PERF-TRACE-START",p="FB-PERF-TRACE-STOP",v="FB-PERF-TRACE-MEASURE",m="_wt_",g="@firebase/performance/config",y="@firebase/performance/configexpire",b=((s={})["trace started"]="Trace {$traceName} was started before.",s["trace stopped"]="Trace {$traceName} is not running.",s["no window"]="Window is not available.",s["no app id"]="App id is not available.",s["no project id"]="Project id is not available.",s["no api key"]="Api key is not available.",s["invalid cc log"]="Attempted to queue invalid cc event",s["FB not default"]="Performance can only start when Firebase app instance is the default one.",s["RC response not ok"]="RC response is not ok",s["invalid attribute name"]="Attribute name {$attributeName} is invalid.",s["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",s["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",s),w=new a.ErrorFactory("performance","Performance",b),_=function(){function e(e){if(!e)throw w.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===u&&(u=new e(c)),u},e}();var E,S,T=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw w.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw w.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw w.create("no api key");return e},e.getInstance=function(){return void 0===l&&(l=new e),l},e}();function C(){return E}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e[e.PRERENDER=3]="PRERENDER",e[e.UNLOADED=4]="UNLOADED"}(S||(S={}));var I=["firebase_","google_","ga_"],k=new RegExp("^[a-zA-Z]\\w*$"),A=40,O=100;function N(){var e=_.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function x(){switch(_.getInstance().document.visibilityState){case"visible":return S.VISIBLE;case"hidden":return S.HIDDEN;case"prerender":return S.PRERENDER;default:return S.UNKNOWN}}function R(){var e=_.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var P=new f.Logger("Performance");P.logLevel=f.LogLevel.INFO;var D="0.0.1",M={loggingEnabled:!0},j="FIREBASE_INSTALLATIONS_AUTH";function L(e){var t=function(){var e=_.getInstance().localStorage,t=e.getItem(y);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(g);if(!r)return;try{return JSON.parse(r)}catch(s){return}}();return t?(U(t),Promise.resolve()):function(e){return function(){var e=T.getInstance().firebaseAppInstance.installations().getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+T.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+T.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:j+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:T.getInstance().getAppId(),app_version:h,sdk_version:D})});return fetch(r).then((function(e){if(e.ok)return e.json();throw w.create("RC response not ok")}))})).catch((function(){P.info(F)}))}(e).then((function(e){return U(e)})).then((function(e){return function(e){if(!e)return;var t=_.getInstance().localStorage;t.setItem(g,JSON.stringify(e)),t.setItem(y,String(Date.now()+60*T.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var F="Could not fetch config, will use default configs";function U(e){if(!e)return e;var t=T.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=M.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=B(t.tracesSamplingRate),t.logNetworkAfterSampling=B(t.networkRequestsSamplingRate),e}function B(e){return Math.random()<=e}var V,q=1;function W(){return q=2,V=V||function(){var e=_.getInstance().document;return new Promise((function(t){e&&"complete"!==e.readyState?e.addEventListener("readystatechange",(function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())})):t()}))}().then((function(){return function(){var e=T.getInstance().firebaseAppInstance.installations().getId();return e.then((function(e){E=e})),e}()})).then((function(e){return L(e)})).then((function(){return z()}),(function(){return z()}))}function z(){q=3}var K,H=1e4,G=3,Q=G,Y=[];function $(e){if(!e.eventTime||!e.message)throw w.create("invalid cc log");Y=o.__spreadArrays(Y,[e])}function X(){if(K)return K;var e=function(e){return function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=e.apply(void 0,r);$({message:o,eventTime:Date.now()})}}(ee);return(K=new f.Logger("@firebase/performance/cc")).logHandler=e,K}function J(e){var t=T.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&_.getInstance().requiredApisAvailable()&&(e.isAuto&&x()!==S.VISIBLE||t.loggingEnabled&&t.logTraceAfterSampling&&(3===q?Z(e):W().then((function(){return Z(e)}),(function(){return Z(e)}))))}function Z(e){C()&&setTimeout((function(){return X().log(e,1)}),0)}function ee(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:te(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=ne(e.counters));var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=ne(n));var r={application_info:te(),trace_metric:t};return JSON.stringify(r)}(e)}function te(){return{google_app_id:T.getInstance().getAppId(),app_instance_id:C(),web_app_info:{sdk_version:h,page_url:_.getInstance().getUrl(),service_worker_status:N(),visibility_state:x(),effective_connection_type:R()},application_process_state:0}}function ne(e){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))}!function e(t){setTimeout((function(){if(0!==Q){if(!Y.length)return e(H);var t=o.__spreadArrays(Y);Y=[];var n=t.map((function(e){return{source_extension_json:e.message,event_time_ms:String(e.eventTime)}})),r={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:T.getInstance().logSource,log_event:n};fetch(T.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(r)}).then((function(e){return e.ok||P.info("Call to Firebase backend failed."),e.json()})).then((function(t){var n=Number(t.next_request_wait_millis),r=isNaN(n)?H:Math.max(H,n);Q=G,e(r)})).catch((function(){Y=o.__spreadArrays(t,Y),Q--,P.info("Tries left: "+Q+"."),e(H)}))}}),t)}(5500);var re=100,ie="_",oe=["_fp","_fcp","_fid"];var ae=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=_.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=d+"-"+this.randomId+"-"+this.name,this.traceStopMark=p+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||v+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw w.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw w.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),J(this)},e.prototype.record=function(e,t,n){if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=o.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var a=i[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}J(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]&&this.putMetric(e,0),this.counters[e]+=t},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>re||!(r&&r.startsWith(m)&&oe.indexOf(n)>-1)&&n.startsWith(ie))throw w.create("invalide custom metric name",{customMetricName:e});var n,r;this.counters[e]=t},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>A)&&!I.some((function(e){return n.startsWith(e)}))&&!!n.match(k),i=function(e){return 0!==e.length&&e.length<=O}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw w.create("invalid attribute name",{attributeName:e});if(!i)throw w.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return o.__assign({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=_.getInstance().getUrl();if(i){var o=new e(m+i,!0),a=Math.floor(1e3*_.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}J(o)}},e.createUserTimingTrace=function(t){J(new e(t,!1,t))},e}();function se(e){var t=e;if(t&&void 0!==t.responseStart){var n=_.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=T.getInstance();t.instrumentationEnabled&&e.url!==t.logEndPointUrl.split("?")[0]&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return X().log(e,0)}),0)}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var ue=5e3;function ce(){C()&&(setTimeout((function(){return function(){var e=_.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){ae.createOobTrace(t,n),r=void 0}),ue);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),ae.createOobTrace(t,n,e))}))}else ae.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=_.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){se(r[n])}e.setupObserver("resource",se)}()}),0),setTimeout((function(){return function(){for(var e=_.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){le(r[n])}e.setupObserver("measure",le)}()}),0))}function le(e){var t=e.name;t.substring(0,v.length)!==v&&ae.createUserTimingTrace(t)}var fe=function(){function e(e){this.app=e,_.getInstance().requiredApisAvailable()?W().then(ce,ce):P.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return e.prototype.trace=function(e){return new ae(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return T.getInstance().instrumentationEnabled},set:function(e){T.getInstance().instrumentationEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return T.getInstance().dataCollectionEnabled},set:function(e){T.getInstance().dataCollectionEnabled=e},enumerable:!0,configurable:!0}),e}(),he="[DEFAULT]";function de(e){e.INTERNAL.registerService("performance",(function(e){if(e.name!==he)throw w.create("FB not default");if("undefined"===typeof window)throw w.create("no window");return function(e){c=e}(window),T.getInstance().firebaseAppInstance=e,new fe(e)}),{})}de(i),t.registerPerformance=de},function(e,t,n){"use strict";n.r(t),n.d(t,"factory",(function(){return C})),n.d(t,"registerAnalytics",(function(){return k})),n.d(t,"resetGlobalVars",(function(){return S})),n.d(t,"settings",(function(){return T}));var r,i,o,a=n(4),s=n.n(a),u=n(2),c=(n(37),n(16)),l="measurementId",f="firebase_id",h="origin";function d(e){return Array.isArray(window[e])}function p(e,t,n){var i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];window[t].push(arguments)};return window[n]&&"function"===typeof window[n]&&(i=window[n]),window[n]=function(e,t){return function(n,i,o){if(n===r.EVENT){var a=[];if(o&&o.send_to){var s=o.send_to;Array.isArray(s)||(s=[s]);for(var u=0,c=s;u<c.length;u++){var l=c[u],f=t[l];if(!f){a=[];break}a.push(f)}}if(0===a.length)for(var h=0,d=Object.values(t);h<d.length;h++){var p=d[h];a.push(p)}Promise.all(a).then((function(){return e(r.EVENT,i,o||{})})).catch((function(e){return console.error(e)}))}else if(n===r.CONFIG){(t[i]||Promise.resolve()).then((function(){e(r.CONFIG,i,o)})).catch((function(e){return console.error(e)}))}else e(r.SET,i)}}(i,e),{gtagCore:i,wrappedGtag:window[n]}}!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(r||(r={})),function(e){e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(i||(i={}));var v,m,g=((o={})["no-ga-id"]='"'+l+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',o["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",o["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",o),y=new c.ErrorFactory("analytics","Analytics",g),b={},w="dataLayer",_="gtag",E=!1;function S(e,t){void 0===e&&(e=!1),void 0===t&&(t={}),E=e,b=t,w="dataLayer",_="gtag"}function T(e){if(E)throw y.create("already-initialized");e.dataLayerName&&(w=e.dataLayerName),e.gtagName&&(_=e.gtagName)}function C(e,t){if(!e.options[l])throw y.create("no-ga-id");var n=e.options[l];if(null!=b[n])throw y.create("already-exists",{id:n});if(!E){d(w)||function(e){var t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?l="+e,t.async=!0,document.head.appendChild(t)}(w),function(e){d(e)?window[e]:window[e]=[]}(w);var i=p(b,w,_),o=i.wrappedGtag,a=i.gtagCore;m=o,v=a,E=!0}b[n]=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(u.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.installations().getId()];case 1:return n=o.sent(),t("js",new Date),t(r.CONFIG,e.options[l],((i={})[f]=n,i[h]="firebase",i.update=!0,i)),[2]}}))}))}(e,v);var s={app:e,logEvent:function(e,t,i){return function(e,t,n,i,o){var a=i||{};o&&o.global||(a=Object(u.__assign)(Object(u.__assign)({},i),{send_to:t})),e(r.EVENT,n,a||{})}(m,n,e,t,i)},setCurrentScreen:function(e,t){return function(e,t,n,i){i&&i.global?e(r.SET,{screen_name:n}):e(r.CONFIG,t,{update:!0,screen_name:n})}(m,n,e,t)},setUserId:function(e,t){return function(e,t,n,i){i&&i.global?e(r.SET,{user_id:n}):e(r.CONFIG,t,{update:!0,user_id:n})}(m,n,e,t)},setUserProperties:function(e,t){return function(e,t,n,i){if(i&&i.global){for(var o={},a=0,s=Object.keys(n);a<s.length;a++){var u=s[a];o["user_properties."+u]=n[u]}e(r.SET,o)}else e(r.CONFIG,t,{update:!0,user_properties:n})}(m,n,e,t)},setAnalyticsCollectionEnabled:function(t){return function(e,t){window["ga-disable-"+e]=!t}(e.options[l],t)}};return t({INTERNAL:{analytics:{logEvent:s.logEvent}}}),s}var I="analytics";function k(e){e.INTERNAL.registerService(I,C,{settings:T,EventName:i},void 0,!1)}k(s.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(4))&&"object"===typeof r&&"default"in r?r.default:r;n(37);var o,a=n(2),s=n(16),u=n(33),c=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),l=((o={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",o["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",o["registration-api-key"]="Undefined API key. Check Firebase app initialization.",o["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",o["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",o["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",o["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",o["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",o["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",o["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',o["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',o["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",o["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",o),f=new s.ErrorFactory("remoteconfig","Remote Config",l);var h=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,s,u,c,l,h,d,p,v,m,g,y,b,w,_;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=a.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===E&&(E=navigator),E.languages&&E.languages[0]||E.language)},c={method:"POST",headers:s,body:JSON.stringify(u)},l=fetch(o,c),h=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return a.sent(),[4,l];case 4:return d=a.sent(),[3,6];case 5:throw p=a.sent(),v="fetch-client-network","AbortError"===p.name&&(v="fetch-timeout"),f.create(v,{originalErrorMessage:p.message});case 6:if(m=d.status,g=d.headers.get("ETag")||void 0,200!==d.status)return[3,11];w=void 0,a.label=7;case 7:return a.trys.push([7,9,,10]),[4,d.json()];case 8:return w=a.sent(),[3,10];case 9:throw _=a.sent(),f.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:y=w.entries,b=w.state,a.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===b?m=500:"NO_CHANGE"===b?m=304:"NO_TEMPLATE"!==b&&"EMPTY_CONFIG"!==b||(y={}),304!==m&&200!==m)throw f.create("fetch-status",{httpStatus:m});return[2,{status:m,eTag:g,config:y}]}var E}))}))},e}(),d=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),p="",v=["1","true","t","yes","y","on"],m=function(){function e(e,t){void 0===t&&(t=p),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&v.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),g=6e4,y=432e5,b=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:g,minimumFetchIntervalMillis:y},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=u.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=u.LogLevel.SILENT;break;default:this._logger.logLevel=u.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),e.prototype.activate=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(t){return[2,new Promise((function(t,n){return a.__awaiter(e,void 0,void 0,(function(){var e,r,i,o=this;return a.__generator(this,(function(u){switch(u.label){case 0:e=new d,setTimeout((function(){return a.__awaiter(o,void 0,void 0,(function(){return a.__generator(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return u.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return u.sent(),t(),[3,6];case 4:return r=u.sent(),l="fetch-throttle",i=(c=r)instanceof s.FirebaseError&&-1!==c.code.indexOf(l)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(i)];case 5:return u.sent(),n(r),[3,6];case 6:return[2]}var c,l}))}))}))]}))}))},e.prototype.fetchAndActivate=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(a.__assign(a.__assign({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new m("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new m("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new m("static"))},e}();function w(e,t){var n=e.target.error||void 0;return f.create(t,{originalErrorMessage:n&&n.message})}var _="app_namespace_store",E="firebase_remote_config",S=1;var T=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open(E,S);n.onerror=function(e){t(w(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(_,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([_],"readonly").objectStore(_),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(w(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(u){i(f.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.set=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([_],"readwrite").objectStore(_),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(w(e,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(f.create("storage-set",{originalErrorMessage:c&&c.message}))}}))]}}))}))},e.prototype.delete=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([_],"readwrite").objectStore(_),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(w(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(u){i(f.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),C=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}(),I=1e3,k=2,A=144e5,O=.5;function N(e){var t=I*Math.pow(k,e),n=Math.round(O*t*(Math.random()-.5)*2);return Math.min(A,t+n)}function x(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(f.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var R=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return a.__awaiter(this,void 0,void 0,(function(){var t,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,x(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof s.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+N(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),P="@firebase/remote-config";function D(e){e.INTERNAL.registerService("remoteConfig",(function(t,n,r){if("undefined"===typeof window)throw f.create("registration-window");var i=t.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw f.create("registration-project-id");if(!a)throw f.create("registration-api-key");if(!s)throw f.create("registration-app-id");r=r||"firebase";var l=new T(s,t.name,r),d=new C(l),p=new u.Logger(P);p.logLevel=u.LogLevel.ERROR;var v=new h(t.installations(),e.SDK_VERSION,r,o,a,s),m=new R(v,l),g=new c(m,l,d,p),y=new b(t,g,d,l,p);return y.ensureInitialized(),y}),void 0,void 0,!0)}D(i),t.registerRemoteConfig=D},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r,o=n(19),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function h(e,t){return e(t={exports:{}},t.exports),t.exports}var d="object"==typeof f&&f&&f.Object===Object&&f,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),m=v.Symbol,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,w=m?m.toStringTag:void 0;var _=function(e){var t=y.call(e,w),n=e[w];try{e[w]=void 0;var r=!0}catch(o){}var i=b.call(e);return r&&(t?e[w]=n:delete e[w]),i},E=Object.prototype.toString;var S=function(e){return E.call(e)},T="[object Null]",C="[object Undefined]",I=m?m.toStringTag:void 0;var k=function(e){return null==e?void 0===e?C:T:I&&I in Object(e)?_(e):S(e)};var A=function(e){return null!=e&&"object"==typeof e},O="[object Arguments]";var N=function(e){return A(e)&&k(e)==O},x=Object.prototype,R=x.hasOwnProperty,P=x.propertyIsEnumerable,D=N(function(){return arguments}())?N:function(e){return A(e)&&R.call(e,"callee")&&!P.call(e,"callee")},M=Array.isArray;var j=function(){return!1},L=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?v.Buffer:void 0,o=(i?i.isBuffer:void 0)||j;e.exports=o})),F=9007199254740991,U=/^(?:0|[1-9]\d*)$/;var B=function(e,t){var n=typeof e;return!!(t=null==t?F:t)&&("number"==n||"symbol"!=n&&U.test(e))&&e>-1&&e%1==0&&e<t},V=9007199254740991;var q=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=V},W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var z=function(e){return A(e)&&q(e.length)&&!!W[k(e)]};var K=function(e){return function(t){return e(t)}},H=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&d.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),G=H&&H.isTypedArray,Q=G?K(G):z,Y=Object.prototype.hasOwnProperty;var $=function(e,t){var n=M(e),r=!n&&D(e),i=!n&&!r&&L(e),o=!n&&!r&&!i&&Q(e),a=n||r||i||o,s=a?l(e.length,String):[],u=s.length;for(var c in e)!t&&!Y.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||B(c,u))||s.push(c);return s},X=Object.prototype;var J=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)};var Z=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ee=Object.prototype.hasOwnProperty;var te=function(e){if(!J(e))return Z(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ne=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},re="[object AsyncFunction]",ie="[object Function]",oe="[object GeneratorFunction]",ae="[object Proxy]";var se=function(e){if(!ne(e))return!1;var t=k(e);return t==ie||t==oe||t==re||t==ae};var ue=function(e){return null!=e&&q(e.length)&&!se(e)};var ce=function(e){return ue(e)?$(e):te(e)},le="[object Symbol]";var fe=function(e){return"symbol"==typeof e||A(e)&&k(e)==le},he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/;var pe=function(e,t){if(M(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fe(e))||(de.test(e)||!he.test(e)||null!=t&&e in Object(t))},ve=v["__core-js_shared__"],me=function(){var e=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ge=function(e){return!!me&&me in e},ye=Function.prototype.toString;var be=function(e){if(null!=e){try{return ye.call(e)}catch(t){}try{return e+""}catch(t){}}return""},we=/^\[object .+?Constructor\]$/,_e=Function.prototype,Ee=Object.prototype,Se=_e.toString,Te=Ee.hasOwnProperty,Ce=RegExp("^"+Se.call(Te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ie=function(e){return!(!ne(e)||ge(e))&&(se(e)?Ce:we).test(be(e))};var ke=function(e,t){return null==e?void 0:e[t]};var Ae=function(e,t){var n=ke(e,t);return Ie(n)?n:void 0},Oe=Ae(Object,"create");var Ne=function(){this.__data__=Oe?Oe(null):{},this.size=0};var xe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Re="__lodash_hash_undefined__",Pe=Object.prototype.hasOwnProperty;var De=function(e){var t=this.__data__;if(Oe){var n=t[e];return n===Re?void 0:n}return Pe.call(t,e)?t[e]:void 0},Me=Object.prototype.hasOwnProperty;var je=function(e){var t=this.__data__;return Oe?void 0!==t[e]:Me.call(t,e)},Le="__lodash_hash_undefined__";var Fe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Oe&&void 0===t?Le:t,this};function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ue.prototype.clear=Ne,Ue.prototype.delete=xe,Ue.prototype.get=De,Ue.prototype.has=je,Ue.prototype.set=Fe;var Be=Ue;var Ve=function(){this.__data__=[],this.size=0};var qe=function(e,t){return e===t||e!==e&&t!==t};var We=function(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1},ze=Array.prototype.splice;var Ke=function(e){var t=this.__data__,n=We(t,e);return!(n<0)&&(n==t.length-1?t.pop():ze.call(t,n,1),--this.size,!0)};var He=function(e){var t=this.__data__,n=We(t,e);return n<0?void 0:t[n][1]};var Ge=function(e){return We(this.__data__,e)>-1};var Qe=function(e,t){var n=this.__data__,r=We(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ye.prototype.clear=Ve,Ye.prototype.delete=Ke,Ye.prototype.get=He,Ye.prototype.has=Ge,Ye.prototype.set=Qe;var $e=Ye,Xe=Ae(v,"Map");var Je=function(){this.size=0,this.__data__={hash:new Be,map:new(Xe||$e),string:new Be}};var Ze=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var et=function(e,t){var n=e.__data__;return Ze(t)?n["string"==typeof t?"string":"hash"]:n.map};var tt=function(e){var t=et(this,e).delete(e);return this.size-=t?1:0,t};var nt=function(e){return et(this,e).get(e)};var rt=function(e){return et(this,e).has(e)};var it=function(e,t){var n=et(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ot(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ot.prototype.clear=Je,ot.prototype.delete=tt,ot.prototype.get=nt,ot.prototype.has=rt,ot.prototype.set=it;var at=ot,st="Expected a function";function ut(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(st);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ut.Cache||at),n}ut.Cache=at;var ct=ut,lt=500;var ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ht=/\\(\\)?/g,dt=function(e){var t=ct(e,(function(e){return n.size===lt&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ft,(function(e,n,r,i){t.push(r?i.replace(ht,"$1"):n||e)})),t}));var pt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},vt=1/0,mt=m?m.prototype:void 0,gt=mt?mt.toString:void 0;var yt=function e(t){if("string"==typeof t)return t;if(M(t))return pt(t,e)+"";if(fe(t))return gt?gt.call(t):"";var n=t+"";return"0"==n&&1/t==-vt?"-0":n};var bt=function(e){return null==e?"":yt(e)};var wt=function(e,t){return M(e)?e:pe(e,t)?[e]:dt(bt(e))},_t=1/0;var Et=function(e){if("string"==typeof e||fe(e))return e;var t=e+"";return"0"==t&&1/e==-_t?"-0":t};var St=function(e,t){for(var n=0,r=(t=wt(t,e)).length;null!=e&&n<r;)e=e[Et(t[n++])];return n&&n==r?e:void 0};var Tt=function(e,t,n){var r=null==e?void 0:St(e,t);return void 0===r?n:r},Ct=function(e){var t={ref:function(t){var n=i._ensureService("firestore",e);return t?n.collection("fl_settings").doc(t):n.collection("fl_settings")},getRaw:function(e){void 0===e&&(e={});var n=e.settingsKey,r=s(e,["settingsKey"]);return o.applyOptionsForCF(t.ref(n),r).get({source:r.source||"default"})},get:function(e){void 0===e&&(e={});var n=e.settingsKey,r=s(e,["settingsKey"]);return u(this,void 0,void 0,(function(){var e,i,s,u;return c(this,(function(c){switch(c.label){case 0:return e=o.pluckResultFields(r.fields),[4,t.getRaw(a({settingsKey:n},r))];case 1:return i=c.sent(),n?[4,e((u={},u[n]=i.data(),u))]:[3,3];case 2:return[2,c.sent()[n]];case 3:return i.empty?[2,[]]:(s={},i.forEach((function(e){var t=e.data();s[Tt(t,"_fl_meta_.fl_id",e.id)]=t})),[2,e(s)])}}))}))},setEnvironment:function(t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return e.env=t,[2,t]}))}))},getEnvironment:function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,e.env]}))}))},setLocale:function(t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return e.locale=t,[2,t]}))}))},getLocale:function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,e.locale]}))}))},getAvailableLocales:function(){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,i._ensureService("firestore",e).collection("fl_locales").get({source:"default"})];case 1:return(t=r.sent()).empty?[2,{}]:(n={},t.forEach((function(e){var t=e.data();n[e.id]=t})),[2,n])}}))}))},getGlobals:function(e){return void 0===e&&(e={}),u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,t.get(a({},e,{settingsKey:"globals"}))]}))}))},getImageSizes:function(e){return void 0===e&&(e={}),u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return[4,t.get(a({},e,{settingsKey:"general"}))];case 1:return n=r.sent(),[2,Tt(n,"imageSizes")]}}))}))},getDefaultPermissionsGroup:function(e){return void 0===e&&(e={}),u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return[4,t.get(a({},e,{settingsKey:"general"}))];case 1:return n=r.sent(),[2,Tt(n,"defaultPermissionsGroup")]}}))}))},subscribeRaw:function(n){var r=n.settingsKey,i=n.callback,a=s(n,["settingsKey","callback"]),u=o.applyOptionsForCF(t.ref(r),a),c=[];return e.usesAdminApp||c.push({includeMetadataChanges:!!a.includeMetadataChanges}),c.push((function(e){return i(null,e)}),(function(e){return i(e,null)})),u.onSnapshot.apply(u,c)},subscribe:function(e){var n=e.settingsKey,r=e.callback,i=e.changeType,l=s(e,["settingsKey","callback","changeType"]),f=o.pluckResultFields(l.fields);return t.subscribeRaw(a({settingsKey:n},l,{callback:function(e,t){return u(this,void 0,void 0,(function(){var o,a,s;return c(this,(function(u){switch(u.label){case 0:return e?[2,r(e,null)]:n?[4,f((s={},s[n]=t.data(),s))]:[3,2];case 1:return o=u.sent(),[2,r(null,o[n])];case 2:if(t.empty)return[2,r(null,[])];if(a={},i){if(t.docChanges().forEach((function(e){if(e.type===i){var t=e.doc.data();a[Tt(t,"_fl_meta_.fl_id",e.doc.id)]=t}})),!ce(a).length)return[2]}else t.forEach((function(e){var t=e.data();a[Tt(t,"_fl_meta_.fl_id",e.id)]=t}));return[2,r(null,f(a))]}}))}))}}))},subscribeGlobals:function(e){return t.subscribe(a({},e,{settingsKey:"globals"}))},subscribeImageSizes:function(e){return t.subscribe(a({},e,{settingsKey:"general",fields:["imageSizes"],callback:function(t,n){return t?e.callback(t,n):e.callback(null,Tt(n,"imageSizes",n))}}))},subscribeDefaultPermissionsGroup:function(e){return t.subscribe(a({},e,{settingsKey:"general",fields:["defaultPermissionsGroup"],callback:function(t,n){return t?e.callback(t,n):e.callback(null,Tt(n,"defaultPermissionsGroup",n))}}))}};return t},It=function(e){return"cf"===e.dbType?Ct(e):null};i._registerModule("settings",It),t.factory=Ct,t.register=It}).call(this,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r,o=n(19),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=function(e){var t={ref:function(t){return i._ensureService("database",e).ref(function(e){return"/flamelink/settings/"+(e||"")}(t))},getRaw:function(e){var n=e.settingsKey,r=s(e,["settingsKey"]);return o.applyOptionsForRTDB(t.ref(n),r).once(r.event||"value")},get:function(e){var n=e.settingsKey,r=s(e,["settingsKey"]);return u(this,void 0,void 0,(function(){var e,i,s,u;return c(this,(function(c){switch(c.label){case 0:return e=o.pluckResultFields(r.fields),[4,t.getRaw(a({settingsKey:n},r))];case 1:return i=c.sent(),s=r.needsWrap&&n?o.wrap(n,i.val()):i.val(),[4,e(s)];case 2:return u=c.sent(),[2,r.needsWrap?o.unwrap(n,u):u]}}))}))},setEnvironment:function(t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return e.env=t,[2,t]}))}))},getEnvironment:function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,e.env]}))}))},setLocale:function(t){return u(this,void 0,void 0,(function(){return c(this,(function(n){return e.locale=t,[2,t]}))}))},getLocale:function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,e.locale]}))}))},getAvailableLocales:function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,t.get({settingsKey:"locales"})]}))}))},getGlobals:function(e){return void 0===e&&(e={}),u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,t.get(a({},e,{needsWrap:!0,settingsKey:"globals"}))]}))}))},getImageSizes:function(e){return void 0===e&&(e={}),u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,t.get(a({},e,{settingsKey:"general/imageSizes"}))]}))}))},getDefaultPermissionsGroup:function(e){return void 0===e&&(e={}),u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,t.get(a({},e,{settingsKey:"general/defaultPermissionsGroup"}))]}))}))},subscribeRaw:function(e){var n=e.settingsKey,r=e.callback,i=s(e,["settingsKey","callback"]),a=o.applyOptionsForRTDB(t.ref(n),i);a.on(i.event||"value",(function(e){return r(null,e)}),(function(e){return r(e,null)}));return function(){return a.off(i.event||"value")}},subscribe:function(e){var n=e.settingsKey,r=e.callback,i=s(e,["settingsKey","callback"]),l=o.pluckResultFields(i.fields);return t.subscribeRaw(a({settingsKey:n},i,{callback:function(e,t){return u(this,void 0,void 0,(function(){var a,s;return c(this,(function(u){switch(u.label){case 0:return e?[2,r(e,null)]:(a=i.needsWrap&&n?o.wrap(n,t.val()):t.val(),[4,l(a)]);case 1:return s=u.sent(),[2,r(null,i.needsWrap&&n?o.unwrap(n,s):s)]}}))}))}}))},subscribeGlobals:function(e){return t.subscribe(a({},e,{settingsKey:"globals"}))},subscribeImageSizes:function(e){return t.subscribe(a({},e,{settingsKey:"general/imageSizes"}))},subscribeDefaultPermissionsGroup:function(e){return t.subscribe(a({},e,{settingsKey:"general/defaultPermissionsGroup"}))}};return t},f=function(e){return"rtdb"===e.dbType?l(e):null};i._registerModule("settings",f),t.factory=l,t.register=f},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r,o=n(19);n(52);var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Array.isArray,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function h(e,t){return e(t={exports:{}},t.exports),t.exports}var d="object"==typeof f&&f&&f.Object===Object&&f,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),m=v.Symbol,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,w=m?m.toStringTag:void 0;var _=function(e){var t=y.call(e,w),n=e[w];try{e[w]=void 0;var r=!0}catch(o){}var i=b.call(e);return r&&(t?e[w]=n:delete e[w]),i},E=Object.prototype.toString;var S=function(e){return E.call(e)},T="[object Null]",C="[object Undefined]",I=m?m.toStringTag:void 0;var k=function(e){return null==e?void 0===e?C:T:I&&I in Object(e)?_(e):S(e)};var A=function(e){return null!=e&&"object"==typeof e},O="[object Symbol]";var N=function(e){return"symbol"==typeof e||A(e)&&k(e)==O},x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/;var P=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!N(e))||(R.test(e)||!x.test(e)||null!=t&&e in Object(t))};var D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},M="[object AsyncFunction]",j="[object Function]",L="[object GeneratorFunction]",F="[object Proxy]";var U=function(e){if(!D(e))return!1;var t=k(e);return t==j||t==L||t==M||t==F},B=v["__core-js_shared__"],V=function(){var e=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var q=function(e){return!!V&&V in e},W=Function.prototype.toString;var z=function(e){if(null!=e){try{return W.call(e)}catch(t){}try{return e+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,H=Function.prototype,G=Object.prototype,Q=H.toString,Y=G.hasOwnProperty,$=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var X=function(e){return!(!D(e)||q(e))&&(U(e)?$:K).test(z(e))};var J=function(e,t){return null==e?void 0:e[t]};var Z=function(e,t){var n=J(e,t);return X(n)?n:void 0},ee=Z(Object,"create");var te=function(){this.__data__=ee?ee(null):{},this.size=0};var ne=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re="__lodash_hash_undefined__",ie=Object.prototype.hasOwnProperty;var oe=function(e){var t=this.__data__;if(ee){var n=t[e];return n===re?void 0:n}return ie.call(t,e)?t[e]:void 0},ae=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;return ee?void 0!==t[e]:ae.call(t,e)},ue="__lodash_hash_undefined__";var ce=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?ue:t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=te,le.prototype.delete=ne,le.prototype.get=oe,le.prototype.has=se,le.prototype.set=ce;var fe=le;var he=function(){this.__data__=[],this.size=0};var de=function(e,t){return e===t||e!==e&&t!==t};var pe=function(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1},ve=Array.prototype.splice;var me=function(e){var t=this.__data__,n=pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ve.call(t,n,1),--this.size,!0)};var ge=function(e){var t=this.__data__,n=pe(t,e);return n<0?void 0:t[n][1]};var ye=function(e){return pe(this.__data__,e)>-1};var be=function(e,t){var n=this.__data__,r=pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=he,we.prototype.delete=me,we.prototype.get=ge,we.prototype.has=ye,we.prototype.set=be;var _e=we,Ee=Z(v,"Map");var Se=function(){this.size=0,this.__data__={hash:new fe,map:new(Ee||_e),string:new fe}};var Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ce=function(e,t){var n=e.__data__;return Te(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ie=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t};var ke=function(e){return Ce(this,e).get(e)};var Ae=function(e){return Ce(this,e).has(e)};var Oe=function(e,t){var n=Ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ne.prototype.clear=Se,Ne.prototype.delete=Ie,Ne.prototype.get=ke,Ne.prototype.has=Ae,Ne.prototype.set=Oe;var xe=Ne,Re="Expected a function";function Pe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Re);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pe.Cache||xe),n}Pe.Cache=xe;var De=Pe,Me=500;var je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/\\(\\)?/g,Fe=function(e){var t=De(e,(function(e){return n.size===Me&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(je,(function(e,n,r,i){t.push(r?i.replace(Le,"$1"):n||e)})),t}));var Ue=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Be=1/0,Ve=m?m.prototype:void 0,qe=Ve?Ve.toString:void 0;var We=function e(t){if("string"==typeof t)return t;if(l(t))return Ue(t,e)+"";if(N(t))return qe?qe.call(t):"";var n=t+"";return"0"==n&&1/t==-Be?"-0":n};var ze=function(e){return null==e?"":We(e)};var Ke=function(e,t){return l(e)?e:P(e,t)?[e]:Fe(ze(e))},He=1/0;var Ge=function(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-He?"-0":t};var Qe=function(e,t){for(var n=0,r=(t=Ke(t,e)).length;null!=e&&n<r;)e=e[Ge(t[n++])];return n&&n==r?e:void 0};var Ye=function(e,t,n){var r=null==e?void 0:Qe(e,t);return void 0===r?n:r};var $e=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Xe="[object Arguments]";var Je=function(e){return A(e)&&k(e)==Xe},Ze=Object.prototype,et=Ze.hasOwnProperty,tt=Ze.propertyIsEnumerable,nt=Je(function(){return arguments}())?Je:function(e){return A(e)&&et.call(e,"callee")&&!tt.call(e,"callee")};var rt=function(){return!1},it=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?v.Buffer:void 0,o=(i?i.isBuffer:void 0)||rt;e.exports=o})),ot=9007199254740991,at=/^(?:0|[1-9]\d*)$/;var st=function(e,t){var n=typeof e;return!!(t=null==t?ot:t)&&("number"==n||"symbol"!=n&&at.test(e))&&e>-1&&e%1==0&&e<t},ut=9007199254740991;var ct=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ut},lt={};lt["[object Float32Array]"]=lt["[object Float64Array]"]=lt["[object Int8Array]"]=lt["[object Int16Array]"]=lt["[object Int32Array]"]=lt["[object Uint8Array]"]=lt["[object Uint8ClampedArray]"]=lt["[object Uint16Array]"]=lt["[object Uint32Array]"]=!0,lt["[object Arguments]"]=lt["[object Array]"]=lt["[object ArrayBuffer]"]=lt["[object Boolean]"]=lt["[object DataView]"]=lt["[object Date]"]=lt["[object Error]"]=lt["[object Function]"]=lt["[object Map]"]=lt["[object Number]"]=lt["[object Object]"]=lt["[object RegExp]"]=lt["[object Set]"]=lt["[object String]"]=lt["[object WeakMap]"]=!1;var ft=function(e){return A(e)&&ct(e.length)&&!!lt[k(e)]};var ht=function(e){return function(t){return e(t)}},dt=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&d.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),pt=dt&&dt.isTypedArray,vt=pt?ht(pt):ft,mt=Object.prototype.hasOwnProperty;var gt=function(e,t){var n=l(e),r=!n&&nt(e),i=!n&&!r&&it(e),o=!n&&!r&&!i&&vt(e),a=n||r||i||o,s=a?$e(e.length,String):[],u=s.length;for(var c in e)!t&&!mt.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||st(c,u))||s.push(c);return s},yt=Object.prototype;var bt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yt)};var wt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),_t=Object.prototype.hasOwnProperty;var Et=function(e){if(!bt(e))return wt(e);var t=[];for(var n in Object(e))_t.call(e,n)&&"constructor"!=n&&t.push(n);return t};var St=function(e){return null!=e&&ct(e.length)&&!U(e)};var Tt=function(e){return St(e)?gt(e):Et(e)};var Ct=function(e,t){return Ue(t,(function(t){return e[t]}))};var It=function(e){return null==e?[]:Ct(e,Tt(e))};var kt=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var At=function(e,t,n){if(!D(n))return!1;var r=typeof t;return!!("number"==r?St(n)&&st(t,n.length):"string"==r&&t in n)&&de(n[t],e)},Ot=NaN,Nt=/^\s+|\s+$/g,xt=/^[-+]0x[0-9a-f]+$/i,Rt=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,Dt=parseInt;var Mt=function(e){if("number"==typeof e)return e;if(N(e))return Ot;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Nt,"");var n=Rt.test(e);return n||Pt.test(e)?Dt(e.slice(2),n?2:8):xt.test(e)?Ot:+e},jt=1/0,Lt=17976931348623157e292;var Ft=function(e){return e?(e=Mt(e))===jt||e===-jt?(e<0?-1:1)*Lt:e===e?e:0:0===e?e:0};var Ut=function(e){var t=Ft(e),n=t%1;return t===t?n?t-n:t:0},Bt=Math.ceil,Vt=Math.max;var qt=function(e,t,n){t=(n?At(e,t,n):void 0===t)?1:Vt(Ut(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(Bt(r/t));i<r;)a[o++]=kt(e,i,i+=t);return a};var Wt=function(){if(!arguments.length)return[];var e=arguments[0];return l(e)?e:[e]},zt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return e.then(t)}),Promise.resolve(e))}},Kt=function(e){var t={ref:function(t,n){var r=i._ensureService("firestore",e),o=Wt(t),a=o[0],s=o[1],u=r.collection("fl_content").where("_fl_meta_.env","==",Ye(n,"env",e.env)).where("_fl_meta_.locale","==",Ye(n,"locale",e.locale));return a&&(u=u.where("_fl_meta_.schema","==",a)),s?u.where("_fl_meta_.fl_id","==",s):u},getRaw:function(e){var n=e.schemaKey,r=e.entryId,i=s(e,["schemaKey","entryId"]);return o.applyOptionsForCF(t.ref([n,r],i),i).get({source:i.source||"default"})},get:function(n){void 0===n&&(n={});var r=n.schemaKey,i=n.entryId,l=s(n,["schemaKey","entryId"]);return u(this,void 0,void 0,(function(){var n,s,u,f,h,d,p;return c(this,(function(c){switch(c.label){case 0:return[4,t.getRaw(a({schemaKey:r,entryId:i},l))];case 1:return(n=c.sent()).empty?[2,null]:(s=o.populateEntriesForCF(e,l),u=o.pluckResultFields(l.fields),f={},n.forEach((function(e){var t=e.data();f[Ye(t,"_fl_meta_.fl_id",e.id)]=t})),[4,Promise.all([Ye(e,"modules.schemas").get({schemaKey:r}),zt(u,s)(f)])]);case 2:return h=c.sent(),d=h[0],p=h[1],"single"===Ye(d,"type")?[2,It(p)[0]]:[2,i?Ye(p,i):p]}}))}))},getByField:function(e){var n=e.schemaKey,r=e.field,i=e.value,o=e.filters,l=s(e,["schemaKey","field","value","filters"]);return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,t.get(a({schemaKey:n},l,{filters:(o||[]).concat([[r,"==",i]])}))]}))}))},subscribeRaw:function(n){var r=n.schemaKey,i=n.entryId,a=n.callback,u=s(n,["schemaKey","entryId","callback"]),c=o.applyOptionsForCF(t.ref([r,i],u),u),l=[];return e.usesAdminApp||l.push({includeMetadataChanges:!!u.includeMetadataChanges}),l.push((function(e){return a(null,e)}),(function(e){return a(e,null)})),c.onSnapshot.apply(c,l)},subscribe:function(n){var r=n.schemaKey,i=n.entryId,l=n.callback,f=n.changeType,h=s(n,["schemaKey","entryId","callback","changeType"]),d=o.pluckResultFields(h.fields),p=o.populateEntriesForCF(e,h);return t.subscribeRaw(a({schemaKey:r,entryId:i},h,{callback:function(e,t){return u(this,void 0,void 0,(function(){var n,o,a;return c(this,(function(s){switch(s.label){case 0:if(e)return[2,l(e,null)];if(t.empty)return[2,l(null,null)];if(n={},f){if(t.docChanges().forEach((function(e){if(e.type===f){var t=e.doc.data();n[Ye(t,"_fl_meta_.fl_id",e.doc.id)]=t}})),!Tt(n).length)return[2]}else t.forEach((function(e){var t=e.data();n[Ye(t,"_fl_meta_.fl_id",e.id)]=t}));return[4,zt(d,p)(n)];case 1:return o=s.sent(),r&&!i&&1===(a=It(o)).length&&"single"===Ye(a[0],"_fl_meta_.schemaType")?[2,l(null,a[0])]:[2,l(null,i?o[i]:o)]}}))}))}}))},add:function(n){var r=n.schemaKey,s=n.entryId,l=n.data;return u(this,void 0,void 0,(function(){var n,u,f,h,d,p,v,m,g,y,b,w,_,E,S;return c(this,(function(c){switch(c.label){case 0:if(!r)throw new o.FlamelinkError('Please provide the content entry\'s "schemaKey"');return[4,Ye(e,"modules.schemas",{get:function(){throw new o.FlamelinkError('The "schemas" module is required. Please ensure it is properly imported.')}}).get({schemaKey:r})];case 1:return n=c.sent(),u=Ye(n,"fields",[]),f=u.reduce((function(e,t){var n;return Object.assign(e,((n={})[t.key]=Ye(t,"defaultValue",null),n))}),{}),h=i._ensureService("firestore",e),d=!1,p="",[4,h.doc("fl_settings/defaultLocale").get()];case 2:return(v=c.sent()).exists?(p=v.data().key)===e.locale?[3,4]:[4,t.get({schemaKey:r,entryId:s,locale:p})]:[3,4];case 3:c.sent()||(d=!0),c.label=4;case 4:return m=h.doc("fl_schemas/"+r),g=h.collection("fl_content"),y=g.doc(),b=y.id,w="object"===typeof l?a({},f,{order:0,parentId:0},l,{_fl_meta_:{createdBy:o.getCurrentUser(e),createdDate:o.getTimestamp(e),docId:b,env:e.env,fl_id:s||b,locale:e.locale,schema:r,schemaType:Ye(n,"type","collection"),schemaRef:m},id:b}):l,[4,y.set(w)];case 5:return c.sent(),d?(_=g.doc(),E=_.id,S={_fl_meta_:a({},w._fl_meta_,{docId:E,locale:p,createdFromLocale:e.locale}),id:E,order:Ye(w,"order",0),parentId:Ye(w,"parentId",0)},[4,_.set(S)]):[3,7];case 6:c.sent(),c.label=7;case 7:return[2,w]}}))}))},update:function(n){var r=n.schemaKey,i=n.entryId,s=n.data;return u(this,void 0,void 0,(function(){var n,u,l;return c(this,(function(c){switch(c.label){case 0:if(!r||!i||"object"!==typeof s)throw new o.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return n="object"===typeof s?a({},s,{"_fl_meta_.lastModifiedBy":o.getCurrentUser(e),"_fl_meta_.lastModifiedDate":o.getTimestamp(e),"_fl_meta_.fl_id":i,id:i}):s,[4,t.ref([r,i]).get()];case 1:return(u=c.sent()).empty?(o.logWarning('No entry existed for schema "'+r+'" with ID "'+i+'" - creating new entry instead.'),[2,t.add({schemaKey:r,entryId:i,data:s})]):(l=[],u.forEach((function(e){return l.push(e)})),[4,l[0].ref.update(n)]);case 2:return c.sent(),[2,n]}}))}))},remove:function(n){var r=n.schemaKey,a=n.entryId;return u(this,void 0,void 0,(function(){var n,s,l,f=this;return c(this,(function(h){switch(h.label){case 0:return[4,t.getRaw({schemaKey:r,entryId:a})];case 1:return(n=h.sent()).empty?[2]:(s=qt(n.docs,500),l=i._ensureService("firestore",e),[2,o.createQueue((function(e){return u(f,void 0,void 0,(function(){var t;return c(this,(function(n){return t=l.batch(),e.forEach((function(e){return t.delete(e.ref)})),[2,t.commit()]}))}))}),s).start()])}}))}))}};return t},Ht=function(e){return"cf"===e.dbType?Kt(e):null};i._registerModule("content",Ht),t.factory=Kt,t.register=Ht}).call(this,n(7))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r,o=n(19);n(53);var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Array.isArray,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function h(e,t){return e(t={exports:{}},t.exports),t.exports}var d="object"==typeof f&&f&&f.Object===Object&&f,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),m=v.Symbol,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,w=m?m.toStringTag:void 0;var _=function(e){var t=y.call(e,w),n=e[w];try{e[w]=void 0;var r=!0}catch(o){}var i=b.call(e);return r&&(t?e[w]=n:delete e[w]),i},E=Object.prototype.toString;var S=function(e){return E.call(e)},T="[object Null]",C="[object Undefined]",I=m?m.toStringTag:void 0;var k=function(e){return null==e?void 0===e?C:T:I&&I in Object(e)?_(e):S(e)};var A=function(e){return null!=e&&"object"==typeof e},O="[object Symbol]";var N=function(e){return"symbol"==typeof e||A(e)&&k(e)==O},x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/;var P=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!N(e))||(R.test(e)||!x.test(e)||null!=t&&e in Object(t))};var D=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},M="[object AsyncFunction]",j="[object Function]",L="[object GeneratorFunction]",F="[object Proxy]";var U=function(e){if(!D(e))return!1;var t=k(e);return t==j||t==L||t==M||t==F},B=v["__core-js_shared__"],V=function(){var e=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var q=function(e){return!!V&&V in e},W=Function.prototype.toString;var z=function(e){if(null!=e){try{return W.call(e)}catch(t){}try{return e+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,H=Function.prototype,G=Object.prototype,Q=H.toString,Y=G.hasOwnProperty,$=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var X=function(e){return!(!D(e)||q(e))&&(U(e)?$:K).test(z(e))};var J=function(e,t){return null==e?void 0:e[t]};var Z=function(e,t){var n=J(e,t);return X(n)?n:void 0},ee=Z(Object,"create");var te=function(){this.__data__=ee?ee(null):{},this.size=0};var ne=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re="__lodash_hash_undefined__",ie=Object.prototype.hasOwnProperty;var oe=function(e){var t=this.__data__;if(ee){var n=t[e];return n===re?void 0:n}return ie.call(t,e)?t[e]:void 0},ae=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;return ee?void 0!==t[e]:ae.call(t,e)},ue="__lodash_hash_undefined__";var ce=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?ue:t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=te,le.prototype.delete=ne,le.prototype.get=oe,le.prototype.has=se,le.prototype.set=ce;var fe=le;var he=function(){this.__data__=[],this.size=0};var de=function(e,t){return e===t||e!==e&&t!==t};var pe=function(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1},ve=Array.prototype.splice;var me=function(e){var t=this.__data__,n=pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ve.call(t,n,1),--this.size,!0)};var ge=function(e){var t=this.__data__,n=pe(t,e);return n<0?void 0:t[n][1]};var ye=function(e){return pe(this.__data__,e)>-1};var be=function(e,t){var n=this.__data__,r=pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=he,we.prototype.delete=me,we.prototype.get=ge,we.prototype.has=ye,we.prototype.set=be;var _e=we,Ee=Z(v,"Map");var Se=function(){this.size=0,this.__data__={hash:new fe,map:new(Ee||_e),string:new fe}};var Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ce=function(e,t){var n=e.__data__;return Te(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ie=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t};var ke=function(e){return Ce(this,e).get(e)};var Ae=function(e){return Ce(this,e).has(e)};var Oe=function(e,t){var n=Ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ne.prototype.clear=Se,Ne.prototype.delete=Ie,Ne.prototype.get=ke,Ne.prototype.has=Ae,Ne.prototype.set=Oe;var xe=Ne,Re="Expected a function";function Pe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Re);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pe.Cache||xe),n}Pe.Cache=xe;var De=Pe,Me=500;var je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/\\(\\)?/g,Fe=function(e){var t=De(e,(function(e){return n.size===Me&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(je,(function(e,n,r,i){t.push(r?i.replace(Le,"$1"):n||e)})),t}));var Ue=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Be=1/0,Ve=m?m.prototype:void 0,qe=Ve?Ve.toString:void 0;var We=function e(t){if("string"==typeof t)return t;if(l(t))return Ue(t,e)+"";if(N(t))return qe?qe.call(t):"";var n=t+"";return"0"==n&&1/t==-Be?"-0":n};var ze=function(e){return null==e?"":We(e)};var Ke=function(e,t){return l(e)?e:P(e,t)?[e]:Fe(ze(e))},He=1/0;var Ge=function(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-He?"-0":t};var Qe=function(e,t){for(var n=0,r=(t=Ke(t,e)).length;null!=e&&n<r;)e=e[Ge(t[n++])];return n&&n==r?e:void 0};var Ye=function(e,t,n){var r=null==e?void 0:Qe(e,t);return void 0===r?n:r};var $e=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Xe="[object Arguments]";var Je=function(e){return A(e)&&k(e)==Xe},Ze=Object.prototype,et=Ze.hasOwnProperty,tt=Ze.propertyIsEnumerable,nt=Je(function(){return arguments}())?Je:function(e){return A(e)&&et.call(e,"callee")&&!tt.call(e,"callee")};var rt=function(){return!1},it=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?v.Buffer:void 0,o=(i?i.isBuffer:void 0)||rt;e.exports=o})),ot=9007199254740991,at=/^(?:0|[1-9]\d*)$/;var st=function(e,t){var n=typeof e;return!!(t=null==t?ot:t)&&("number"==n||"symbol"!=n&&at.test(e))&&e>-1&&e%1==0&&e<t},ut=9007199254740991;var ct=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ut},lt={};lt["[object Float32Array]"]=lt["[object Float64Array]"]=lt["[object Int8Array]"]=lt["[object Int16Array]"]=lt["[object Int32Array]"]=lt["[object Uint8Array]"]=lt["[object Uint8ClampedArray]"]=lt["[object Uint16Array]"]=lt["[object Uint32Array]"]=!0,lt["[object Arguments]"]=lt["[object Array]"]=lt["[object ArrayBuffer]"]=lt["[object Boolean]"]=lt["[object DataView]"]=lt["[object Date]"]=lt["[object Error]"]=lt["[object Function]"]=lt["[object Map]"]=lt["[object Number]"]=lt["[object Object]"]=lt["[object RegExp]"]=lt["[object Set]"]=lt["[object String]"]=lt["[object WeakMap]"]=!1;var ft=function(e){return A(e)&&ct(e.length)&&!!lt[k(e)]};var ht=function(e){return function(t){return e(t)}},dt=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&d.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),pt=dt&&dt.isTypedArray,vt=pt?ht(pt):ft,mt=Object.prototype.hasOwnProperty;var gt=function(e,t){var n=l(e),r=!n&&nt(e),i=!n&&!r&&it(e),o=!n&&!r&&!i&&vt(e),a=n||r||i||o,s=a?$e(e.length,String):[],u=s.length;for(var c in e)!t&&!mt.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||st(c,u))||s.push(c);return s},yt=Object.prototype;var bt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yt)};var wt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),_t=Object.prototype.hasOwnProperty;var Et=function(e){if(!bt(e))return wt(e);var t=[];for(var n in Object(e))_t.call(e,n)&&"constructor"!=n&&t.push(n);return t};var St=function(e){return null!=e&&ct(e.length)&&!U(e)};var Tt=function(e){return St(e)?gt(e):Et(e)},Ct=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return e.then(t)}),Promise.resolve(e))}},It=function(e){var t={ref:function(t,n){return i._ensureService("database",e).ref(function(e,t,n){return Array.isArray(e)?"/flamelink/environments/"+t+"/content/"+(e[0]?e[0]+"/"+n+(e[1]?"/"+e[1]:""):""):"/flamelink/environments/"+t+"/content/"+(e?e+"/"+n:"")}(t,Ye(n,"env",Ye(n,"env",e.env)),Ye(n,"locale",Ye(n,"locale",e.locale))))},getRaw:function(e){var n=e.schemaKey,r=e.entryId,i=s(e,["schemaKey","entryId"]);return o.applyOptionsForRTDB(t.ref(r?[n,r]:n,i),i).once(i.event||"value")},get:function(n){void 0===n&&(n={});var r=n.schemaKey,i=n.entryId,l=s(n,["schemaKey","entryId"]);return u(this,void 0,void 0,(function(){var n,s,u,f,h,d,p,v,m;return c(this,(function(c){switch(c.label){case 0:return n=o.pluckResultFields(l.fields),s=o.populateEntry(e,r,l.populate),[4,t.getRaw(a({},l,{schemaKey:r,entryId:i}))];case 1:return u=c.sent(),i?[4,Ct(o.unwrap(i),s,n,o.wrap(i))(u.val())]:[3,3];case 2:return[2,c.sent()];case 3:return[4,Ye(e,"modules.schemas").get({schemaKey:r})];case 4:return f=c.sent(),h=f&&"single"===f.type,r?(d=h?o.wrap(r,u.val()):u.val(),[4,Ct(s,n)(d)]):[3,6];case 5:return p=c.sent(),[2,h?o.unwrap(r,p):p];case 6:return v=u.val(),m=Tt(v).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=v[n][e.locale],r))}),{}),[4,Ct(s,n)(m)];case 7:return[2,c.sent()]}}))}))},getByFieldRaw:function(e){var n=e.schemaKey,r=e.field,i=e.value,o=s(e,["schemaKey","field","value"]);return t.getRaw(a({schemaKey:n},o,{orderByChild:r,equalTo:i}))},getByField:function(e){var n=e.schemaKey,r=e.field,i=e.value,o=s(e,["schemaKey","field","value"]);return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,t.get(a({schemaKey:n},o,{orderByChild:r,equalTo:i}))]}))}))},subscribeRaw:function(e){var n=e.schemaKey,r=e.entryId,i=e.callback,a=s(e,["schemaKey","entryId","callback"]),u=o.applyOptionsForRTDB(t.ref(r?[n,r]:n,a),a);u.on(a.event||"value",(function(e){return i(null,e)}),(function(e){return i(e,null)}));return function(){return u.off(a.event||"value")}},subscribe:function(e){var n=e.schemaKey,r=e.entryId,i=e.callback,l=s(e,["schemaKey","entryId","callback"]),f=o.pluckResultFields(l.fields);return t.subscribeRaw(a({schemaKey:n,entryId:r},l,{callback:function(e,t){return u(this,void 0,void 0,(function(){var r,a;return c(this,(function(s){switch(s.label){case 0:return e?[2,i(e,null)]:(r=n?o.wrap(n,t.val()):t.val(),[4,f(r)]);case 1:return a=s.sent(),[2,i(null,n?o.unwrap(n,a):a)]}}))}))}}))},add:function(n){var r=n.schemaKey,s=n.entryId,l=void 0===s?Date.now().toString():s,f=n.data;return u(this,void 0,void 0,(function(){var n,s,u,h,d,p,v,m;return c(this,(function(c){switch(c.label){case 0:return[4,Ye(e,"modules.schemas",{getFields:function(){throw new o.FlamelinkError('The "schemas" module is required. Please ensure it is properly imported.')}}).getFields({schemaKey:r})];case 1:return n=c.sent(),s=n.reduce((function(e,t){var n;return Object.assign(e,((n={})[t.key]=Ye(t,"defaultValue",null),n))}),{}),u=i._ensureService("database",e),h=!1,d="",[4,u.ref("flamelink/settings/defaultLocale").once("value")];case 2:return p=c.sent(),(d=p.val())&&d!==e.locale?[4,t.get({schemaKey:r,entryId:l,locale:d})]:[3,4];case 3:c.sent()||(h=!0),c.label=4;case 4:return v="object"===typeof f?a({},s,{order:0,parentId:0},f,{__meta__:{createdBy:o.getCurrentUser(e),createdDate:o.getTimestamp(e)},id:l}):f,[4,t.ref([r,l]).set(v)];case 5:return c.sent(),h?(m={__meta__:a({},v.__meta__,{createdFromLocale:e.locale}),id:l,order:Ye(v,"order",0),parentId:Ye(v,"parentId",0)},[4,t.ref([r,l],{locale:d}).set(m)]):[3,7];case 6:c.sent(),c.label=7;case 7:return[2,v]}}))}))},update:function(n){var r=n.schemaKey,i=n.entryId,s=n.data;return u(this,void 0,void 0,(function(){var n;return c(this,(function(u){switch(u.label){case 0:if("string"!==typeof r||!i||"object"!==typeof s&&null!==s)throw new o.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return[4,t.ref([r,i]).once("value")];case 1:return u.sent().val()?(n="object"===typeof s?a({},s,{"__meta__/lastModifiedBy":o.getCurrentUser(e),"__meta__/lastModifiedDate":o.getTimestamp(e),id:i}):s,[4,t.ref([r,i]).update(n)]):(o.logWarning('No entry existed for schema "'+r+'" with ID "'+i+'" - creating new entry instead.'),[2,t.add({schemaKey:r,entryId:i,data:s})]);case 2:return u.sent(),[2,n]}}))}))},remove:function(e){var n=e.schemaKey,r=e.entryId;if(!n)throw new o.FlamelinkError('"remove" called with the incorrect arguments. Check the docs for details.');return t.ref(r?[n,r]:n).remove()}};return t},kt=function(e){return"rtdb"===e.dbType?It(e):null};i._registerModule("content",kt),t.factory=It,t.register=kt}).call(this,n(7))},function(e,t,n){"use strict";(function(e){function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(18)),a=n(19),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function d(e,t){return e(t={exports:{}},t.exports),t.exports}var p="object"==typeof h&&h&&h.Object===Object&&h,v="object"==typeof self&&self&&self.Object===Object&&self,m=p||v||Function("return this")(),g=m.Symbol,y=Object.prototype,b=y.hasOwnProperty,w=y.toString,_=g?g.toStringTag:void 0;var E=function(e){var t=b.call(e,_),n=e[_];try{e[_]=void 0;var r=!0}catch(o){}var i=w.call(e);return r&&(t?e[_]=n:delete e[_]),i},S=Object.prototype.toString;var T=function(e){return S.call(e)},C="[object Null]",I="[object Undefined]",k=g?g.toStringTag:void 0;var A=function(e){return null==e?void 0===e?I:C:k&&k in Object(e)?E(e):T(e)};var O=function(e){return null!=e&&"object"==typeof e},N="[object Arguments]";var x=function(e){return O(e)&&A(e)==N},R=Object.prototype,P=R.hasOwnProperty,D=R.propertyIsEnumerable,M=x(function(){return arguments}())?x:function(e){return O(e)&&P.call(e,"callee")&&!D.call(e,"callee")},j=Array.isArray;var L=function(){return!1},F=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?m.Buffer:void 0,o=(i?i.isBuffer:void 0)||L;e.exports=o})),U=9007199254740991,B=/^(?:0|[1-9]\d*)$/;var V=function(e,t){var n=typeof e;return!!(t=null==t?U:t)&&("number"==n||"symbol"!=n&&B.test(e))&&e>-1&&e%1==0&&e<t},q=9007199254740991;var W=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=q},z={};z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Arguments]"]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object Boolean]"]=z["[object DataView]"]=z["[object Date]"]=z["[object Error]"]=z["[object Function]"]=z["[object Map]"]=z["[object Number]"]=z["[object Object]"]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object WeakMap]"]=!1;var K=function(e){return O(e)&&W(e.length)&&!!z[A(e)]};var H=function(e){return function(t){return e(t)}},G=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&p.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),Q=G&&G.isTypedArray,Y=Q?H(Q):K,$=Object.prototype.hasOwnProperty;var X=function(e,t){var n=j(e),r=!n&&M(e),i=!n&&!r&&F(e),o=!n&&!r&&!i&&Y(e),a=n||r||i||o,s=a?f(e.length,String):[],u=s.length;for(var c in e)!t&&!$.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||V(c,u))||s.push(c);return s},J=Object.prototype;var Z=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)};var ee=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),te=Object.prototype.hasOwnProperty;var ne=function(e){if(!Z(e))return ee(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t};var re=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ie="[object AsyncFunction]",oe="[object Function]",ae="[object GeneratorFunction]",se="[object Proxy]";var ue=function(e){if(!re(e))return!1;var t=A(e);return t==oe||t==ae||t==ie||t==se};var ce=function(e){return null!=e&&W(e.length)&&!ue(e)};var le=function(e){return ce(e)?X(e):ne(e)},fe="[object Symbol]";var he=function(e){return"symbol"==typeof e||O(e)&&A(e)==fe},de=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pe=/^\w*$/;var ve=function(e,t){if(j(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!he(e))||(pe.test(e)||!de.test(e)||null!=t&&e in Object(t))},me=m["__core-js_shared__"],ge=function(){var e=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ye=function(e){return!!ge&&ge in e},be=Function.prototype.toString;var we=function(e){if(null!=e){try{return be.call(e)}catch(t){}try{return e+""}catch(t){}}return""},_e=/^\[object .+?Constructor\]$/,Ee=Function.prototype,Se=Object.prototype,Te=Ee.toString,Ce=Se.hasOwnProperty,Ie=RegExp("^"+Te.call(Ce).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ke=function(e){return!(!re(e)||ye(e))&&(ue(e)?Ie:_e).test(we(e))};var Ae=function(e,t){return null==e?void 0:e[t]};var Oe=function(e,t){var n=Ae(e,t);return ke(n)?n:void 0},Ne=Oe(Object,"create");var xe=function(){this.__data__=Ne?Ne(null):{},this.size=0};var Re=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Pe="__lodash_hash_undefined__",De=Object.prototype.hasOwnProperty;var Me=function(e){var t=this.__data__;if(Ne){var n=t[e];return n===Pe?void 0:n}return De.call(t,e)?t[e]:void 0},je=Object.prototype.hasOwnProperty;var Le=function(e){var t=this.__data__;return Ne?void 0!==t[e]:je.call(t,e)},Fe="__lodash_hash_undefined__";var Ue=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ne&&void 0===t?Fe:t,this};function Be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Be.prototype.clear=xe,Be.prototype.delete=Re,Be.prototype.get=Me,Be.prototype.has=Le,Be.prototype.set=Ue;var Ve=Be;var qe=function(){this.__data__=[],this.size=0};var We=function(e,t){return e===t||e!==e&&t!==t};var ze=function(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1},Ke=Array.prototype.splice;var He=function(e){var t=this.__data__,n=ze(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)};var Ge=function(e){var t=this.__data__,n=ze(t,e);return n<0?void 0:t[n][1]};var Qe=function(e){return ze(this.__data__,e)>-1};var Ye=function(e,t){var n=this.__data__,r=ze(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function $e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$e.prototype.clear=qe,$e.prototype.delete=He,$e.prototype.get=Ge,$e.prototype.has=Qe,$e.prototype.set=Ye;var Xe=$e,Je=Oe(m,"Map");var Ze=function(){this.size=0,this.__data__={hash:new Ve,map:new(Je||Xe),string:new Ve}};var et=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var tt=function(e,t){var n=e.__data__;return et(t)?n["string"==typeof t?"string":"hash"]:n.map};var nt=function(e){var t=tt(this,e).delete(e);return this.size-=t?1:0,t};var rt=function(e){return tt(this,e).get(e)};var it=function(e){return tt(this,e).has(e)};var ot=function(e,t){var n=tt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function at(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}at.prototype.clear=Ze,at.prototype.delete=nt,at.prototype.get=rt,at.prototype.has=it,at.prototype.set=ot;var st=at,ut="Expected a function";function ct(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ut);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ct.Cache||st),n}ct.Cache=st;var lt=ct,ft=500;var ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dt=/\\(\\)?/g,pt=function(e){var t=lt(e,(function(e){return n.size===ft&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ht,(function(e,n,r,i){t.push(r?i.replace(dt,"$1"):n||e)})),t}));var vt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},mt=1/0,gt=g?g.prototype:void 0,yt=gt?gt.toString:void 0;var bt=function e(t){if("string"==typeof t)return t;if(j(t))return vt(t,e)+"";if(he(t))return yt?yt.call(t):"";var n=t+"";return"0"==n&&1/t==-mt?"-0":n};var wt=function(e){return null==e?"":bt(e)};var _t=function(e,t){return j(e)?e:ve(e,t)?[e]:pt(wt(e))},Et=1/0;var St=function(e){if("string"==typeof e||he(e))return e;var t=e+"";return"0"==t&&1/e==-Et?"-0":t};var Tt=function(e,t){for(var n=0,r=(t=_t(t,e)).length;null!=e&&n<r;)e=e[St(t[n++])];return n&&n==r?e:void 0};var Ct=function(e,t,n){var r=null==e?void 0:Tt(e,t);return void 0===r?n:r};var It=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var kt=function(e,t,n){if(!re(n))return!1;var r=typeof t;return!!("number"==r?ce(n)&&V(t,n.length):"string"==r&&t in n)&&We(n[t],e)},At=NaN,Ot=/^\s+|\s+$/g,Nt=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,Rt=/^0o[0-7]+$/i,Pt=parseInt;var Dt=function(e){if("number"==typeof e)return e;if(he(e))return At;if(re(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=re(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ot,"");var n=xt.test(e);return n||Rt.test(e)?Pt(e.slice(2),n?2:8):Nt.test(e)?At:+e},Mt=1/0,jt=17976931348623157e292;var Lt=function(e){return e?(e=Dt(e))===Mt||e===-Mt?(e<0?-1:1)*jt:e===e?e:0:0===e?e:0};var Ft=function(e){var t=Lt(e),n=t%1;return t===t?n?t-n:t:0},Ut=Math.ceil,Bt=Math.max;var Vt=function(e,t,n){t=(n?kt(e,t,n):void 0===t)?1:Bt(Ft(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(Ut(r/t));i<r;)a[o++]=It(e,i,i+=t);return a};var qt=function(){if(!arguments.length)return[];var e=arguments[0];return j(e)?e:[e]};var Wt=function(e){return e},zt=Oe(m,"WeakMap"),Kt=zt&&new zt,Ht=Kt?function(e,t){return Kt.set(e,t),e}:Wt,Gt=Object.create,Qt=function(){function e(){}return function(t){if(!re(t))return{};if(Gt)return Gt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Yt=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Qt(e.prototype),r=e.apply(n,t);return re(r)?r:n}},$t=1;var Xt=function(e,t,n){var r=t&$t,i=Yt(e);return function t(){return(this&&this!==m&&this instanceof t?i:e).apply(r?n:this,arguments)}};var Jt=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Zt=Math.max;var en=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=Zt(o-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l},tn=Math.max;var nn=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=tn(o-s,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f};var rn=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var on=function(){},an=4294967295;function sn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=an,this.__views__=[]}sn.prototype=Qt(on.prototype),sn.prototype.constructor=sn;var un=sn;var cn=Kt?function(e){return Kt.get(e)}:function(){},ln={},fn=Object.prototype.hasOwnProperty;var hn=function(e){for(var t=e.name+"",n=ln[t],r=fn.call(ln,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function dn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}dn.prototype=Qt(on.prototype),dn.prototype.constructor=dn;var pn=dn;var vn=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var mn=function(e){if(e instanceof un)return e.clone();var t=new pn(e.__wrapped__,e.__chain__);return t.__actions__=vn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},gn=Object.prototype.hasOwnProperty;function yn(e){if(O(e)&&!j(e)&&!(e instanceof un)){if(e instanceof pn)return e;if(gn.call(e,"__wrapped__"))return mn(e)}return new pn(e)}yn.prototype=on.prototype,yn.prototype.constructor=yn;var bn=yn;var wn=function(e){var t=hn(e),n=bn[t];if("function"!=typeof n||!(t in un.prototype))return!1;if(e===n)return!0;var r=cn(n);return!!r&&e===r[0]},_n=800,En=16,Sn=Date.now;var Tn=function(e){var t=0,n=0;return function(){var r=Sn(),i=En-(r-n);if(n=r,i>0){if(++t>=_n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Cn=Tn(Ht),In=/\{\n\/\* \[wrapped with (.+)\] \*/,kn=/,? & /;var An=function(e){var t=e.match(In);return t?t[1].split(kn):[]},On=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Nn=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(On,"{\n/* [wrapped with "+t+"] */\n")};var xn=function(e){return function(){return e}},Rn=function(){try{var e=Oe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Pn=Tn(Rn?function(e,t){return Rn(e,"toString",{configurable:!0,enumerable:!1,value:xn(t),writable:!0})}:Wt);var Dn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Mn=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var jn=function(e){return e!==e};var Ln=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Fn=function(e,t,n){return t===t?Ln(e,t,n):Mn(e,jn,n)};var Un=function(e,t){return!!(null==e?0:e.length)&&Fn(e,t,0)>-1},Bn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Vn=function(e,t){return Dn(Bn,(function(n){var r="_."+n[0];t&n[1]&&!Un(e,r)&&e.push(r)})),e.sort()};var qn=function(e,t,n){var r=t+"";return Pn(e,Nn(r,Vn(An(r),n)))},Wn=1,zn=2,Kn=4,Hn=8,Gn=32,Qn=64;var Yn=function(e,t,n,r,i,o,a,s,u,c){var l=t&Hn;t|=l?Gn:Qn,(t&=~(l?Qn:Gn))&Kn||(t&=~(Wn|zn));var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return wn(e)&&Cn(h,f),h.placeholder=r,qn(h,e,t)};var $n=function(e){return e.placeholder},Xn=Math.min;var Jn=function(e,t){for(var n=e.length,r=Xn(t.length,n),i=vn(e);r--;){var o=t[r];e[r]=V(o,n)?i[o]:void 0}return e},Zn="__lodash_placeholder__";var er=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Zn||(e[n]=Zn,o[i++]=n)}return o},tr=1,nr=2,rr=8,ir=16,or=128,ar=512;var sr=function e(t,n,r,i,o,a,s,u,c,l){var f=n&or,h=n&tr,d=n&nr,p=n&(rr|ir),v=n&ar,g=d?void 0:Yt(t);return function y(){for(var b=arguments.length,w=Array(b),_=b;_--;)w[_]=arguments[_];if(p)var E=$n(y),S=rn(w,E);if(i&&(w=en(w,i,o,p)),a&&(w=nn(w,a,s,p)),b-=S,p&&b<l){var T=er(w,E);return Yn(t,n,e,y.placeholder,r,w,T,u,c,l-b)}var C=h?r:this,I=d?C[t]:t;return b=w.length,u?w=Jn(w,u):v&&b>1&&w.reverse(),f&&c<b&&(w.length=c),this&&this!==m&&this instanceof y&&(I=g||Yt(I)),I.apply(C,w)}};var ur=function(e,t,n){var r=Yt(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,u=$n(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:er(a,u);return(o-=c.length)<n?Yn(e,t,sr,i.placeholder,void 0,a,c,void 0,void 0,n-o):Jt(this&&this!==m&&this instanceof i?r:e,this,a)}},cr=1;var lr=function(e,t,n,r){var i=t&cr,o=Yt(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=Array(c+s),f=this&&this!==m&&this instanceof t?o:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return Jt(f,i?n:this,l)}},fr="__lodash_placeholder__",hr=1,dr=2,pr=4,vr=8,mr=128,gr=256,yr=Math.min;var br=function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(hr|dr|mr),a=r==mr&&n==vr||r==mr&&n==gr&&e[7].length<=t[8]||r==(mr|gr)&&t[7].length<=t[8]&&n==vr;if(!o&&!a)return e;r&hr&&(e[2]=t[2],i|=n&hr?0:pr);var s=t[3];if(s){var u=e[3];e[3]=u?en(u,s,t[4]):s,e[4]=u?er(e[3],fr):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?nn(u,s,t[6]):s,e[6]=u?er(e[5],fr):t[6]),(s=t[7])&&(e[7]=s),r&mr&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},wr="Expected a function",_r=1,Er=2,Sr=8,Tr=16,Cr=32,Ir=64,kr=Math.max;var Ar=function(e,t,n,r,i,o,a,s){var u=t&Er;if(!u&&"function"!=typeof e)throw new TypeError(wr);var c=r?r.length:0;if(c||(t&=~(Cr|Ir),r=i=void 0),a=void 0===a?a:kr(Ft(a),0),s=void 0===s?s:Ft(s),c-=i?i.length:0,t&Ir){var l=r,f=i;r=i=void 0}var h=u?void 0:cn(e),d=[e,t,n,r,i,l,f,o,a,s];if(h&&br(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(s=d[9]=void 0===d[9]?u?0:e.length:kr(d[9]-c,0))&&t&(Sr|Tr)&&(t&=~(Sr|Tr)),t&&t!=_r)p=t==Sr||t==Tr?ur(e,t,s):t!=Cr&&t!=(_r|Cr)||i.length?sr.apply(void 0,d):lr(e,t,n,r);else var p=Xt(e,t,n);return qn((h?Ht:Cn)(p,d),e,t)},Or=8;function Nr(e,t,n){var r=Ar(e,Or,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Nr.placeholder,r}Nr.placeholder={};var xr=Nr((function(e,t){return t&&t.hasOwnProperty("items")?Object.assign({},t,{items:a.formatStructure(e.structure,{idProperty:"uuid",parentProperty:"parentIndex"},t.items)}):t})),Rr=["uuid","parentIndex","children"],Pr=function(e){var t={ref:function(t){var n=o._ensureService("firestore",e).collection("fl_navigation").where("_fl_meta_.env","==",e.env).where("_fl_meta_.locale","==",e.locale);return t?n.where("_fl_meta_.fl_id","==",t):n},getRaw:function(e){var n=e.navigationKey,r=u(e,["navigationKey"]);return a.applyOptionsForCF(t.ref(n),r).get({source:r.source||"default"})},get:function(e){void 0===e&&(e={});var n=e.navigationKey,r=u(e,["navigationKey"]);return c(this,void 0,void 0,(function(){var e,i,o,u,c,f;return l(this,(function(l){switch(l.label){case 0:return e=Array.isArray(r.fields)&&r.structure?Array.from(new Set(Rr.concat(r.fields))):r.fields,i=a.pluckResultFields(e),[4,t.getRaw(s({navigationKey:n},r))];case 1:return o=l.sent(),u={},o.forEach((function(e){var t=e.data();u[Ct(t,"_fl_meta_.fl_id",e.id)]=t})),c=xr(r),f=le(u).reduce((function(e,t){var n,r=u[t];return Object.assign(e,((n={})[t]=c(i(r)),n))}),{}),[2,n?f[n]:f]}}))}))},getItems:function(e){var n=e.navigationKey,r=e.fields,i=(e.structure,u(e,["navigationKey","fields","structure"]));return c(this,void 0,void 0,(function(){var e,o,u;return l(this,(function(c){switch(c.label){case 0:return e=Array.isArray(r)?Array.from(new Set(Rr.concat(r))):r,o=a.pluckResultFields(e),[4,t.get(s({navigationKey:n},i))];case 1:return(u=c.sent())?n?[2,o(u.items).map((function(e){return xr(i,e)}))]:[2,u.map((function(e){return o(e.items)})).map((function(e){return xr(i,e)}))]:[2,u]}}))}))},subscribeRaw:function(n){var r=n.navigationKey,i=n.callback,o=u(n,["navigationKey","callback"]),s=a.applyOptionsForCF(t.ref(r),o),c=[];return e.usesAdminApp||c.push({includeMetadataChanges:!!o.includeMetadataChanges}),c.push((function(e){return i(null,e)}),(function(e){return i(e,null)})),s.onSnapshot.apply(s,c)},subscribe:function(e){var n=e.navigationKey,r=e.callback,o=e.changeType,f=u(e,["navigationKey","callback","changeType"]),h=Array.isArray(f.fields)&&f.structure?Array.from(new Set(Rr.concat(f.fields))):f.fields,d=a.pluckResultFields(h);return t.subscribeRaw(s({navigationKey:n},f,{callback:function(e,t){return c(this,void 0,void 0,(function(){var a,s,u,h=this;return l(this,(function(p){switch(p.label){case 0:if(e)return[2,r(e,null)];if(t.empty)return[2,r(null,null)];if(a={},o){if(t.docChanges().forEach((function(e){if(e.type===o){var t=e.doc.data();a[Ct(t,"_fl_meta_.fl_id",e.doc.id)]=t}})),!le(a).length)return[2]}else t.forEach((function(e){var t=e.data();a[Ct(t,"_fl_meta_.fl_id",e.id)]=t}));return s=xr(f),[4,le(a).reduce((function(e,t){var n=a[t];return e.then((function(e){return c(h,void 0,void 0,(function(){var r,o,a,u,c;return l(this,(function(l){switch(l.label){case 0:return o=(r=Object).assign,a=[e],c={},u=t,[4,i(d,s)(n)];case 1:return[2,o.apply(r,a.concat([(c[u]=l.sent(),c)]))]}}))}))}))}),Promise.resolve({}))];case 1:return u=p.sent(),[2,r(null,n?u[n]:u)]}}))}))}}))},add:function(t){var n=t.navigationKey,r=t.data;return c(this,void 0,void 0,(function(){var t,i,s,u,c;return l(this,(function(l){switch(l.label){case 0:if(!n)throw new a.FlamelinkError('Please provide the navigation\'s "navigationKey"');return t=o._ensureService("firestore",e),i=t.collection("fl_navigation"),s=i.doc(),u=s.id,c="object"===typeof r?Object.assign({},r,{_fl_meta_:{createdBy:a.getCurrentUser(e),createdDate:a.getTimestamp(e),env:e.env,docId:u,fl_id:n},items:qt(r.items)||[],id:n,title:r.title||n}):r,[4,s.set(c)];case 1:return l.sent(),[2,c]}}))}))},update:function(n){var r=n.navigationKey,i=n.data;return c(this,void 0,void 0,(function(){var n,o,s;return l(this,(function(u){switch(u.label){case 0:if("string"!==typeof r||"object"!==typeof i)throw new a.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return n="object"===typeof i?Object.assign({},i,{"_fl_meta_.lastModifiedBy":a.getCurrentUser(e),"_fl_meta_.lastModifiedDate":a.getTimestamp(e),"_fl_meta_.fl_id":r,id:r}):i,[4,t.ref(r).get()];case 1:return(o=u.sent()).empty?(a.logWarning('No navigation existed with a key of "'+r+'" - creating new navigation instead.'),[2,t.add({navigationKey:r,data:i})]):(s=[],o.forEach((function(e){return s.push(e)})),[4,s[0].ref.update(n)]);case 2:return u.sent(),[2,n]}}))}))},remove:function(n){var r=n.navigationKey;return c(this,void 0,void 0,(function(){var n,i,s,u=this;return l(this,(function(f){switch(f.label){case 0:return[4,t.getRaw({navigationKey:r})];case 1:return(n=f.sent()).empty?[2]:(i=Vt(n.docs,500),s=o._ensureService("firestore",e),[2,a.createQueue((function(e){return c(u,void 0,void 0,(function(){var t;return l(this,(function(n){return t=s.batch(),e.forEach((function(e){return t.delete(e.ref)})),[2,t.commit()]}))}))}),i).start()])}}))}))}};return t},Dr=function(e){return"cf"===e.dbType?Pr(e):null};o._registerModule("nav",Dr),t.factory=Pr,t.register=Dr}).call(this,n(7))},function(e,t,n){"use strict";(function(e){function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(18)),a=n(19),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function d(e,t){return e(t={exports:{}},t.exports),t.exports}var p="object"==typeof h&&h&&h.Object===Object&&h,v="object"==typeof self&&self&&self.Object===Object&&self,m=p||v||Function("return this")(),g=m.Symbol,y=Object.prototype,b=y.hasOwnProperty,w=y.toString,_=g?g.toStringTag:void 0;var E=function(e){var t=b.call(e,_),n=e[_];try{e[_]=void 0;var r=!0}catch(o){}var i=w.call(e);return r&&(t?e[_]=n:delete e[_]),i},S=Object.prototype.toString;var T=function(e){return S.call(e)},C="[object Null]",I="[object Undefined]",k=g?g.toStringTag:void 0;var A=function(e){return null==e?void 0===e?I:C:k&&k in Object(e)?E(e):T(e)};var O=function(e){return null!=e&&"object"==typeof e},N="[object Arguments]";var x=function(e){return O(e)&&A(e)==N},R=Object.prototype,P=R.hasOwnProperty,D=R.propertyIsEnumerable,M=x(function(){return arguments}())?x:function(e){return O(e)&&P.call(e,"callee")&&!D.call(e,"callee")},j=Array.isArray;var L=function(){return!1},F=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?m.Buffer:void 0,o=(i?i.isBuffer:void 0)||L;e.exports=o})),U=9007199254740991,B=/^(?:0|[1-9]\d*)$/;var V=function(e,t){var n=typeof e;return!!(t=null==t?U:t)&&("number"==n||"symbol"!=n&&B.test(e))&&e>-1&&e%1==0&&e<t},q=9007199254740991;var W=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=q},z={};z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Arguments]"]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object Boolean]"]=z["[object DataView]"]=z["[object Date]"]=z["[object Error]"]=z["[object Function]"]=z["[object Map]"]=z["[object Number]"]=z["[object Object]"]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object WeakMap]"]=!1;var K=function(e){return O(e)&&W(e.length)&&!!z[A(e)]};var H=function(e){return function(t){return e(t)}},G=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&p.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),Q=G&&G.isTypedArray,Y=Q?H(Q):K,$=Object.prototype.hasOwnProperty;var X=function(e,t){var n=j(e),r=!n&&M(e),i=!n&&!r&&F(e),o=!n&&!r&&!i&&Y(e),a=n||r||i||o,s=a?f(e.length,String):[],u=s.length;for(var c in e)!t&&!$.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||V(c,u))||s.push(c);return s},J=Object.prototype;var Z=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)};var ee=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),te=Object.prototype.hasOwnProperty;var ne=function(e){if(!Z(e))return ee(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t};var re=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ie="[object AsyncFunction]",oe="[object Function]",ae="[object GeneratorFunction]",se="[object Proxy]";var ue=function(e){if(!re(e))return!1;var t=A(e);return t==oe||t==ae||t==ie||t==se};var ce=function(e){return null!=e&&W(e.length)&&!ue(e)};var le=function(e){return ce(e)?X(e):ne(e)};var fe=function(){if(!arguments.length)return[];var e=arguments[0];return j(e)?e:[e]};var he=function(e){return e},de=m["__core-js_shared__"],pe=function(){var e=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ve=function(e){return!!pe&&pe in e},me=Function.prototype.toString;var ge=function(e){if(null!=e){try{return me.call(e)}catch(t){}try{return e+""}catch(t){}}return""},ye=/^\[object .+?Constructor\]$/,be=Function.prototype,we=Object.prototype,_e=be.toString,Ee=we.hasOwnProperty,Se=RegExp("^"+_e.call(Ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Te=function(e){return!(!re(e)||ve(e))&&(ue(e)?Se:ye).test(ge(e))};var Ce=function(e,t){return null==e?void 0:e[t]};var Ie=function(e,t){var n=Ce(e,t);return Te(n)?n:void 0},ke=Ie(m,"WeakMap"),Ae=ke&&new ke,Oe=Ae?function(e,t){return Ae.set(e,t),e}:he,Ne=Object.create,xe=function(){function e(){}return function(t){if(!re(t))return{};if(Ne)return Ne(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Re=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xe(e.prototype),r=e.apply(n,t);return re(r)?r:n}},Pe=1;var De=function(e,t,n){var r=t&Pe,i=Re(e);return function t(){return(this&&this!==m&&this instanceof t?i:e).apply(r?n:this,arguments)}};var Me=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},je=Math.max;var Le=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=je(o-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l},Fe=Math.max;var Ue=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Fe(o-s,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f};var Be=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var Ve=function(){},qe=4294967295;function We(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qe,this.__views__=[]}We.prototype=xe(Ve.prototype),We.prototype.constructor=We;var ze=We;var Ke=Ae?function(e){return Ae.get(e)}:function(){},He={},Ge=Object.prototype.hasOwnProperty;var Qe=function(e){for(var t=e.name+"",n=He[t],r=Ge.call(He,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function Ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ye.prototype=xe(Ve.prototype),Ye.prototype.constructor=Ye;var $e=Ye;var Xe=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Je=function(e){if(e instanceof ze)return e.clone();var t=new $e(e.__wrapped__,e.__chain__);return t.__actions__=Xe(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Ze=Object.prototype.hasOwnProperty;function et(e){if(O(e)&&!j(e)&&!(e instanceof ze)){if(e instanceof $e)return e;if(Ze.call(e,"__wrapped__"))return Je(e)}return new $e(e)}et.prototype=Ve.prototype,et.prototype.constructor=et;var tt=et;var nt=function(e){var t=Qe(e),n=tt[t];if("function"!=typeof n||!(t in ze.prototype))return!1;if(e===n)return!0;var r=Ke(n);return!!r&&e===r[0]},rt=800,it=16,ot=Date.now;var at=function(e){var t=0,n=0;return function(){var r=ot(),i=it-(r-n);if(n=r,i>0){if(++t>=rt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},st=at(Oe),ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /;var lt=function(e){var t=e.match(ut);return t?t[1].split(ct):[]},ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var ht=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ft,"{\n/* [wrapped with "+t+"] */\n")};var dt=function(e){return function(){return e}},pt=function(){try{var e=Ie(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),vt=at(pt?function(e,t){return pt(e,"toString",{configurable:!0,enumerable:!1,value:dt(t),writable:!0})}:he);var mt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var gt=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var yt=function(e){return e!==e};var bt=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var wt=function(e,t,n){return t===t?bt(e,t,n):gt(e,yt,n)};var _t=function(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1},Et=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var St=function(e,t){return mt(Et,(function(n){var r="_."+n[0];t&n[1]&&!_t(e,r)&&e.push(r)})),e.sort()};var Tt=function(e,t,n){var r=t+"";return vt(e,ht(r,St(lt(r),n)))},Ct=1,It=2,kt=4,At=8,Ot=32,Nt=64;var xt=function(e,t,n,r,i,o,a,s,u,c){var l=t&At;t|=l?Ot:Nt,(t&=~(l?Nt:Ot))&kt||(t&=~(Ct|It));var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return nt(e)&&st(h,f),h.placeholder=r,Tt(h,e,t)};var Rt=function(e){return e.placeholder},Pt=Math.min;var Dt=function(e,t){for(var n=e.length,r=Pt(t.length,n),i=Xe(e);r--;){var o=t[r];e[r]=V(o,n)?i[o]:void 0}return e},Mt="__lodash_placeholder__";var jt=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Mt||(e[n]=Mt,o[i++]=n)}return o},Lt=1,Ft=2,Ut=8,Bt=16,Vt=128,qt=512;var Wt=function e(t,n,r,i,o,a,s,u,c,l){var f=n&Vt,h=n&Lt,d=n&Ft,p=n&(Ut|Bt),v=n&qt,g=d?void 0:Re(t);return function y(){for(var b=arguments.length,w=Array(b),_=b;_--;)w[_]=arguments[_];if(p)var E=Rt(y),S=Be(w,E);if(i&&(w=Le(w,i,o,p)),a&&(w=Ue(w,a,s,p)),b-=S,p&&b<l){var T=jt(w,E);return xt(t,n,e,y.placeholder,r,w,T,u,c,l-b)}var C=h?r:this,I=d?C[t]:t;return b=w.length,u?w=Dt(w,u):v&&b>1&&w.reverse(),f&&c<b&&(w.length=c),this&&this!==m&&this instanceof y&&(I=g||Re(I)),I.apply(C,w)}};var zt=function(e,t,n){var r=Re(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,u=Rt(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:jt(a,u);return(o-=c.length)<n?xt(e,t,Wt,i.placeholder,void 0,a,c,void 0,void 0,n-o):Me(this&&this!==m&&this instanceof i?r:e,this,a)}},Kt=1;var Ht=function(e,t,n,r){var i=t&Kt,o=Re(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=Array(c+s),f=this&&this!==m&&this instanceof t?o:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return Me(f,i?n:this,l)}},Gt="__lodash_placeholder__",Qt=1,Yt=2,$t=4,Xt=8,Jt=128,Zt=256,en=Math.min;var tn=function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(Qt|Yt|Jt),a=r==Jt&&n==Xt||r==Jt&&n==Zt&&e[7].length<=t[8]||r==(Jt|Zt)&&t[7].length<=t[8]&&n==Xt;if(!o&&!a)return e;r&Qt&&(e[2]=t[2],i|=n&Qt?0:$t);var s=t[3];if(s){var u=e[3];e[3]=u?Le(u,s,t[4]):s,e[4]=u?jt(e[3],Gt):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?Ue(u,s,t[6]):s,e[6]=u?jt(e[5],Gt):t[6]),(s=t[7])&&(e[7]=s),r&Jt&&(e[8]=null==e[8]?t[8]:en(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},nn="[object Symbol]";var rn=function(e){return"symbol"==typeof e||O(e)&&A(e)==nn},on=NaN,an=/^\s+|\s+$/g,sn=/^[-+]0x[0-9a-f]+$/i,un=/^0b[01]+$/i,cn=/^0o[0-7]+$/i,ln=parseInt;var fn=function(e){if("number"==typeof e)return e;if(rn(e))return on;if(re(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=re(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(an,"");var n=un.test(e);return n||cn.test(e)?ln(e.slice(2),n?2:8):sn.test(e)?on:+e},hn=1/0,dn=17976931348623157e292;var pn=function(e){return e?(e=fn(e))===hn||e===-hn?(e<0?-1:1)*dn:e===e?e:0:0===e?e:0};var vn=function(e){var t=pn(e),n=t%1;return t===t?n?t-n:t:0},mn="Expected a function",gn=1,yn=2,bn=8,wn=16,_n=32,En=64,Sn=Math.max;var Tn=function(e,t,n,r,i,o,a,s){var u=t&yn;if(!u&&"function"!=typeof e)throw new TypeError(mn);var c=r?r.length:0;if(c||(t&=~(_n|En),r=i=void 0),a=void 0===a?a:Sn(vn(a),0),s=void 0===s?s:vn(s),c-=i?i.length:0,t&En){var l=r,f=i;r=i=void 0}var h=u?void 0:Ke(e),d=[e,t,n,r,i,l,f,o,a,s];if(h&&tn(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(s=d[9]=void 0===d[9]?u?0:e.length:Sn(d[9]-c,0))&&t&(bn|wn)&&(t&=~(bn|wn)),t&&t!=gn)p=t==bn||t==wn?zt(e,t,s):t!=_n&&t!=(gn|_n)||i.length?Wt.apply(void 0,d):Ht(e,t,n,r);else var p=De(e,t,n);return Tt((h?Oe:st)(p,d),e,t)},Cn=8;function In(e,t,n){var r=Tn(e,Cn,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=In.placeholder,r}In.placeholder={};var kn=In((function(e,t){return t&&t.hasOwnProperty("items")?Object.assign({},t,{items:a.formatStructure(e.structure,{idProperty:"uuid",parentProperty:"parentIndex"},t.items)}):t})),An=function(e){var t={ref:function(t){var n,r,i;return o._ensureService("database",e).ref((n=t,r=e.env,i=e.locale,Array.isArray(n)&&n[0]&&n[1]?"/flamelink/environments/"+r+"/navigation/"+n[0]+"/"+i+"/"+n[1]:"/flamelink/environments/"+r+"/navigation/"+(n?n+"/"+i:"")))},getRaw:function(e){var n=e.navigationKey,r=u(e,["navigationKey"]);return a.applyOptionsForRTDB(t.ref(n),r).once(r.event||"value")},get:function(n){void 0===n&&(n={});var r=n.navigationKey,o=u(n,["navigationKey"]);return c(this,void 0,void 0,(function(){var n,u,c,f,h,d;return l(this,(function(l){switch(l.label){case 0:return n=a.pluckResultFields(o.fields),[4,t.getRaw(s({navigationKey:r},o))];case 1:return u=l.sent(),r?[4,i(a.unwrap(r),n,a.wrap(r))(u.val())]:[3,3];case 2:return c=l.sent(),[2,kn(o,c)];case 3:return f=u.val(),h=le(f).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=f[n][e.locale],r))}),{}),[4,n(h)];case 4:return d=l.sent(),[2,le(d).reduce((function(e,t){var n,r=d[t];return Object.assign(e,((n={})[t]=kn(o,r),n))}),{})]}}))}))},getItemsRaw:function(e){var n=e.navigationKey,r=u(e,["navigationKey"]);if(!n)throw new a.FlamelinkError('"getItems" method requires a navigation reference');return a.applyOptionsForRTDB(t.ref([n,"items"]),r).once(r.event||"value")},getItems:function(e){void 0===e&&(e={});var n=e.navigationKey,r=u(e,["navigationKey"]);return c(this,void 0,void 0,(function(){var e,o;return l(this,(function(u){switch(u.label){case 0:return e=a.pluckResultFields(r.fields),[4,t.getItemsRaw(s({navigationKey:n},r))];case 1:return o=u.sent(),[2,i(e,a.unwrap("items"),kn(r),a.wrap("items"))(o.val())]}}))}))},subscribeRaw:function(e){var n=e.navigationKey,r=e.callback,i=u(e,["navigationKey","callback"]),o=a.applyOptionsForRTDB(t.ref(n),i);o.on(i.event||"value",(function(e){return r(null,e)}),(function(e){return r(e,null)}));return function(){return o.off(i.event||"value")}},subscribe:function(n){var r=n.navigationKey,o=n.callback,f=u(n,["navigationKey","callback"]);try{var h=a.pluckResultFields(f.fields);return t.subscribeRaw(s({navigationKey:r},f,{callback:function(t,n){return c(this,void 0,void 0,(function(){var s,u,c,d,p;return l(this,(function(l){switch(l.label){case 0:return t?[2,o(t,null)]:r?[4,i(a.unwrap(r),h,a.wrap(r))(n.val())]:[3,2];case 1:return s=l.sent(),[2,o(null,kn(f,s))];case 2:return u=n.val(),c=le(u).reduce((function(t,n){var r;return Object.assign(t,((r={})[n]=u[n][e.locale],r))}),{}),[4,h(c)];case 3:return d=l.sent(),p=le(d).reduce((function(e,t){var n,r=d[t];return Object.assign(e,((n={})[t]=kn(f,r),n))}),{}),[2,o(null,p)]}}))}))}}))}catch(d){return o(d,null)}},add:function(n){var r=n.navigationKey,i=n.data;return c(this,void 0,void 0,(function(){var n;return l(this,(function(o){switch(o.label){case 0:return n="object"===typeof i?Object.assign({},i,{__meta__:{createdBy:a.getCurrentUser(e),createdDate:a.getTimestamp(e)},items:fe(i.items)||[],id:r,title:i.title||r}):i,[4,t.ref(r).set(n)];case 1:return o.sent(),[2,n]}}))}))},update:function(n){var r=n.navigationKey,i=n.data;return c(this,void 0,void 0,(function(){var n;return l(this,(function(o){switch(o.label){case 0:if("string"!==typeof r||"object"!==typeof i&&null!==i)throw new a.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return n="object"===typeof i?Object.assign({},i,{"__meta__/lastModifiedBy":a.getCurrentUser(e),"__meta__/lastModifiedDate":a.getTimestamp(e),id:r}):i,[4,t.ref(r).update(n)];case 1:return o.sent(),[2,n]}}))}))},remove:function(e){var n=e.navigationKey;if(!n)throw new a.FlamelinkError('"remove" called with the incorrect arguments. Check the docs for details.');return t.ref(n).remove()}};return t},On=function(e){return"rtdb"===e.dbType?An(e):null};o._registerModule("nav",On),t.factory=An,t.register=On}).call(this,n(7))},function(e,t,n){"use strict";(function(e){function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(54)),a=r(n(18)),s=n(19),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function d(e,t){return e(t={exports:{}},t.exports),t.exports}var p="object"==typeof h&&h&&h.Object===Object&&h,v="object"==typeof self&&self&&self.Object===Object&&self,m=p||v||Function("return this")(),g=m.Symbol,y=Object.prototype,b=y.hasOwnProperty,w=y.toString,_=g?g.toStringTag:void 0;var E=function(e){var t=b.call(e,_),n=e[_];try{e[_]=void 0;var r=!0}catch(o){}var i=w.call(e);return r&&(t?e[_]=n:delete e[_]),i},S=Object.prototype.toString;var T=function(e){return S.call(e)},C="[object Null]",I="[object Undefined]",k=g?g.toStringTag:void 0;var A=function(e){return null==e?void 0===e?I:C:k&&k in Object(e)?E(e):T(e)};var O=function(e,t){return function(n){return e(t(n))}},N=O(Object.getPrototypeOf,Object);var x=function(e){return null!=e&&"object"==typeof e},R="[object Object]",P=Function.prototype,D=Object.prototype,M=P.toString,j=D.hasOwnProperty,L=M.call(Object);var F=function(e){if(!x(e)||A(e)!=R)return!1;var t=N(e);if(null===t)return!0;var n=j.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&M.call(n)==L};var U=function(){this.__data__=[],this.size=0};var B=function(e,t){return e===t||e!==e&&t!==t};var V=function(e,t){for(var n=e.length;n--;)if(B(e[n][0],t))return n;return-1},q=Array.prototype.splice;var W=function(e){var t=this.__data__,n=V(t,e);return!(n<0)&&(n==t.length-1?t.pop():q.call(t,n,1),--this.size,!0)};var z=function(e){var t=this.__data__,n=V(t,e);return n<0?void 0:t[n][1]};var K=function(e){return V(this.__data__,e)>-1};var H=function(e,t){var n=this.__data__,r=V(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}G.prototype.clear=U,G.prototype.delete=W,G.prototype.get=z,G.prototype.has=K,G.prototype.set=H;var Q=G;var Y=function(){this.__data__=new Q,this.size=0};var $=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var X=function(e){return this.__data__.get(e)};var J=function(e){return this.__data__.has(e)};var Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ee="[object AsyncFunction]",te="[object Function]",ne="[object GeneratorFunction]",re="[object Proxy]";var ie=function(e){if(!Z(e))return!1;var t=A(e);return t==te||t==ne||t==ee||t==re},oe=m["__core-js_shared__"],ae=function(){var e=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var se=function(e){return!!ae&&ae in e},ue=Function.prototype.toString;var ce=function(e){if(null!=e){try{return ue.call(e)}catch(t){}try{return e+""}catch(t){}}return""},le=/^\[object .+?Constructor\]$/,fe=Function.prototype,he=Object.prototype,de=fe.toString,pe=he.hasOwnProperty,ve=RegExp("^"+de.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var me=function(e){return!(!Z(e)||se(e))&&(ie(e)?ve:le).test(ce(e))};var ge=function(e,t){return null==e?void 0:e[t]};var ye=function(e,t){var n=ge(e,t);return me(n)?n:void 0},be=ye(m,"Map"),we=ye(Object,"create");var _e=function(){this.__data__=we?we(null):{},this.size=0};var Ee=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Se="__lodash_hash_undefined__",Te=Object.prototype.hasOwnProperty;var Ce=function(e){var t=this.__data__;if(we){var n=t[e];return n===Se?void 0:n}return Te.call(t,e)?t[e]:void 0},Ie=Object.prototype.hasOwnProperty;var ke=function(e){var t=this.__data__;return we?void 0!==t[e]:Ie.call(t,e)},Ae="__lodash_hash_undefined__";var Oe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=we&&void 0===t?Ae:t,this};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ne.prototype.clear=_e,Ne.prototype.delete=Ee,Ne.prototype.get=Ce,Ne.prototype.has=ke,Ne.prototype.set=Oe;var xe=Ne;var Re=function(){this.size=0,this.__data__={hash:new xe,map:new(be||Q),string:new xe}};var Pe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var De=function(e,t){var n=e.__data__;return Pe(t)?n["string"==typeof t?"string":"hash"]:n.map};var Me=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t};var je=function(e){return De(this,e).get(e)};var Le=function(e){return De(this,e).has(e)};var Fe=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ue.prototype.clear=Re,Ue.prototype.delete=Me,Ue.prototype.get=je,Ue.prototype.has=Le,Ue.prototype.set=Fe;var Be=Ue,Ve=200;var qe=function(e,t){var n=this.__data__;if(n instanceof Q){var r=n.__data__;if(!be||r.length<Ve-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Be(r)}return n.set(e,t),this.size=n.size,this};function We(e){var t=this.__data__=new Q(e);this.size=t.size}We.prototype.clear=Y,We.prototype.delete=$,We.prototype.get=X,We.prototype.has=J,We.prototype.set=qe;var ze=We,Ke="__lodash_hash_undefined__";var He=function(e){return this.__data__.set(e,Ke),this};var Ge=function(e){return this.__data__.has(e)};function Qe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Be;++t<n;)this.add(e[t])}Qe.prototype.add=Qe.prototype.push=He,Qe.prototype.has=Ge;var Ye=Qe;var $e=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Xe=function(e,t){return e.has(t)},Je=1,Ze=2;var et=function(e,t,n,r,i,o){var a=n&Je,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,h=n&Ze?new Ye:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var d=e[l],p=t[l];if(r)var v=a?r(p,d,l,t,e,o):r(d,p,l,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!$e(t,(function(e,t){if(!Xe(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},tt=m.Uint8Array;var nt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var rt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},it=1,ot=2,at="[object Boolean]",st="[object Date]",ut="[object Error]",ct="[object Map]",lt="[object Number]",ft="[object RegExp]",ht="[object Set]",dt="[object String]",pt="[object Symbol]",vt="[object ArrayBuffer]",mt="[object DataView]",gt=g?g.prototype:void 0,yt=gt?gt.valueOf:void 0;var bt=function(e,t,n,r,i,o,a){switch(n){case mt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vt:return!(e.byteLength!=t.byteLength||!o(new tt(e),new tt(t)));case at:case st:case lt:return B(+e,+t);case ut:return e.name==t.name&&e.message==t.message;case ft:case dt:return e==t+"";case ct:var s=nt;case ht:var u=r&it;if(s||(s=rt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=ot,a.set(e,t);var l=et(s(e),s(t),r,i,o,a);return a.delete(e),l;case pt:if(yt)return yt.call(e)==yt.call(t)}return!1};var wt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},_t=Array.isArray;var Et=function(e,t,n){var r=t(e);return _t(e)?r:wt(r,n(e))};var St=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var Tt=function(){return[]},Ct=Object.prototype.propertyIsEnumerable,It=Object.getOwnPropertySymbols,kt=It?function(e){return null==e?[]:(e=Object(e),St(It(e),(function(t){return Ct.call(e,t)})))}:Tt;var At=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Ot="[object Arguments]";var Nt=function(e){return x(e)&&A(e)==Ot},xt=Object.prototype,Rt=xt.hasOwnProperty,Pt=xt.propertyIsEnumerable,Dt=Nt(function(){return arguments}())?Nt:function(e){return x(e)&&Rt.call(e,"callee")&&!Pt.call(e,"callee")};var Mt=function(){return!1},jt=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?m.Buffer:void 0,o=(i?i.isBuffer:void 0)||Mt;e.exports=o})),Lt=9007199254740991,Ft=/^(?:0|[1-9]\d*)$/;var Ut=function(e,t){var n=typeof e;return!!(t=null==t?Lt:t)&&("number"==n||"symbol"!=n&&Ft.test(e))&&e>-1&&e%1==0&&e<t},Bt=9007199254740991;var Vt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Bt},qt={};qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt["[object Arguments]"]=qt["[object Array]"]=qt["[object ArrayBuffer]"]=qt["[object Boolean]"]=qt["[object DataView]"]=qt["[object Date]"]=qt["[object Error]"]=qt["[object Function]"]=qt["[object Map]"]=qt["[object Number]"]=qt["[object Object]"]=qt["[object RegExp]"]=qt["[object Set]"]=qt["[object String]"]=qt["[object WeakMap]"]=!1;var Wt=function(e){return x(e)&&Vt(e.length)&&!!qt[A(e)]};var zt=function(e){return function(t){return e(t)}},Kt=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&p.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),Ht=Kt&&Kt.isTypedArray,Gt=Ht?zt(Ht):Wt,Qt=Object.prototype.hasOwnProperty;var Yt=function(e,t){var n=_t(e),r=!n&&Dt(e),i=!n&&!r&&jt(e),o=!n&&!r&&!i&&Gt(e),a=n||r||i||o,s=a?At(e.length,String):[],u=s.length;for(var c in e)!t&&!Qt.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ut(c,u))||s.push(c);return s},$t=Object.prototype;var Xt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$t)},Jt=O(Object.keys,Object),Zt=Object.prototype.hasOwnProperty;var en=function(e){if(!Xt(e))return Jt(e);var t=[];for(var n in Object(e))Zt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var tn=function(e){return null!=e&&Vt(e.length)&&!ie(e)};var nn=function(e){return tn(e)?Yt(e):en(e)};var rn=function(e){return Et(e,nn,kt)},on=1,an=Object.prototype.hasOwnProperty;var sn=function(e,t,n,r,i,o){var a=n&on,s=rn(e),u=s.length;if(u!=rn(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:an.call(t,l)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++c<u;){var p=e[l=s[c]],v=t[l];if(r)var m=a?r(v,p,l,t,e,o):r(p,v,l,e,t,o);if(!(void 0===m?p===v||i(p,v,n,r,o):m)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h},un=ye(m,"DataView"),cn=ye(m,"Promise"),ln=ye(m,"Set"),fn=ye(m,"WeakMap"),hn=ce(un),dn=ce(be),pn=ce(cn),vn=ce(ln),mn=ce(fn),gn=A;(un&&"[object DataView]"!=gn(new un(new ArrayBuffer(1)))||be&&"[object Map]"!=gn(new be)||cn&&"[object Promise]"!=gn(cn.resolve())||ln&&"[object Set]"!=gn(new ln)||fn&&"[object WeakMap]"!=gn(new fn))&&(gn=function(e){var t=A(e),n="[object Object]"==t?e.constructor:void 0,r=n?ce(n):"";if(r)switch(r){case hn:return"[object DataView]";case dn:return"[object Map]";case pn:return"[object Promise]";case vn:return"[object Set]";case mn:return"[object WeakMap]"}return t});var yn=gn,bn=1,wn="[object Arguments]",_n="[object Array]",En="[object Object]",Sn=Object.prototype.hasOwnProperty;var Tn=function(e,t,n,r,i,o){var a=_t(e),s=_t(t),u=a?_n:yn(e),c=s?_n:yn(t),l=(u=u==wn?En:u)==En,f=(c=c==wn?En:c)==En,h=u==c;if(h&&jt(e)){if(!jt(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new ze),a||Gt(e)?et(e,t,n,r,i,o):bt(e,t,u,n,r,i,o);if(!(n&bn)){var d=l&&Sn.call(e,"__wrapped__"),p=f&&Sn.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return o||(o=new ze),i(v,m,n,r,o)}}return!!h&&(o||(o=new ze),sn(e,t,n,r,i,o))};var Cn=function e(t,n,r,i,o){return t===n||(null==t||null==n||!x(t)&&!x(n)?t!==t&&n!==n:Tn(t,n,r,i,e,o))},In=1,kn=2;var An=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new ze;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?Cn(l,c,In|kn,r,f):h))return!1}}return!0};var On=function(e){return e===e&&!Z(e)};var Nn=function(e){for(var t=nn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,On(i)]}return t};var xn=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Rn=function(e){var t=Nn(e);return 1==t.length&&t[0][2]?xn(t[0][0],t[0][1]):function(n){return n===e||An(n,e,t)}},Pn="[object Symbol]";var Dn=function(e){return"symbol"==typeof e||x(e)&&A(e)==Pn},Mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jn=/^\w*$/;var Ln=function(e,t){if(_t(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Dn(e))||(jn.test(e)||!Mn.test(e)||null!=t&&e in Object(t))},Fn="Expected a function";function Un(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Fn);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Un.Cache||Be),n}Un.Cache=Be;var Bn=Un,Vn=500;var qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wn=/\\(\\)?/g,zn=function(e){var t=Bn(e,(function(e){return n.size===Vn&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(qn,(function(e,n,r,i){t.push(r?i.replace(Wn,"$1"):n||e)})),t}));var Kn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Hn=1/0,Gn=g?g.prototype:void 0,Qn=Gn?Gn.toString:void 0;var Yn=function e(t){if("string"==typeof t)return t;if(_t(t))return Kn(t,e)+"";if(Dn(t))return Qn?Qn.call(t):"";var n=t+"";return"0"==n&&1/t==-Hn?"-0":n};var $n=function(e){return null==e?"":Yn(e)};var Xn=function(e,t){return _t(e)?e:Ln(e,t)?[e]:zn($n(e))},Jn=1/0;var Zn=function(e){if("string"==typeof e||Dn(e))return e;var t=e+"";return"0"==t&&1/e==-Jn?"-0":t};var er=function(e,t){for(var n=0,r=(t=Xn(t,e)).length;null!=e&&n<r;)e=e[Zn(t[n++])];return n&&n==r?e:void 0};var tr=function(e,t,n){var r=null==e?void 0:er(e,t);return void 0===r?n:r};var nr=function(e,t){return null!=e&&t in Object(e)};var rr=function(e,t,n){for(var r=-1,i=(t=Xn(t,e)).length,o=!1;++r<i;){var a=Zn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Vt(i)&&Ut(a,i)&&(_t(e)||Dt(e))};var ir=function(e,t){return null!=e&&rr(e,t,nr)},or=1,ar=2;var sr=function(e,t){return Ln(e)&&On(t)?xn(Zn(e),t):function(n){var r=tr(n,e);return void 0===r&&r===t?ir(n,e):Cn(t,r,or|ar)}};var ur=function(e){return e};var cr=function(e){return function(t){return null==t?void 0:t[e]}};var lr=function(e){return function(t){return er(t,e)}};var fr=function(e){return Ln(e)?cr(Zn(e)):lr(e)};var hr=function(e){return"function"==typeof e?e:null==e?ur:"object"==typeof e?_t(e)?sr(e[0],e[1]):Rn(e):fr(e)};var dr=function(e){return function(t,n,r){var i=Object(t);if(!tn(t)){var o=hr(n);t=nn(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}};var pr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},vr=NaN,mr=/^\s+|\s+$/g,gr=/^[-+]0x[0-9a-f]+$/i,yr=/^0b[01]+$/i,br=/^0o[0-7]+$/i,wr=parseInt;var _r=function(e){if("number"==typeof e)return e;if(Dn(e))return vr;if(Z(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Z(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(mr,"");var n=yr.test(e);return n||br.test(e)?wr(e.slice(2),n?2:8):gr.test(e)?vr:+e},Er=1/0,Sr=17976931348623157e292;var Tr=function(e){return e?(e=_r(e))===Er||e===-Er?(e<0?-1:1)*Sr:e===e?e:0:0===e?e:0};var Cr=function(e){var t=Tr(e),n=t%1;return t===t?n?t-n:t:0},Ir=Math.max;var kr=dr((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Cr(n);return i<0&&(i=Ir(r+i,0)),pr(e,hr(t),i)})),Ar=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Or=function(e,t,n){"__proto__"==t&&Ar?Ar(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Nr=Object.prototype.hasOwnProperty;var xr=function(e,t,n){var r=e[t];Nr.call(e,t)&&B(r,n)&&(void 0!==n||t in e)||Or(e,t,n)};var Rr=function(e,t,n,r){if(!Z(e))return e;for(var i=-1,o=(t=Xn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=Zn(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Z(l)?l:Ut(t[i+1])?[]:{})}xr(s,u,c),s=s[u]}return e};var Pr=function(e,t,n){return null==e?e:Rr(e,t,n)};var Dr=function(e,t){return Kn(t,(function(t){return e[t]}))};var Mr=function(e){return null==e?[]:Dr(e,nn(e))},jr=fn&&new fn,Lr=jr?function(e,t){return jr.set(e,t),e}:ur,Fr=Object.create,Ur=function(){function e(){}return function(t){if(!Z(t))return{};if(Fr)return Fr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Br=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ur(e.prototype),r=e.apply(n,t);return Z(r)?r:n}},Vr=1;var qr=function(e,t,n){var r=t&Vr,i=Br(e);return function t(){return(this&&this!==m&&this instanceof t?i:e).apply(r?n:this,arguments)}};var Wr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},zr=Math.max;var Kr=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=zr(o-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l},Hr=Math.max;var Gr=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Hr(o-s,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f};var Qr=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var Yr=function(){},$r=4294967295;function Xr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$r,this.__views__=[]}Xr.prototype=Ur(Yr.prototype),Xr.prototype.constructor=Xr;var Jr=Xr;var Zr=jr?function(e){return jr.get(e)}:function(){},ei={},ti=Object.prototype.hasOwnProperty;var ni=function(e){for(var t=e.name+"",n=ei[t],r=ti.call(ei,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function ri(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}ri.prototype=Ur(Yr.prototype),ri.prototype.constructor=ri;var ii=ri;var oi=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var ai=function(e){if(e instanceof Jr)return e.clone();var t=new ii(e.__wrapped__,e.__chain__);return t.__actions__=oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},si=Object.prototype.hasOwnProperty;function ui(e){if(x(e)&&!_t(e)&&!(e instanceof Jr)){if(e instanceof ii)return e;if(si.call(e,"__wrapped__"))return ai(e)}return new ii(e)}ui.prototype=Yr.prototype,ui.prototype.constructor=ui;var ci=ui;var li=function(e){var t=ni(e),n=ci[t];if("function"!=typeof n||!(t in Jr.prototype))return!1;if(e===n)return!0;var r=Zr(n);return!!r&&e===r[0]},fi=800,hi=16,di=Date.now;var pi=function(e){var t=0,n=0;return function(){var r=di(),i=hi-(r-n);if(n=r,i>0){if(++t>=fi)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},vi=pi(Lr),mi=/\{\n\/\* \[wrapped with (.+)\] \*/,gi=/,? & /;var yi=function(e){var t=e.match(mi);return t?t[1].split(gi):[]},bi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var wi=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(bi,"{\n/* [wrapped with "+t+"] */\n")};var _i=function(e){return function(){return e}},Ei=pi(Ar?function(e,t){return Ar(e,"toString",{configurable:!0,enumerable:!1,value:_i(t),writable:!0})}:ur);var Si=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Ti=function(e){return e!==e};var Ci=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Ii=function(e,t,n){return t===t?Ci(e,t,n):pr(e,Ti,n)};var ki=function(e,t){return!!(null==e?0:e.length)&&Ii(e,t,0)>-1},Ai=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Oi=function(e,t){return Si(Ai,(function(n){var r="_."+n[0];t&n[1]&&!ki(e,r)&&e.push(r)})),e.sort()};var Ni=function(e,t,n){var r=t+"";return Ei(e,wi(r,Oi(yi(r),n)))},xi=1,Ri=2,Pi=4,Di=8,Mi=32,ji=64;var Li=function(e,t,n,r,i,o,a,s,u,c){var l=t&Di;t|=l?Mi:ji,(t&=~(l?ji:Mi))&Pi||(t&=~(xi|Ri));var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return li(e)&&vi(h,f),h.placeholder=r,Ni(h,e,t)};var Fi=function(e){return e.placeholder},Ui=Math.min;var Bi=function(e,t){for(var n=e.length,r=Ui(t.length,n),i=oi(e);r--;){var o=t[r];e[r]=Ut(o,n)?i[o]:void 0}return e},Vi="__lodash_placeholder__";var qi=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Vi||(e[n]=Vi,o[i++]=n)}return o},Wi=1,zi=2,Ki=8,Hi=16,Gi=128,Qi=512;var Yi=function e(t,n,r,i,o,a,s,u,c,l){var f=n&Gi,h=n&Wi,d=n&zi,p=n&(Ki|Hi),v=n&Qi,g=d?void 0:Br(t);return function y(){for(var b=arguments.length,w=Array(b),_=b;_--;)w[_]=arguments[_];if(p)var E=Fi(y),S=Qr(w,E);if(i&&(w=Kr(w,i,o,p)),a&&(w=Gr(w,a,s,p)),b-=S,p&&b<l){var T=qi(w,E);return Li(t,n,e,y.placeholder,r,w,T,u,c,l-b)}var C=h?r:this,I=d?C[t]:t;return b=w.length,u?w=Bi(w,u):v&&b>1&&w.reverse(),f&&c<b&&(w.length=c),this&&this!==m&&this instanceof y&&(I=g||Br(I)),I.apply(C,w)}};var $i=function(e,t,n){var r=Br(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,u=Fi(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:qi(a,u);return(o-=c.length)<n?Li(e,t,Yi,i.placeholder,void 0,a,c,void 0,void 0,n-o):Wr(this&&this!==m&&this instanceof i?r:e,this,a)}},Xi=1;var Ji=function(e,t,n,r){var i=t&Xi,o=Br(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=Array(c+s),f=this&&this!==m&&this instanceof t?o:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return Wr(f,i?n:this,l)}},Zi="__lodash_placeholder__",eo=1,to=2,no=4,ro=8,io=128,oo=256,ao=Math.min;var so=function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(eo|to|io),a=r==io&&n==ro||r==io&&n==oo&&e[7].length<=t[8]||r==(io|oo)&&t[7].length<=t[8]&&n==ro;if(!o&&!a)return e;r&eo&&(e[2]=t[2],i|=n&eo?0:no);var s=t[3];if(s){var u=e[3];e[3]=u?Kr(u,s,t[4]):s,e[4]=u?qi(e[3],Zi):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?Gr(u,s,t[6]):s,e[6]=u?qi(e[5],Zi):t[6]),(s=t[7])&&(e[7]=s),r&io&&(e[8]=null==e[8]?t[8]:ao(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},uo="Expected a function",co=1,lo=2,fo=8,ho=16,po=32,vo=64,mo=Math.max;var go=function(e,t,n,r,i,o,a,s){var u=t&lo;if(!u&&"function"!=typeof e)throw new TypeError(uo);var c=r?r.length:0;if(c||(t&=~(po|vo),r=i=void 0),a=void 0===a?a:mo(Cr(a),0),s=void 0===s?s:Cr(s),c-=i?i.length:0,t&vo){var l=r,f=i;r=i=void 0}var h=u?void 0:Zr(e),d=[e,t,n,r,i,l,f,o,a,s];if(h&&so(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(s=d[9]=void 0===d[9]?u?0:e.length:mo(d[9]-c,0))&&t&(fo|ho)&&(t&=~(fo|ho)),t&&t!=co)p=t==fo||t==ho?$i(e,t,s):t!=po&&t!=(co|po)||i.length?Yi.apply(void 0,d):Ji(e,t,n,r);else var p=qr(e,t,n);return Ni((h?Lr:vi)(p,d),e,t)},yo=8;function bo(e,t,n){var r=go(e,yo,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=bo.placeholder,r}bo.placeholder={};var wo=bo;var _o=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};var Eo=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}();var So=function(e,t){return function(n,r){if(null==n)return n;if(!tn(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&Eo(e,t,nn)}));var To=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};var Co=function(e,t,n){var r=_t(e)?_o:To,i=arguments.length<3;return r(e,hr(t),n,i,So)},Io="[object String]";var ko=function(e){return"string"==typeof e||!_t(e)&&x(e)&&A(e)==Io},Ao=wo((function(e,t){return e?Co(t,(function(t,n,r){var i,o=tr(n,"folderId.path",tr(n,"folderId.id")),a=ko(o)?o.split("/").pop():n.folderId;return String(a)===String(e)?Object.assign(t,((i={})[r]=n,i)):t}),{}):t})),Oo=function(e,t){var n=void 0===t?{}:t,r=n.width,i=n.path;return i?"/flamelink/media/sized/"+i+"/"+e:"/flamelink/media/"+(r?"sized/"+r+"/":"")+e},No=function(e,t,n){var r=t.map((function(e){return Object.assign({},e,{width:parseInt(e.width||e.maxWidth,10)})}),[]).sort((function(e,t){return e.width-t.width})).find((function(e){return e.width>=n}));r?e.options=Object.assign(e.options,r):s.logWarning("The provided size ("+n+") has been ignored because it did not match any of the given file's available sizes.\nAvailable sizes: "+t.map((function(e){return e.width})).join(", "))},xo=["id","parentId","children","order"],Ro=function(e){var t={_getFolderId:function(e){var n=e.folderName;return l(this,void 0,void 0,(function(){var e,r,i;return f(this,(function(o){switch(o.label){case 0:return n?[4,t.folderRef().where("name","==",n).get()]:[2,null];case 1:return e=o.sent(),r=[],e.forEach((function(e){return r.push(e.data())})),(i=kr(r,{name:n}))?[2,i.id]:[2,null]}}))}))},_getFolderIdFromOptions:function(e){var n=void 0===e?{folderId:"",folderName:""}:e,r=n.folderId,i=n.folderName;return l(this,void 0,void 0,(function(){return f(this,(function(e){return r?[2,r]:[2,t._getFolderId({folderName:i})]}))}))},_setFile:function(n){return l(this,void 0,void 0,(function(){var r;return f(this,(function(i){return r=u({},n,{_fl_meta_:{createdBy:s.getCurrentUser(e),createdDate:s.getTimestamp(e),docId:n.id}}),[2,t.fileRef(n.id).set(r)]}))}))},_createSizedImage:function(n,r,i){var a=this;return void 0===i&&(i={}),new s.PromiseEmitter((function(u,c,h){return l(a,void 0,void 0,(function(){var a,l,d,p,v,m,g;return f(this,(function(f){switch(f.label){case 0:return i&&(i.path||i.width||i.maxWidth)?(a=s.getStorageServiceFactory(e),h.emit(t.UploadEvents.RESIZE_IMAGE_STARTED,r,i),[4,o(n,i)]):[3,3];case 1:return l=f.sent(),h.emit(t.UploadEvents.RESIZE_IMAGE_FINISHED,r,i),d=t.ref(r,{path:i.path,width:i.width||i.maxWidth}),h.emit(t.UploadEvents.SIZED_FILE_UPLOAD_STARTED,r,i),p=e.usesAdminApp?"upload":"put",v=d[p](l),m=void 0,tr(a,"TaskEvent")&&(m=v.on(a.TaskEvent.STATE_CHANGED,(function(e){h.emit(t.UploadEvents.SIZED_FILE_UPLOAD_STATE_CHANGED,e,i)}))),[4,v];case 2:return g=f.sent(),"function"===typeof m&&m(),h.emit(t.UploadEvents.SIZED_FILE_UPLOAD_FINISHED,r,i),[2,u(g)];case 3:return c(new s.FlamelinkError("Invalid size object supplied - please refer to https://flamelink.github.io/flamelink-js-sdk/#/storage?id=upload for more details on upload options.\nImage upload for supplied size skipped for file: "+r)),[2]}}))}))}))},ref:function(t,n){void 0===n&&(n={});var r=c(n,[]);if(e.isNodeEnvironment&&!e.usesAdminApp)throw new s.FlamelinkError("\nThe Firebase client-side SDK cannot access the Storage Bucket server-side.\nPlease use the admin SDK instead - https://www.npmjs.com/package/firebase-admin\n\nInstructions here: https://flamelink.github.io/flamelink-js-sdk/#/getting-started?id=usage","service-unavailable");var i=a._ensureService("storage",e);if(/:\/\//.test(t)){if(e.usesAdminApp)throw new s.FlamelinkError("Retrieving files from URL is not supported for the admin SDK","service-unavailable");return i.refFromURL(t)}return e.usesAdminApp?i.bucket().file(Oo(t,r)):i.ref(Oo(t,r))},folderRef:function(t){var n=a._ensureService("firestore",e);return t?n.collection("fl_folders").doc(t):n.collection("fl_folders")},fileRef:function(t){var n=a._ensureService("firestore",e);return t?n.collection("fl_files").doc(t):n.collection("fl_files")},getFoldersRaw:function(e){var n=c(e,[]);return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,s.applyOptionsForCF(t.folderRef(),n).get({source:n.source||"default"})]}))}))},getFolders:function(n){var r=n.fields,o=n.structure,a=c(n,["fields","structure"]);return l(this,void 0,void 0,(function(){var n,u,c,h,d,p,v,m,g=this;return f(this,(function(y){switch(y.label){case 0:return n=Array.isArray(r)?Array.from(new Set(xo.concat(r))):r,u=s.pluckResultFields(n),[4,t.getFoldersRaw(a)];case 1:return(c=y.sent()).empty?[2,null]:"nested"===o||"tree"===o?[3,3]:(h=[],c.forEach((function(e){return h.push(e.data())})),[4,h.reduce((function(e,t){return e.then((function(e){return l(g,void 0,void 0,(function(){var n;return f(this,(function(r){return[2,Object.assign(e,u((n={},n[t.id]=t,n)))]}))}))}))}),Promise.resolve({}))]);case 2:return[2,y.sent()];case 3:return d=s.processReferencesForCF(e,a),p=s.formatStructure(o,{idProperty:"id",parentProperty:"parentId.id"}),v=[],c.forEach((function(e){return l(g,void 0,void 0,(function(){return f(this,(function(t){return[2,v.push(d(e.data()))]}))}))})),[4,v.reduce((function(e,t){return e.then((function(e){return l(g,void 0,void 0,(function(){var n,r;return f(this,(function(i){switch(i.label){case 0:return[4,t];case 1:return n=i.sent(),[2,Object.assign(e,u((r={},r[n.id]=n,r)))]}}))}))}))}),Promise.resolve({}))];case 4:return m=y.sent(),[2,i(p,Mr)(m)]}}))}))},getFileRaw:function(e){var n=e.fileId,r=c(e,["fileId"]);return l(this,void 0,void 0,(function(){return f(this,(function(e){if(!n)throw new s.FlamelinkError('"storage.getFileRaw()" should be called with at least the file ID',"incorrect-arguments");return[2,s.applyOptionsForCF(t.fileRef(n),r).get({source:r.source||"default"})]}))}))},getFile:function(n){var r=n.fileId,i=c(n,["fileId"]);return l(this,void 0,void 0,(function(){var n,o,a,c,l,h;return f(this,(function(f){switch(f.label){case 0:if(!r)throw new s.FlamelinkError('"storage.getFile()" should be called with at least the file ID',"incorrect-arguments");return n=s.pluckResultFields(i.fields),o=s.processReferencesForCF(e,i),[4,t.getFileRaw(u({fileId:r},i))];case 1:return a=f.sent(),c=n,h={},l=r,[4,o(a.data())];case 2:return[4,c.apply(void 0,[(h[l]=f.sent(),h)])];case 3:return[2,f.sent()[r]]}}))}))},getFilesRaw:function(e){void 0===e&&(e={});var n=c(e,[]);return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,s.applyOptionsForCF(t.fileRef(),n).get({source:n.source||"default"})]}))}))},getFiles:function(n){void 0===n&&(n={});var r=c(n,[]);return l(this,void 0,void 0,(function(){var n,o,a,u,c,h,d,p,v,m=this;return f(this,(function(g){switch(g.label){case 0:return n={},o=Object.assign(n,r,r.mediaType?{orderByChild:"type",equalTo:r.mediaType}:{}),[4,t._getFolderIdFromOptions(o)];case 1:return a=g.sent(),u=Ao(a),c=s.pluckResultFields(o.fields),h=s.processReferencesForCF(e,r),[4,t.getFilesRaw(o)];case 2:return(d=g.sent()).empty?[2,null]:(p=[],d.forEach((function(e){return l(m,void 0,void 0,(function(){return f(this,(function(t){return[2,p.push(h(e.data()))]}))}))})),[4,p.reduce((function(e,t){return e.then((function(e){return l(m,void 0,void 0,(function(){var n,r;return f(this,(function(i){switch(i.label){case 0:return[4,t];case 1:return n=i.sent(),[2,Object.assign(e,(r={},r[n.id]=n,r))]}}))}))}))}),Promise.resolve({}))]);case 3:return v=g.sent(),[2,i(c,u)(v)]}}))}))},getURL:function(n){var r=n.fileId,i=c(n,["fileId"]);return l(this,void 0,void 0,(function(){var n,o,a,c,l,h,d,p,v,m,g,y;return f(this,(function(f){switch(f.label){case 0:if(!r)throw new s.FlamelinkError('"storage.getURL()" should be called with at least the file ID',"incorrect-arguments");return n=i.size,[4,t.getFile(u({fileId:r},i))];case 1:return(o=f.sent())?(a=o.file,c=o.sizes,l={filename:a,options:{}},F(n)?(d=(h=n).width,p=h.height,v=h.quality,d&&p&&v&&(n.path=d+"_"+p+"_"+Math.round(100*parseFloat(v.toString()))),n.path&&tr(c,"[0].path")?c.find((function(e){return e.path===n.path}))?l.options=Object.assign(l.options,{path:n.path}):s.logWarning("The provided path ("+n.path+") has been ignored because it did not match any of the given file's available paths.\nAvailable paths: "+c.map((function(e){return e.path})).join(", ")):d&&c&&c.length&&No(l,c,parseInt(d.toString(),10))):"string"===typeof n&&c&&c.length&&(m="device"===n?function(){if("undefined"===typeof window)throw new s.FlamelinkError("The device's screen resolution can only be retrieved from a browser environment.","incompatibility");var e="devicePixelRatio"in window?window.devicePixelRatio:1;return Math.max(window.screen.width,window.screen.height)*e}():n,No(l,c,Number(m))),[4,t.ref(l.filename,l.options)]):[2,o];case 2:return g=f.sent(),e.usesAdminApp?[4,g.getSignedUrl({action:"read",expires:"01-01-2500"})]:[3,4];case 3:return y=f.sent(),[2,tr(y,"[0]","")];case 4:return[2,g.getDownloadURL()]}}))}))},getMetadata:function(e){var n=e.fileId,r=c(e,["fileId"]);return l(this,void 0,void 0,(function(){var e,i;return f(this,(function(o){switch(o.label){case 0:if(!n)throw new s.FlamelinkError('"storage.getMetadata()" should be called with at least the file ID');return[4,t.getFile(u({fileId:n},r))];case 1:if(!(e=o.sent()))throw new s.FlamelinkError('There is no file for File ID: "'+n+'"');return i=e.file,[2,t.ref(i).getMetadata()]}}))}))},updateMetadata:function(e){var n=e.fileId,r=e.data;return l(this,void 0,void 0,(function(){var e,i;return f(this,(function(o){switch(o.label){case 0:if(!n||!r)throw new s.FlamelinkError('"storage.updateMetadata()" should be called with the "fileID" and the "data" object');return[4,t.getFile({fileId:n})];case 1:if(!(e=o.sent()))throw new s.FlamelinkError('There is no file for File ID: "'+n+'"');return i=e.file,[2,t.ref(i).updateMetadata(r)]}}))}))},deleteFile:function(n){var r=n.fileId,i=c(n,["fileId"]);return l(this,void 0,void 0,(function(){var n,o,a,c=this;return f(this,(function(h){switch(h.label){case 0:if(e.usesAdminApp)throw new s.FlamelinkError('"storage.deleteFile()" is not currently supported for server-side use.');if(!r)throw new s.FlamelinkError('"storage.deleteFile()" should be called with at least the file ID');return[4,t.getFile(u({fileId:r},i))];case 1:return(n=h.sent())?(o=n.file,a=n.sizes,[4,t.ref(o).delete()]):[2,n];case 2:return h.sent(),Array.isArray(a)?[4,Promise.all(a.map((function(e){return l(c,void 0,void 0,(function(){var n,r;return f(this,(function(i){return n=e.width||e.maxWidth,r=e.path,n||r?[2,t.ref(o,{width:n,path:r}).delete()]:[2,Promise.resolve()]}))}))})))]:[3,4];case 3:h.sent(),h.label=4;case 4:return[2,t.fileRef(r).delete()]}}))}))},upload:function(n,r){var i=this;return void 0===r&&(r={}),new s.PromiseEmitter((function(o,a,u){return l(i,void 0,void 0,(function(){var i,c,h,d,p,v,m,g,y,b,w,_,E,S,T,C,I,k=this;return f(this,(function(A){switch(A.label){case 0:return A.trys.push([0,7,,8]),i=s.getStorageServiceFactory(e),u.emit(t.UploadEvents.START),c=r.sizes,h=r.overwriteSizes,[4,tr(e,"modules.settings",{getImageSizes:function(){}}).getImageSizes()];case 1:return(d=A.sent())&&(c||h?c&&c.length&&!h&&Pr(r,"sizes",d.concat(c)||[]):Pr(r,"sizes",d||[])),(!r.sizes||r.sizes&&0===r.sizes.length||Array.isArray(r.sizes)&&0===r.sizes.filter((function(e){return(240===e.width||240===e.maxWidth)&&!e.height&&!e.quality})).length)&&(Array.isArray(r.sizes)?r.sizes.push({width:240}):Pr(r,"sizes",[{width:240}])),p=t.fileRef().doc().id,v=tr(r,"metadata",{}),m="object"===typeof n&&n.name||"string"===typeof v.name?p+"_"+(v.name||n.name):p,g=t.ref(m,r),y=e.usesAdminApp?"upload":"string"===typeof n?"putString":"put",b=[n],[4,t._getFolderIdFromOptions(r)];case 2:return"number"===typeof(w=A.sent())&&(w=w.toString()),Pr(r,"metadata.customMetadata.flamelinkFileId",p),Pr(r,"metadata.customMetadata.flamelinkFolderId",w),b.push(r.metadata),"putString"===y&&r.stringEncoding&&b.splice(1,0,r.stringEncoding),_=g[y].apply(g,b),u.emit(t.UploadEvents.MAIN_FILE_UPLOAD_STARTED),E=void 0,tr(i,"TaskEvent")&&(E=_.on(i.TaskEvent.STATE_CHANGED,(function(e){u.emit(t.UploadEvents.MAIN_FILE_UPLOAD_STATE_CHANGED,e)}))),[4,_];case 3:return S=A.sent(),"function"===typeof E&&E(),u.emit(t.UploadEvents.MAIN_FILE_UPLOAD_FINISHED),T=/^image\//.test(tr(S,"metadata.contentType"))?"images":"files",C={id:p,file:tr(S,"metadata.name",""),folderId:t.folderRef(w||"root"),type:T,contentType:tr(S,"metadata.contentType","")},"images"===T&&"put"===y&&Array.isArray(r.sizes)?(u.emit(t.UploadEvents.SIZED_FILES_UPLOAD_STARTED),C.sizes=r.sizes.map((function(e){var t=e.width,n=e.height,r=e.quality;return t&&n&&r?Object.assign({},e,{path:t+"_"+n+"_"+Math.round(100*parseFloat(r.toString()))}):e})),[4,Promise.all(C.sizes.map((function(e){return l(k,void 0,void 0,(function(){var r,i;return f(this,(function(o){switch(o.label){case 0:return r=t._createSizedImage(n,m,e),i=r.on("*",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.emit.apply(u,[e].concat(t))})),[4,r];case 1:return o.sent(),i(),[2]}}))}))})))]):[3,5];case 4:A.sent(),u.emit(t.UploadEvents.SIZED_FILES_UPLOAD_FINISHED),A.label=5;case 5:return u.emit(t.UploadEvents.DB_PERSIST_STARTED),[4,t._setFile(C)];case 6:return A.sent(),u.emit(t.UploadEvents.DB_PERSIST_FINISHED),u.emit(t.UploadEvents.SUCCESS,C),[2,o(C)];case 7:return I=A.sent(),u.emit(t.UploadEvents.FAILURE,I),a(I),[3,8];case 8:return[2]}}))}))}))},get UploadEvents(){return t=s.getStorageServiceFactory(e),u({ALL:"*",START:"upload_start",SUCCESS:"upload_success",FAILURE:"upload_failure",DB_PERSIST_STARTED:"file_db_persist_started",DB_PERSIST_FINISHED:"file_db_persist_finished",MAIN_FILE_UPLOAD_STARTED:"main_file_upload_started",MAIN_FILE_UPLOAD_FINISHED:"main_file_upload_finished",SIZED_FILES_UPLOAD_STARTED:"sized_files_upload_started",SIZED_FILES_UPLOAD_FINISHED:"sized_files_upload_finished",SIZED_FILE_UPLOAD_STARTED:"sized_file_upload_started",SIZED_FILE_UPLOAD_FINISHED:"sized_file_upload_finished",RESIZE_IMAGE_STARTED:"resize_image_start",RESIZE_IMAGE_FINISHED:"resize_image_finished"},tr(t,"TaskEvent.STATE_CHANGED")?{MAIN_FILE_UPLOAD_STATE_CHANGED:"main_file_upload_"+t.TaskEvent.STATE_CHANGED,SIZED_FILE_UPLOAD_STATE_CHANGED:"sized_file_upload_"+t.TaskEvent.STATE_CHANGED}:{});var t}};return t},Po=function(e){return"cf"===e.dbType?Ro(e):null};a._registerModule("storage",Po),t.factory=Ro,t.register=Po}).call(this,n(7))},function(e,t,n){"use strict";var r,i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var n=!1,o=function e(t){return t instanceof e?t:this instanceof e?void(this.EXIFwrapped=t):new e(t)};e.exports&&(t=e.exports=o),t.EXIF=o;var a=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},u=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},c=o.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},l=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function f(e){return!!e.exifdata}function h(e,t){function r(r){var i=d(r),o=function(e){var t=new DataView(e);n&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return n&&console.log("Not a valid JPEG"),!1;var r=2,i=e.byteLength,o=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;r<i;){if(o(t,r)){var a=t.getUint8(r+7);a%2!==0&&(a+=1),0===a&&(a=4);var s=r+8+a,u=t.getUint16(r+6+a);return v(e,s,u)}r++}}(r);e.exifdata=i||{},e.iptcdata=o||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))r(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0;a<r;a++)o[a]=n.charCodeAt(a);return i}(e.src));else if(/^blob\:/i.test(e.src)){(o=new FileReader).onload=function(e){r(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){o.readAsArrayBuffer(e)}))}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";r(i.response),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var o;(o=new FileReader).onload=function(e){n&&console.log("Got file of length "+e.target.result.byteLength),r(e.target.result)},o.readAsArrayBuffer(e)}}function d(e){var t=new DataView(e);if(n&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return n&&console.log("Not a valid JPEG"),!1;for(var r,i=2,o=e.byteLength;i<o;){if(255!=t.getUint8(i))return n&&console.log("Not a valid marker at offset "+i+", found: "+t.getUint8(i)),!1;if(r=t.getUint8(i+1),n&&console.log(r),225==r)return n&&console.log("Found 0xFFE1 marker"),b(t,i+4,t.getUint16(i+2));i+=2+t.getUint16(i+2)}}var p={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function v(e,t,n){for(var r,i,o,a,s=new DataView(e),u={},c=t;c<t+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in p&&((o=s.getInt16(c+3))+5,i=p[a],r=y(s,c+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(r):u[i]=[u[i],r]:u[i]=r),c++;return u}function m(e,t,r,i,o){var a,s,u,c=e.getUint16(r,!o),l={};for(u=0;u<c;u++)a=r+12*u+2,!(s=i[e.getUint16(a,!o)])&&n&&console.log("Unknown tag: "+e.getUint16(a,!o)),l[s]=g(e,a,t,r,o);return l}function g(e,t,n,r,i){var o,a,s,u,c,l,f=e.getUint16(t+2,!i),h=e.getUint32(t+4,!i),d=e.getUint32(t+8,!i)+n;switch(f){case 1:case 7:if(1==h)return e.getUint8(t+8,!i);for(o=h>4?d:t+8,a=[],u=0;u<h;u++)a[u]=e.getUint8(o+u);return a;case 2:return y(e,o=h>4?d:t+8,h-1);case 3:if(1==h)return e.getUint16(t+8,!i);for(o=h>2?d:t+8,a=[],u=0;u<h;u++)a[u]=e.getUint16(o+2*u,!i);return a;case 4:if(1==h)return e.getUint32(t+8,!i);for(a=[],u=0;u<h;u++)a[u]=e.getUint32(d+4*u,!i);return a;case 5:if(1==h)return c=e.getUint32(d,!i),l=e.getUint32(d+4,!i),(s=new Number(c/l)).numerator=c,s.denominator=l,s;for(a=[],u=0;u<h;u++)c=e.getUint32(d+8*u,!i),l=e.getUint32(d+4+8*u,!i),a[u]=new Number(c/l),a[u].numerator=c,a[u].denominator=l;return a;case 9:if(1==h)return e.getInt32(t+8,!i);for(a=[],u=0;u<h;u++)a[u]=e.getInt32(d+4*u,!i);return a;case 10:if(1==h)return e.getInt32(d,!i)/e.getInt32(d+4,!i);for(a=[],u=0;u<h;u++)a[u]=e.getInt32(d+8*u,!i)/e.getInt32(d+4+8*u,!i);return a}}function y(e,t,n){for(var r="",i=t;i<t+n;i++)r+=String.fromCharCode(e.getUint8(i));return r}function b(e,t){if("Exif"!=y(e,t,4))return n&&console.log("Not valid EXIF data! "+y(e,t,4)),!1;var r,i,o,f,h,d=t+6;if(18761==e.getUint16(d))r=!1;else{if(19789!=e.getUint16(d))return n&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;r=!0}if(42!=e.getUint16(d+2,!r))return n&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var p=e.getUint32(d+4,!r);if(p<8)return n&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(d+4,!r)),!1;if((i=m(e,d,d+p,s,r)).ExifIFDPointer)for(o in f=m(e,d,d+i.ExifIFDPointer,a,r)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":f[o]=l[o][f[o]];break;case"ExifVersion":case"FlashpixVersion":f[o]=String.fromCharCode(f[o][0],f[o][1],f[o][2],f[o][3]);break;case"ComponentsConfiguration":f[o]=l.Components[f[o][0]]+l.Components[f[o][1]]+l.Components[f[o][2]]+l.Components[f[o][3]]}i[o]=f[o]}if(i.GPSInfoIFDPointer)for(o in h=m(e,d,d+i.GPSInfoIFDPointer,u,r)){switch(o){case"GPSVersionID":h[o]=h[o][0]+"."+h[o][1]+"."+h[o][2]+"."+h[o][3]}i[o]=h[o]}return i.thumbnail=function(e,t,n,r){var i=function(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}(e,t+n,r);if(!i)return{};if(i>e.byteLength)return{};var o=m(e,t,t+i,c,r);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var a=t+o.JpegIFOffset,s=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(e.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(e,d,p,r),i}o.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(f(e)?t&&t.call(e):h(e,t),!0)},o.getTag=function(e,t){if(f(e))return e.exifdata[t]},o.getIptcTag=function(e,t){if(f(e))return e.iptcdata[t]},o.getAllTags=function(e){if(!f(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},o.getAllIptcTags=function(e){if(!f(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},o.pretty=function(e){if(!f(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==i(n[t])?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},o.readFromBinaryFile=function(e){return d(e)},void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}).call(void 0)},function(e,t,n){"use strict";(function(e){function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(54)),a=r(n(18)),s=n(19),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var d=function(e,t){return h(t,(function(t){return e[t]}))};var p=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function m(e,t){return e(t={exports:{}},t.exports),t.exports}var g="object"==typeof v&&v&&v.Object===Object&&v,y="object"==typeof self&&self&&self.Object===Object&&self,b=g||y||Function("return this")(),w=b.Symbol,_=Object.prototype,E=_.hasOwnProperty,S=_.toString,T=w?w.toStringTag:void 0;var C=function(e){var t=E.call(e,T),n=e[T];try{e[T]=void 0;var r=!0}catch(o){}var i=S.call(e);return r&&(t?e[T]=n:delete e[T]),i},I=Object.prototype.toString;var k=function(e){return I.call(e)},A="[object Null]",O="[object Undefined]",N=w?w.toStringTag:void 0;var x=function(e){return null==e?void 0===e?O:A:N&&N in Object(e)?C(e):k(e)};var R=function(e){return null!=e&&"object"==typeof e},P="[object Arguments]";var D=function(e){return R(e)&&x(e)==P},M=Object.prototype,j=M.hasOwnProperty,L=M.propertyIsEnumerable,F=D(function(){return arguments}())?D:function(e){return R(e)&&j.call(e,"callee")&&!L.call(e,"callee")},U=Array.isArray;var B=function(){return!1},V=m((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?b.Buffer:void 0,o=(i?i.isBuffer:void 0)||B;e.exports=o})),q=9007199254740991,W=/^(?:0|[1-9]\d*)$/;var z=function(e,t){var n=typeof e;return!!(t=null==t?q:t)&&("number"==n||"symbol"!=n&&W.test(e))&&e>-1&&e%1==0&&e<t},K=9007199254740991;var H=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=K},G={};G["[object Float32Array]"]=G["[object Float64Array]"]=G["[object Int8Array]"]=G["[object Int16Array]"]=G["[object Int32Array]"]=G["[object Uint8Array]"]=G["[object Uint8ClampedArray]"]=G["[object Uint16Array]"]=G["[object Uint32Array]"]=!0,G["[object Arguments]"]=G["[object Array]"]=G["[object ArrayBuffer]"]=G["[object Boolean]"]=G["[object DataView]"]=G["[object Date]"]=G["[object Error]"]=G["[object Function]"]=G["[object Map]"]=G["[object Number]"]=G["[object Object]"]=G["[object RegExp]"]=G["[object Set]"]=G["[object String]"]=G["[object WeakMap]"]=!1;var Q=function(e){return R(e)&&H(e.length)&&!!G[x(e)]};var Y=function(e){return function(t){return e(t)}},$=m((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&g.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),X=$&&$.isTypedArray,J=X?Y(X):Q,Z=Object.prototype.hasOwnProperty;var ee=function(e,t){var n=U(e),r=!n&&F(e),i=!n&&!r&&V(e),o=!n&&!r&&!i&&J(e),a=n||r||i||o,s=a?p(e.length,String):[],u=s.length;for(var c in e)!t&&!Z.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||z(c,u))||s.push(c);return s},te=Object.prototype;var ne=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||te)};var re=function(e,t){return function(n){return e(t(n))}},ie=re(Object.keys,Object),oe=Object.prototype.hasOwnProperty;var ae=function(e){if(!ne(e))return ie(e);var t=[];for(var n in Object(e))oe.call(e,n)&&"constructor"!=n&&t.push(n);return t};var se=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ue="[object AsyncFunction]",ce="[object Function]",le="[object GeneratorFunction]",fe="[object Proxy]";var he=function(e){if(!se(e))return!1;var t=x(e);return t==ce||t==le||t==ue||t==fe};var de=function(e){return null!=e&&H(e.length)&&!he(e)};var pe=function(e){return de(e)?ee(e):ae(e)};var ve=function(e){return null==e?[]:d(e,pe(e))},me=re(Object.getPrototypeOf,Object),ge="[object Object]",ye=Function.prototype,be=Object.prototype,we=ye.toString,_e=be.hasOwnProperty,Ee=we.call(Object);var Se=function(e){if(!R(e)||x(e)!=ge)return!1;var t=me(e);if(null===t)return!0;var n=_e.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&we.call(n)==Ee};var Te=function(){this.__data__=[],this.size=0};var Ce=function(e,t){return e===t||e!==e&&t!==t};var Ie=function(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1},ke=Array.prototype.splice;var Ae=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():ke.call(t,n,1),--this.size,!0)};var Oe=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]};var Ne=function(e){return Ie(this.__data__,e)>-1};var xe=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Re.prototype.clear=Te,Re.prototype.delete=Ae,Re.prototype.get=Oe,Re.prototype.has=Ne,Re.prototype.set=xe;var Pe=Re;var De=function(){this.__data__=new Pe,this.size=0};var Me=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var je=function(e){return this.__data__.get(e)};var Le=function(e){return this.__data__.has(e)},Fe=b["__core-js_shared__"],Ue=function(){var e=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Be=function(e){return!!Ue&&Ue in e},Ve=Function.prototype.toString;var qe=function(e){if(null!=e){try{return Ve.call(e)}catch(t){}try{return e+""}catch(t){}}return""},We=/^\[object .+?Constructor\]$/,ze=Function.prototype,Ke=Object.prototype,He=ze.toString,Ge=Ke.hasOwnProperty,Qe=RegExp("^"+He.call(Ge).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ye=function(e){return!(!se(e)||Be(e))&&(he(e)?Qe:We).test(qe(e))};var $e=function(e,t){return null==e?void 0:e[t]};var Xe=function(e,t){var n=$e(e,t);return Ye(n)?n:void 0},Je=Xe(b,"Map"),Ze=Xe(Object,"create");var et=function(){this.__data__=Ze?Ze(null):{},this.size=0};var tt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},nt="__lodash_hash_undefined__",rt=Object.prototype.hasOwnProperty;var it=function(e){var t=this.__data__;if(Ze){var n=t[e];return n===nt?void 0:n}return rt.call(t,e)?t[e]:void 0},ot=Object.prototype.hasOwnProperty;var at=function(e){var t=this.__data__;return Ze?void 0!==t[e]:ot.call(t,e)},st="__lodash_hash_undefined__";var ut=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ze&&void 0===t?st:t,this};function ct(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ct.prototype.clear=et,ct.prototype.delete=tt,ct.prototype.get=it,ct.prototype.has=at,ct.prototype.set=ut;var lt=ct;var ft=function(){this.size=0,this.__data__={hash:new lt,map:new(Je||Pe),string:new lt}};var ht=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var dt=function(e,t){var n=e.__data__;return ht(t)?n["string"==typeof t?"string":"hash"]:n.map};var pt=function(e){var t=dt(this,e).delete(e);return this.size-=t?1:0,t};var vt=function(e){return dt(this,e).get(e)};var mt=function(e){return dt(this,e).has(e)};var gt=function(e,t){var n=dt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function yt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yt.prototype.clear=ft,yt.prototype.delete=pt,yt.prototype.get=vt,yt.prototype.has=mt,yt.prototype.set=gt;var bt=yt,wt=200;var _t=function(e,t){var n=this.__data__;if(n instanceof Pe){var r=n.__data__;if(!Je||r.length<wt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new bt(r)}return n.set(e,t),this.size=n.size,this};function Et(e){var t=this.__data__=new Pe(e);this.size=t.size}Et.prototype.clear=De,Et.prototype.delete=Me,Et.prototype.get=je,Et.prototype.has=Le,Et.prototype.set=_t;var St=Et,Tt="__lodash_hash_undefined__";var Ct=function(e){return this.__data__.set(e,Tt),this};var It=function(e){return this.__data__.has(e)};function kt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new bt;++t<n;)this.add(e[t])}kt.prototype.add=kt.prototype.push=Ct,kt.prototype.has=It;var At=kt;var Ot=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Nt=function(e,t){return e.has(t)},xt=1,Rt=2;var Pt=function(e,t,n,r,i,o){var a=n&xt,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,h=n&Rt?new At:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var d=e[l],p=t[l];if(r)var v=a?r(p,d,l,t,e,o):r(d,p,l,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!Ot(t,(function(e,t){if(!Nt(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},Dt=b.Uint8Array;var Mt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var jt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Lt=1,Ft=2,Ut="[object Boolean]",Bt="[object Date]",Vt="[object Error]",qt="[object Map]",Wt="[object Number]",zt="[object RegExp]",Kt="[object Set]",Ht="[object String]",Gt="[object Symbol]",Qt="[object ArrayBuffer]",Yt="[object DataView]",$t=w?w.prototype:void 0,Xt=$t?$t.valueOf:void 0;var Jt=function(e,t,n,r,i,o,a){switch(n){case Yt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Qt:return!(e.byteLength!=t.byteLength||!o(new Dt(e),new Dt(t)));case Ut:case Bt:case Wt:return Ce(+e,+t);case Vt:return e.name==t.name&&e.message==t.message;case zt:case Ht:return e==t+"";case qt:var s=Mt;case Kt:var u=r&Lt;if(s||(s=jt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=Ft,a.set(e,t);var l=Pt(s(e),s(t),r,i,o,a);return a.delete(e),l;case Gt:if(Xt)return Xt.call(e)==Xt.call(t)}return!1};var Zt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var en=function(e,t,n){var r=t(e);return U(e)?r:Zt(r,n(e))};var tn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var nn=function(){return[]},rn=Object.prototype.propertyIsEnumerable,on=Object.getOwnPropertySymbols,an=on?function(e){return null==e?[]:(e=Object(e),tn(on(e),(function(t){return rn.call(e,t)})))}:nn;var sn=function(e){return en(e,pe,an)},un=1,cn=Object.prototype.hasOwnProperty;var ln=function(e,t,n,r,i,o){var a=n&un,s=sn(e),u=s.length;if(u!=sn(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:cn.call(t,l)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++c<u;){var p=e[l=s[c]],v=t[l];if(r)var m=a?r(v,p,l,t,e,o):r(p,v,l,e,t,o);if(!(void 0===m?p===v||i(p,v,n,r,o):m)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h},fn=Xe(b,"DataView"),hn=Xe(b,"Promise"),dn=Xe(b,"Set"),pn=Xe(b,"WeakMap"),vn=qe(fn),mn=qe(Je),gn=qe(hn),yn=qe(dn),bn=qe(pn),wn=x;(fn&&"[object DataView]"!=wn(new fn(new ArrayBuffer(1)))||Je&&"[object Map]"!=wn(new Je)||hn&&"[object Promise]"!=wn(hn.resolve())||dn&&"[object Set]"!=wn(new dn)||pn&&"[object WeakMap]"!=wn(new pn))&&(wn=function(e){var t=x(e),n="[object Object]"==t?e.constructor:void 0,r=n?qe(n):"";if(r)switch(r){case vn:return"[object DataView]";case mn:return"[object Map]";case gn:return"[object Promise]";case yn:return"[object Set]";case bn:return"[object WeakMap]"}return t});var _n=wn,En=1,Sn="[object Arguments]",Tn="[object Array]",Cn="[object Object]",In=Object.prototype.hasOwnProperty;var kn=function(e,t,n,r,i,o){var a=U(e),s=U(t),u=a?Tn:_n(e),c=s?Tn:_n(t),l=(u=u==Sn?Cn:u)==Cn,f=(c=c==Sn?Cn:c)==Cn,h=u==c;if(h&&V(e)){if(!V(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new St),a||J(e)?Pt(e,t,n,r,i,o):Jt(e,t,u,n,r,i,o);if(!(n&En)){var d=l&&In.call(e,"__wrapped__"),p=f&&In.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return o||(o=new St),i(v,m,n,r,o)}}return!!h&&(o||(o=new St),ln(e,t,n,r,i,o))};var An=function e(t,n,r,i,o){return t===n||(null==t||null==n||!R(t)&&!R(n)?t!==t&&n!==n:kn(t,n,r,i,e,o))},On=1,Nn=2;var xn=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new St;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?An(l,c,On|Nn,r,f):h))return!1}}return!0};var Rn=function(e){return e===e&&!se(e)};var Pn=function(e){for(var t=pe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Rn(i)]}return t};var Dn=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Mn=function(e){var t=Pn(e);return 1==t.length&&t[0][2]?Dn(t[0][0],t[0][1]):function(n){return n===e||xn(n,e,t)}},jn="[object Symbol]";var Ln=function(e){return"symbol"==typeof e||R(e)&&x(e)==jn},Fn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Un=/^\w*$/;var Bn=function(e,t){if(U(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ln(e))||(Un.test(e)||!Fn.test(e)||null!=t&&e in Object(t))},Vn="Expected a function";function qn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Vn);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(qn.Cache||bt),n}qn.Cache=bt;var Wn=qn,zn=500;var Kn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hn=/\\(\\)?/g,Gn=function(e){var t=Wn(e,(function(e){return n.size===zn&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Kn,(function(e,n,r,i){t.push(r?i.replace(Hn,"$1"):n||e)})),t})),Qn=1/0,Yn=w?w.prototype:void 0,$n=Yn?Yn.toString:void 0;var Xn=function e(t){if("string"==typeof t)return t;if(U(t))return h(t,e)+"";if(Ln(t))return $n?$n.call(t):"";var n=t+"";return"0"==n&&1/t==-Qn?"-0":n};var Jn=function(e){return null==e?"":Xn(e)};var Zn=function(e,t){return U(e)?e:Bn(e,t)?[e]:Gn(Jn(e))},er=1/0;var tr=function(e){if("string"==typeof e||Ln(e))return e;var t=e+"";return"0"==t&&1/e==-er?"-0":t};var nr=function(e,t){for(var n=0,r=(t=Zn(t,e)).length;null!=e&&n<r;)e=e[tr(t[n++])];return n&&n==r?e:void 0};var rr=function(e,t,n){var r=null==e?void 0:nr(e,t);return void 0===r?n:r};var ir=function(e,t){return null!=e&&t in Object(e)};var or=function(e,t,n){for(var r=-1,i=(t=Zn(t,e)).length,o=!1;++r<i;){var a=tr(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&H(i)&&z(a,i)&&(U(e)||F(e))};var ar=function(e,t){return null!=e&&or(e,t,ir)},sr=1,ur=2;var cr=function(e,t){return Bn(e)&&Rn(t)?Dn(tr(e),t):function(n){var r=rr(n,e);return void 0===r&&r===t?ar(n,e):An(t,r,sr|ur)}};var lr=function(e){return e};var fr=function(e){return function(t){return null==t?void 0:t[e]}};var hr=function(e){return function(t){return nr(t,e)}};var dr=function(e){return Bn(e)?fr(tr(e)):hr(e)};var pr=function(e){return"function"==typeof e?e:null==e?lr:"object"==typeof e?U(e)?cr(e[0],e[1]):Mn(e):dr(e)};var vr=function(e){return function(t,n,r){var i=Object(t);if(!de(t)){var o=pr(n);t=pe(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}};var mr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},gr=NaN,yr=/^\s+|\s+$/g,br=/^[-+]0x[0-9a-f]+$/i,wr=/^0b[01]+$/i,_r=/^0o[0-7]+$/i,Er=parseInt;var Sr=function(e){if("number"==typeof e)return e;if(Ln(e))return gr;if(se(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=se(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(yr,"");var n=wr.test(e);return n||_r.test(e)?Er(e.slice(2),n?2:8):br.test(e)?gr:+e},Tr=1/0,Cr=17976931348623157e292;var Ir=function(e){return e?(e=Sr(e))===Tr||e===-Tr?(e<0?-1:1)*Cr:e===e?e:0:0===e?e:0};var kr=function(e){var t=Ir(e),n=t%1;return t===t?n?t-n:t:0},Ar=Math.max;var Or=vr((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:kr(n);return i<0&&(i=Ar(r+i,0)),mr(e,pr(t),i)})),Nr=function(){try{var e=Xe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var xr=function(e,t,n){"__proto__"==t&&Nr?Nr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Rr=Object.prototype.hasOwnProperty;var Pr=function(e,t,n){var r=e[t];Rr.call(e,t)&&Ce(r,n)&&(void 0!==n||t in e)||xr(e,t,n)};var Dr=function(e,t,n,r){if(!se(e))return e;for(var i=-1,o=(t=Zn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=tr(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=se(l)?l:z(t[i+1])?[]:{})}Pr(s,u,c),s=s[u]}return e};var Mr=function(e,t,n){return null==e?e:Dr(e,t,n)},jr=pn&&new pn,Lr=jr?function(e,t){return jr.set(e,t),e}:lr,Fr=Object.create,Ur=function(){function e(){}return function(t){if(!se(t))return{};if(Fr)return Fr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Br=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ur(e.prototype),r=e.apply(n,t);return se(r)?r:n}},Vr=1;var qr=function(e,t,n){var r=t&Vr,i=Br(e);return function t(){return(this&&this!==b&&this instanceof t?i:e).apply(r?n:this,arguments)}};var Wr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},zr=Math.max;var Kr=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=zr(o-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l},Hr=Math.max;var Gr=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Hr(o-s,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f};var Qr=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var Yr=function(){},$r=4294967295;function Xr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$r,this.__views__=[]}Xr.prototype=Ur(Yr.prototype),Xr.prototype.constructor=Xr;var Jr=Xr;var Zr=jr?function(e){return jr.get(e)}:function(){},ei={},ti=Object.prototype.hasOwnProperty;var ni=function(e){for(var t=e.name+"",n=ei[t],r=ti.call(ei,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function ri(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}ri.prototype=Ur(Yr.prototype),ri.prototype.constructor=ri;var ii=ri;var oi=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var ai=function(e){if(e instanceof Jr)return e.clone();var t=new ii(e.__wrapped__,e.__chain__);return t.__actions__=oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},si=Object.prototype.hasOwnProperty;function ui(e){if(R(e)&&!U(e)&&!(e instanceof Jr)){if(e instanceof ii)return e;if(si.call(e,"__wrapped__"))return ai(e)}return new ii(e)}ui.prototype=Yr.prototype,ui.prototype.constructor=ui;var ci=ui;var li=function(e){var t=ni(e),n=ci[t];if("function"!=typeof n||!(t in Jr.prototype))return!1;if(e===n)return!0;var r=Zr(n);return!!r&&e===r[0]},fi=800,hi=16,di=Date.now;var pi=function(e){var t=0,n=0;return function(){var r=di(),i=hi-(r-n);if(n=r,i>0){if(++t>=fi)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},vi=pi(Lr),mi=/\{\n\/\* \[wrapped with (.+)\] \*/,gi=/,? & /;var yi=function(e){var t=e.match(mi);return t?t[1].split(gi):[]},bi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var wi=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(bi,"{\n/* [wrapped with "+t+"] */\n")};var _i=function(e){return function(){return e}},Ei=pi(Nr?function(e,t){return Nr(e,"toString",{configurable:!0,enumerable:!1,value:_i(t),writable:!0})}:lr);var Si=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Ti=function(e){return e!==e};var Ci=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Ii=function(e,t,n){return t===t?Ci(e,t,n):mr(e,Ti,n)};var ki=function(e,t){return!!(null==e?0:e.length)&&Ii(e,t,0)>-1},Ai=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Oi=function(e,t){return Si(Ai,(function(n){var r="_."+n[0];t&n[1]&&!ki(e,r)&&e.push(r)})),e.sort()};var Ni=function(e,t,n){var r=t+"";return Ei(e,wi(r,Oi(yi(r),n)))},xi=1,Ri=2,Pi=4,Di=8,Mi=32,ji=64;var Li=function(e,t,n,r,i,o,a,s,u,c){var l=t&Di;t|=l?Mi:ji,(t&=~(l?ji:Mi))&Pi||(t&=~(xi|Ri));var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return li(e)&&vi(h,f),h.placeholder=r,Ni(h,e,t)};var Fi=function(e){return e.placeholder},Ui=Math.min;var Bi=function(e,t){for(var n=e.length,r=Ui(t.length,n),i=oi(e);r--;){var o=t[r];e[r]=z(o,n)?i[o]:void 0}return e},Vi="__lodash_placeholder__";var qi=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Vi||(e[n]=Vi,o[i++]=n)}return o},Wi=1,zi=2,Ki=8,Hi=16,Gi=128,Qi=512;var Yi=function e(t,n,r,i,o,a,s,u,c,l){var f=n&Gi,h=n&Wi,d=n&zi,p=n&(Ki|Hi),v=n&Qi,m=d?void 0:Br(t);return function g(){for(var y=arguments.length,w=Array(y),_=y;_--;)w[_]=arguments[_];if(p)var E=Fi(g),S=Qr(w,E);if(i&&(w=Kr(w,i,o,p)),a&&(w=Gr(w,a,s,p)),y-=S,p&&y<l){var T=qi(w,E);return Li(t,n,e,g.placeholder,r,w,T,u,c,l-y)}var C=h?r:this,I=d?C[t]:t;return y=w.length,u?w=Bi(w,u):v&&y>1&&w.reverse(),f&&c<y&&(w.length=c),this&&this!==b&&this instanceof g&&(I=m||Br(I)),I.apply(C,w)}};var $i=function(e,t,n){var r=Br(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,u=Fi(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:qi(a,u);return(o-=c.length)<n?Li(e,t,Yi,i.placeholder,void 0,a,c,void 0,void 0,n-o):Wr(this&&this!==b&&this instanceof i?r:e,this,a)}},Xi=1;var Ji=function(e,t,n,r){var i=t&Xi,o=Br(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=Array(c+s),f=this&&this!==b&&this instanceof t?o:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return Wr(f,i?n:this,l)}},Zi="__lodash_placeholder__",eo=1,to=2,no=4,ro=8,io=128,oo=256,ao=Math.min;var so=function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(eo|to|io),a=r==io&&n==ro||r==io&&n==oo&&e[7].length<=t[8]||r==(io|oo)&&t[7].length<=t[8]&&n==ro;if(!o&&!a)return e;r&eo&&(e[2]=t[2],i|=n&eo?0:no);var s=t[3];if(s){var u=e[3];e[3]=u?Kr(u,s,t[4]):s,e[4]=u?qi(e[3],Zi):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?Gr(u,s,t[6]):s,e[6]=u?qi(e[5],Zi):t[6]),(s=t[7])&&(e[7]=s),r&io&&(e[8]=null==e[8]?t[8]:ao(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},uo="Expected a function",co=1,lo=2,fo=8,ho=16,po=32,vo=64,mo=Math.max;var go=function(e,t,n,r,i,o,a,s){var u=t&lo;if(!u&&"function"!=typeof e)throw new TypeError(uo);var c=r?r.length:0;if(c||(t&=~(po|vo),r=i=void 0),a=void 0===a?a:mo(kr(a),0),s=void 0===s?s:kr(s),c-=i?i.length:0,t&vo){var l=r,f=i;r=i=void 0}var h=u?void 0:Zr(e),d=[e,t,n,r,i,l,f,o,a,s];if(h&&so(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(s=d[9]=void 0===d[9]?u?0:e.length:mo(d[9]-c,0))&&t&(fo|ho)&&(t&=~(fo|ho)),t&&t!=co)p=t==fo||t==ho?$i(e,t,s):t!=po&&t!=(co|po)||i.length?Yi.apply(void 0,d):Ji(e,t,n,r);else var p=qr(e,t,n);return Ni((h?Lr:vi)(p,d),e,t)},yo=8;function bo(e,t,n){var r=go(e,yo,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=bo.placeholder,r}bo.placeholder={};var wo=bo;var _o=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};var Eo=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}();var So=function(e,t){return function(n,r){if(null==n)return n;if(!de(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&Eo(e,t,pe)}));var To=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};var Co=function(e,t,n){var r=U(e)?_o:To,i=arguments.length<3;return r(e,pr(t),n,i,So)},Io="[object String]";var ko=function(e){return"string"==typeof e||!U(e)&&R(e)&&x(e)==Io},Ao=function(e){return"/flamelink/media/folders/"+(e||"")},Oo=wo((function(e,t){return e?Co(t,(function(t,n,r){var i,o=rr(n,"folderId.path",rr(n,"folderId.id")),a=ko(o)?o.split("/").pop():n.folderId;return String(a)===String(e)?Object.assign(t,((i={})[r]=n,i)):t}),{}):t})),No=function(e,t){var n=void 0===t?{}:t,r=n.width,i=n.path;return i?"/flamelink/media/sized/"+i+"/"+e:"/flamelink/media/"+(r?"sized/"+r+"/":"")+e},xo=function(e,t,n){var r=t.map((function(e){return Object.assign({},e,{width:parseInt(e.width||e.maxWidth,10)})}),[]).sort((function(e,t){return e.width-t.width})).find((function(e){return e.width>=n}));r?e.options=Object.assign(e.options,r):s.logWarning("The provided size ("+n+") has been ignored because it did not match any of the given file's available sizes.\nAvailable sizes: "+t.map((function(e){return e.width})).join(", "))},Ro=["id","parentId","children","order"],Po=function(e){var t={_getFolderId:function(t){var n=t.folderName,r=void 0===n?"Root":n;return l(this,void 0,void 0,(function(){var t,n,i;return f(this,(function(o){switch(o.label){case 0:return r?[4,a._ensureService("database",e).ref(Ao()).once("value")]:[2,null];case 1:return t=o.sent(),n=t.val(),(i=Or(n,{name:r}))?[2,i.id]:[2,i]}}))}))},_getFolderIdFromOptions:function(e){var n=void 0===e?{folderId:"",folderName:""}:e,r=n.folderId,i=n.folderName;return l(this,void 0,void 0,(function(){return f(this,(function(e){return r?[2,r]:[2,t._getFolderId({folderName:i})]}))}))},_setFile:function(n){return l(this,void 0,void 0,(function(){var r;return f(this,(function(i){return r=Object.assign({},n,{__meta__:{createdBy:s.getCurrentUser(e),createdDate:s.getTimestamp(e)}}),[2,t.fileRef(n.id).set(r)]}))}))},_createSizedImage:function(n,r,i){var a=this;return void 0===i&&(i={}),new s.PromiseEmitter((function(u,c,h){return l(a,void 0,void 0,(function(){var a,l,d,p,v,m,g;return f(this,(function(f){switch(f.label){case 0:return i&&(i.path||i.width||i.maxWidth)?(a=s.getStorageServiceFactory(e),h.emit(t.UploadEvents.RESIZE_IMAGE_STARTED,r,i),[4,o(n,i)]):[3,3];case 1:return l=f.sent(),h.emit(t.UploadEvents.RESIZE_IMAGE_FINISHED,r,i),d=t.ref(r,{path:i.path,width:i.width||i.maxWidth}),h.emit(t.UploadEvents.SIZED_FILE_UPLOAD_STARTED,r,i),p=e.usesAdminApp?"upload":"put",v=d[p](l),m=void 0,rr(a,"TaskEvent")&&(m=v.on(a.TaskEvent.STATE_CHANGED,(function(e){h.emit(t.UploadEvents.SIZED_FILE_UPLOAD_STATE_CHANGED,e,i)}))),[4,v];case 2:return g=f.sent(),"function"===typeof m&&m(),h.emit(t.UploadEvents.SIZED_FILE_UPLOAD_FINISHED,r,i),[2,u(g)];case 3:return c(new s.FlamelinkError("Invalid size object supplied - please refer to https://flamelink.github.io/flamelink-js-sdk/#/storage?id=upload for more details on upload options.\nImage upload for supplied size skipped for file: "+r)),[2]}}))}))}))},ref:function(t,n){var r=c(n,[]);if(e.isNodeEnvironment&&!e.usesAdminApp)throw new s.FlamelinkError("\nThe Firebase client-side SDK cannot access the Storage Bucket server-side.\nPlease use the admin SDK instead - https://www.npmjs.com/package/firebase-admin\n\nInstructions here: https://flamelink.github.io/flamelink-js-sdk/#/getting-started?id=usage\n        ","service-unavailable",!1);var i=a._ensureService("storage",e);if(/:\/\//.test(t)){if(e.usesAdminApp)throw new s.FlamelinkError("Retrieving files from URL is not supported for the admin SDK","service-unavailable",!1);return i.refFromURL(t)}return e.usesAdminApp?i.bucket().file(No(t,r)):i.ref(No(t,r))},folderRef:function(t){return a._ensureService("database",e).ref(Ao(t))},fileRef:function(t){return a._ensureService("database",e).ref("/flamelink/media/files/"+(t||""))},getFoldersRaw:function(e){var n=c(e,[]);return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,s.applyOptionsForRTDB(t.folderRef(),n).once(n.event||"value")]}))}))},getFolders:function(e){var n=e.fields,r=e.structure,o=c(e,["fields","structure"]);return l(this,void 0,void 0,(function(){var e,a,u,c;return f(this,(function(l){switch(l.label){case 0:return e=Array.isArray(n)?Array.from(new Set(Ro.concat(n))):n,a=s.pluckResultFields(e),u=s.formatStructure(r,{idProperty:"id",parentProperty:"parentId"}),[4,t.getFoldersRaw(o)];case 1:return c=l.sent(),"nested"===r||"tree"===r?[2,i(a,u,ve)(c.val())]:[2,a(c.val())]}}))}))},getFileRaw:function(e){var n=e.fileId,r=c(e,["fileId"]);return l(this,void 0,void 0,(function(){return f(this,(function(e){if(!n)throw new s.FlamelinkError('"storage.getFileRaw()" should be called with at least the file ID');return[2,s.applyOptionsForRTDB(t.fileRef(n),r).once(r.event||"value")]}))}))},getFile:function(e){var n=e.fileId,r=c(e,["fileId"]);return l(this,void 0,void 0,(function(){var e,o;return f(this,(function(a){switch(a.label){case 0:if(!n)throw new s.FlamelinkError('"storage.getFile()" should be called with at least the file ID');return e=s.pluckResultFields(r.fields),[4,t.getFileRaw(u({fileId:n},r))];case 1:return o=a.sent(),[4,i(s.unwrap(n),e,s.wrap(n))(o.val())];case 2:return[2,a.sent()]}}))}))},getFilesRaw:function(e){var n=c(e,[]);return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,s.applyOptionsForRTDB(t.fileRef(),n).once(n.event||"value")]}))}))},getFiles:function(e){var n=c(e,[]);return l(this,void 0,void 0,(function(){var e,r,o,a,u,c;return f(this,(function(l){switch(l.label){case 0:return e={},r=Object.assign(e,n,n.mediaType?{orderByChild:"type",equalTo:n.mediaType}:{}),[4,t._getFolderIdFromOptions(r)];case 1:return o=l.sent(),a=Oo(o),u=s.pluckResultFields(r.fields),[4,t.getFilesRaw(r)];case 2:return c=l.sent(),[2,i(u,a)(c.val())]}}))}))},getURL:function(n){var r=n.fileId,i=c(n,["fileId"]);return l(this,void 0,void 0,(function(){var n,o,a,c,l,h,d,p,v,m,g,y;return f(this,(function(f){switch(f.label){case 0:if(!r)throw new s.FlamelinkError('"storage.getURL()" should be called with at least the file ID');return n=i.size,[4,t.getFile(u({fileId:r},i))];case 1:return(o=f.sent())?(a=o.file,c=o.sizes,l={filename:a,options:{}},Se(n)?(d=(h=n).width,p=h.height,v=h.quality,d&&p&&v&&(n.path=d+"_"+p+"_"+Math.round(100*parseFloat(v.toString()))),n.path&&rr(c,"[0].path")?c.find((function(e){return e.path===n.path}))?l.options=Object.assign(l.options,{path:n.path}):s.logWarning("The provided path ("+n.path+") has been ignored because it did not match any of the given file's available paths.\nAvailable paths: "+c.map((function(e){return e.path})).join(", ")):d&&c&&c.length&&xo(l,c,parseInt(d.toString(),10))):"string"===typeof n&&c&&c.length&&(m="device"===n?function(){if("undefined"===typeof window)throw new s.FlamelinkError("The device's screen resolution can only be retrieved from a browser environment.","incompatibility");var e="devicePixelRatio"in window?window.devicePixelRatio:1;return Math.max(window.screen.width,window.screen.height)*e}():n,xo(l,c,Number(m))),[4,t.ref(l.filename,l.options)]):[2,o];case 2:return g=f.sent(),e.usesAdminApp?[4,g.getSignedUrl({action:"read",expires:"01-01-2500"})]:[3,4];case 3:return y=f.sent(),[2,rr(y,"[0]","")];case 4:return[2,g.getDownloadURL()]}}))}))},getMetadata:function(e){var n=e.fileId,r=c(e,["fileId"]);return l(this,void 0,void 0,(function(){var e,i;return f(this,(function(o){switch(o.label){case 0:if(!n)throw new s.FlamelinkError('"storage.getMetadata()" should be called with at least the file ID');return[4,t.getFile(u({fileId:n},r))];case 1:if(!(e=o.sent()))throw new s.FlamelinkError('There is no file for File ID: "'+n+'"');return i=e.file,[2,t.ref(i).getMetadata()]}}))}))},updateMetadata:function(e){var n=e.fileId,r=e.data;return l(this,void 0,void 0,(function(){var e,i;return f(this,(function(o){switch(o.label){case 0:if(!n||!r)throw new s.FlamelinkError('"storage.updateMetadata()" should be called with the "fileID" and the "data" object');return[4,t.getFile({fileId:n})];case 1:if(!(e=o.sent()))throw new s.FlamelinkError('There is no file for File ID: "'+n+'"');return i=e.file,[2,t.ref(i).updateMetadata(r)]}}))}))},deleteFile:function(n){var r=n.fileId,i=c(n,["fileId"]);return l(this,void 0,void 0,(function(){var n,o,a,c=this;return f(this,(function(h){switch(h.label){case 0:if(e.usesAdminApp)throw new s.FlamelinkError('"storage.deleteFile()" is not currently supported for server-side use.');if(!r)throw new s.FlamelinkError('"storage.deleteFile()" should be called with at least the file ID');return[4,t.getFile(u({fileId:r},i))];case 1:return(n=h.sent())?(o=n.file,a=n.sizes,[4,t.ref(o).delete()]):[2,n];case 2:return h.sent(),Array.isArray(a)?[4,Promise.all(a.map((function(e){return l(c,void 0,void 0,(function(){var n,r;return f(this,(function(i){return n=e.width||e.maxWidth,r=e.path,n||r?[2,t.ref(o,{width:n,path:r}).delete()]:[2,Promise.resolve()]}))}))})))]:[3,4];case 3:h.sent(),h.label=4;case 4:return[2,t.fileRef(r).remove()]}}))}))},upload:function(n,r){var i=this;return void 0===r&&(r={}),new s.PromiseEmitter((function(o,a,u){return l(i,void 0,void 0,(function(){var i,c,h,d,p,v,m,g,y,b,w,_,E,S,T,C,I,k=this;return f(this,(function(A){switch(A.label){case 0:return A.trys.push([0,7,,8]),i=s.getStorageServiceFactory(e),u.emit(t.UploadEvents.START),c=r.sizes,h=r.overwriteSizes,[4,rr(e,"modules.settings",{getImageSizes:function(){}}).getImageSizes()];case 1:return(d=A.sent())&&(c||h?c&&c.length&&!h&&Mr(r,"sizes",d.concat(c)||[]):Mr(r,"sizes",d||[])),(!r.sizes||r.sizes&&0===r.sizes.length||Array.isArray(r.sizes)&&0===r.sizes.filter((function(e){return(240===e.width||240===e.maxWidth)&&!e.height&&!e.quality})).length)&&(Array.isArray(r.sizes)?r.sizes.push({width:240}):Mr(r,"sizes",[{width:240}])),p=Date.now().toString(),v=rr(r,"metadata",{}),m="object"===typeof n&&n.name||"string"===typeof v.name?p+"_"+(v.name||n.name):p,g=t.ref(m,r),y=e.usesAdminApp?"upload":"string"===typeof n?"putString":"put",b=[n],[4,t._getFolderIdFromOptions(r)];case 2:return"number"===typeof(w=A.sent())&&(w=w.toString()),Mr(r,"metadata.customMetadata.flamelinkFileId",p),Mr(r,"metadata.customMetadata.flamelinkFolderId",w),b.push(r.metadata),"putString"===y&&r.stringEncoding&&b.splice(1,0,r.stringEncoding),_=g[y].apply(g,b),u.emit(t.UploadEvents.MAIN_FILE_UPLOAD_STARTED),E=void 0,rr(i,"TaskEvent")&&(E=_.on(i.TaskEvent.STATE_CHANGED,(function(e){u.emit(t.UploadEvents.MAIN_FILE_UPLOAD_STATE_CHANGED,e)}))),[4,_];case 3:return S=A.sent(),"function"===typeof E&&E(),u.emit(t.UploadEvents.MAIN_FILE_UPLOAD_FINISHED),T=/^image\//.test(rr(S,"metadata.contentType"))?"images":"files",C={id:p,file:rr(S,"metadata.name",""),folderId:t.folderRef(w),type:T,contentType:rr(S,"metadata.contentType","")},"images"===T&&"put"===y&&Array.isArray(r.sizes)?(u.emit(t.UploadEvents.SIZED_FILES_UPLOAD_STARTED),C.sizes=r.sizes.map((function(e){var t=e.width,n=e.height,r=e.quality;return t&&n&&r?Object.assign({},e,{path:t+"_"+n+"_"+Math.round(100*parseFloat(r.toString()))}):e})),[4,Promise.all(C.sizes.map((function(e){return l(k,void 0,void 0,(function(){var r,i;return f(this,(function(o){switch(o.label){case 0:return r=t._createSizedImage(n,m,e),i=r.on("*",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.emit.apply(u,[e].concat(t))})),[4,r];case 1:return o.sent(),i(),[2]}}))}))})))]):[3,5];case 4:A.sent(),u.emit(t.UploadEvents.SIZED_FILES_UPLOAD_FINISHED),A.label=5;case 5:return u.emit(t.UploadEvents.DB_PERSIST_STARTED),[4,t._setFile(C)];case 6:return A.sent(),u.emit(t.UploadEvents.DB_PERSIST_FINISHED),u.emit(t.UploadEvents.SUCCESS,C),[2,o(C)];case 7:return I=A.sent(),u.emit(t.UploadEvents.FAILURE,I),a(I),[3,8];case 8:return[2]}}))}))}))},get UploadEvents(){return t=s.getStorageServiceFactory(e),u({ALL:"*",START:"upload_start",SUCCESS:"upload_success",FAILURE:"upload_failure",DB_PERSIST_STARTED:"file_db_persist_started",DB_PERSIST_FINISHED:"file_db_persist_finished",MAIN_FILE_UPLOAD_STARTED:"main_file_upload_started",MAIN_FILE_UPLOAD_FINISHED:"main_file_upload_finished",SIZED_FILES_UPLOAD_STARTED:"sized_files_upload_started",SIZED_FILES_UPLOAD_FINISHED:"sized_files_upload_finished",SIZED_FILE_UPLOAD_STARTED:"sized_file_upload_started",SIZED_FILE_UPLOAD_FINISHED:"sized_file_upload_finished",RESIZE_IMAGE_STARTED:"resize_image_start",RESIZE_IMAGE_FINISHED:"resize_image_finished"},rr(t,"TaskEvent.STATE_CHANGED")?{MAIN_FILE_UPLOAD_STATE_CHANGED:"main_file_upload_"+t.TaskEvent.STATE_CHANGED,SIZED_FILE_UPLOAD_STATE_CHANGED:"sized_file_upload_"+t.TaskEvent.STATE_CHANGED}:{});var t}};return t},Do=function(e){return"rtdb"===e.dbType?Po(e):null};a._registerModule("storage",Do),t.factory=Po,t.register=Do}).call(this,n(7))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&"object"===typeof r&&"default"in r?r.default:r,o=n(19),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function h(e,t){return e(t={exports:{}},t.exports),t.exports}var d="object"==typeof f&&f&&f.Object===Object&&f,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),m=v.Symbol,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,w=m?m.toStringTag:void 0;var _=function(e){var t=y.call(e,w),n=e[w];try{e[w]=void 0;var r=!0}catch(o){}var i=b.call(e);return r&&(t?e[w]=n:delete e[w]),i},E=Object.prototype.toString;var S=function(e){return E.call(e)},T="[object Null]",C="[object Undefined]",I=m?m.toStringTag:void 0;var k=function(e){return null==e?void 0===e?C:T:I&&I in Object(e)?_(e):S(e)};var A=function(e){return null!=e&&"object"==typeof e},O="[object Arguments]";var N=function(e){return A(e)&&k(e)==O},x=Object.prototype,R=x.hasOwnProperty,P=x.propertyIsEnumerable,D=N(function(){return arguments}())?N:function(e){return A(e)&&R.call(e,"callee")&&!P.call(e,"callee")},M=Array.isArray;var j=function(){return!1},L=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?v.Buffer:void 0,o=(i?i.isBuffer:void 0)||j;e.exports=o})),F=9007199254740991,U=/^(?:0|[1-9]\d*)$/;var B=function(e,t){var n=typeof e;return!!(t=null==t?F:t)&&("number"==n||"symbol"!=n&&U.test(e))&&e>-1&&e%1==0&&e<t},V=9007199254740991;var q=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=V},W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var z=function(e){return A(e)&&q(e.length)&&!!W[k(e)]};var K=function(e){return function(t){return e(t)}},H=h((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&d.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o})),G=H&&H.isTypedArray,Q=G?K(G):z,Y=Object.prototype.hasOwnProperty;var $=function(e,t){var n=M(e),r=!n&&D(e),i=!n&&!r&&L(e),o=!n&&!r&&!i&&Q(e),a=n||r||i||o,s=a?l(e.length,String):[],u=s.length;for(var c in e)!t&&!Y.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||B(c,u))||s.push(c);return s},X=Object.prototype;var J=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)};var Z=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ee=Object.prototype.hasOwnProperty;var te=function(e){if(!J(e))return Z(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ne=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},re="[object AsyncFunction]",ie="[object Function]",oe="[object GeneratorFunction]",ae="[object Proxy]";var se=function(e){if(!ne(e))return!1;var t=k(e);return t==ie||t==oe||t==re||t==ae};var ue=function(e){return null!=e&&q(e.length)&&!se(e)};var ce=function(e){return ue(e)?$(e):te(e)},le="[object Symbol]";var fe=function(e){return"symbol"==typeof e||A(e)&&k(e)==le},he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/;var pe=function(e,t){if(M(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fe(e))||(de.test(e)||!he.test(e)||null!=t&&e in Object(t))},ve=v["__core-js_shared__"],me=function(){var e=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ge=function(e){return!!me&&me in e},ye=Function.prototype.toString;var be=function(e){if(null!=e){try{return ye.call(e)}catch(t){}try{return e+""}catch(t){}}return""},we=/^\[object .+?Constructor\]$/,_e=Function.prototype,Ee=Object.prototype,Se=_e.toString,Te=Ee.hasOwnProperty,Ce=RegExp("^"+Se.call(Te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ie=function(e){return!(!ne(e)||ge(e))&&(se(e)?Ce:we).test(be(e))};var ke=function(e,t){return null==e?void 0:e[t]};var Ae=function(e,t){var n=ke(e,t);return Ie(n)?n:void 0},Oe=Ae(Object,"create");var Ne=function(){this.__data__=Oe?Oe(null):{},this.size=0};var xe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Re="__lodash_hash_undefined__",Pe=Object.prototype.hasOwnProperty;var De=function(e){var t=this.__data__;if(Oe){var n=t[e];return n===Re?void 0:n}return Pe.call(t,e)?t[e]:void 0},Me=Object.prototype.hasOwnProperty;var je=function(e){var t=this.__data__;return Oe?void 0!==t[e]:Me.call(t,e)},Le="__lodash_hash_undefined__";var Fe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Oe&&void 0===t?Le:t,this};function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ue.prototype.clear=Ne,Ue.prototype.delete=xe,Ue.prototype.get=De,Ue.prototype.has=je,Ue.prototype.set=Fe;var Be=Ue;var Ve=function(){this.__data__=[],this.size=0};var qe=function(e,t){return e===t||e!==e&&t!==t};var We=function(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1},ze=Array.prototype.splice;var Ke=function(e){var t=this.__data__,n=We(t,e);return!(n<0)&&(n==t.length-1?t.pop():ze.call(t,n,1),--this.size,!0)};var He=function(e){var t=this.__data__,n=We(t,e);return n<0?void 0:t[n][1]};var Ge=function(e){return We(this.__data__,e)>-1};var Qe=function(e,t){var n=this.__data__,r=We(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ye.prototype.clear=Ve,Ye.prototype.delete=Ke,Ye.prototype.get=He,Ye.prototype.has=Ge,Ye.prototype.set=Qe;var $e=Ye,Xe=Ae(v,"Map");var Je=function(){this.size=0,this.__data__={hash:new Be,map:new(Xe||$e),string:new Be}};var Ze=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var et=function(e,t){var n=e.__data__;return Ze(t)?n["string"==typeof t?"string":"hash"]:n.map};var tt=function(e){var t=et(this,e).delete(e);return this.size-=t?1:0,t};var nt=function(e){return et(this,e).get(e)};var rt=function(e){return et(this,e).has(e)};var it=function(e,t){var n=et(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ot(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ot.prototype.clear=Je,ot.prototype.delete=tt,ot.prototype.get=nt,ot.prototype.has=rt,ot.prototype.set=it;var at=ot,st="Expected a function";function ut(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(st);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ut.Cache||at),n}ut.Cache=at;var ct=ut,lt=500;var ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ht=/\\(\\)?/g,dt=function(e){var t=ct(e,(function(e){return n.size===lt&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ft,(function(e,n,r,i){t.push(r?i.replace(ht,"$1"):n||e)})),t}));var pt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},vt=1/0,mt=m?m.prototype:void 0,gt=mt?mt.toString:void 0;var yt=function e(t){if("string"==typeof t)return t;if(M(t))return pt(t,e)+"";if(fe(t))return gt?gt.call(t):"";var n=t+"";return"0"==n&&1/t==-vt?"-0":n};var bt=function(e){return null==e?"":yt(e)};var wt=function(e,t){return M(e)?e:pe(e,t)?[e]:dt(bt(e))},_t=1/0;var Et=function(e){if("string"==typeof e||fe(e))return e;var t=e+"";return"0"==t&&1/e==-_t?"-0":t};var St=function(e,t){for(var n=0,r=(t=wt(t,e)).length;null!=e&&n<r;)e=e[Et(t[n++])];return n&&n==r?e:void 0};var Tt=function(e,t,n){var r=null==e?void 0:St(e,t);return void 0===r?n:r};var Ct=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var It=function(e,t,n){if(!ne(n))return!1;var r=typeof t;return!!("number"==r?ue(n)&&B(t,n.length):"string"==r&&t in n)&&qe(n[t],e)},kt=NaN,At=/^\s+|\s+$/g,Ot=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,xt=/^0o[0-7]+$/i,Rt=parseInt;var Pt=function(e){if("number"==typeof e)return e;if(fe(e))return kt;if(ne(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ne(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(At,"");var n=Nt.test(e);return n||xt.test(e)?Rt(e.slice(2),n?2:8):Ot.test(e)?kt:+e},Dt=1/0,Mt=17976931348623157e292;var jt=function(e){return e?(e=Pt(e))===Dt||e===-Dt?(e<0?-1:1)*Mt:e===e?e:0:0===e?e:0};var Lt=function(e){var t=jt(e),n=t%1;return t===t?n?t-n:t:0},Ft=Math.ceil,Ut=Math.max;var Bt=function(e,t,n){t=(n?It(e,t,n):void 0===t)?1:Ut(Lt(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(Ft(r/t));i<r;)a[o++]=Ct(e,i,i+=t);return a},Vt=function(e){var t={ref:function(t){var n=i._ensureService("firestore",e).collection("fl_users");return t?n.where("_fl_meta_.docId","==",t):n},getRaw:function(e){var n=e.uid,r=s(e,["uid"]);return o.applyOptionsForCF(t.ref(n),r).get({source:r.source||"default"})},get:function(n){void 0===n&&(n={});var r=n.uid,i=s(n,["uid"]);return u(this,void 0,void 0,(function(){var n,s,u,l,f;return c(this,(function(c){switch(c.label){case 0:return n=o.pluckResultFields(i.fields),s=o.processReferencesForCF(e,i),[4,t.getRaw(a({uid:r},i))];case 1:return u=c.sent(),l={},u.forEach((function(e){var t=e.data();l[Tt(t,"id",e.id)]=t})),[4,s(n(l))];case 2:return f=c.sent(),[2,r?f[r]:f]}}))}))},subscribeRaw:function(n){var r=n.uid,i=n.callback,a=s(n,["uid","callback"]),u=o.applyOptionsForCF(t.ref(r),a),c=[];return e.usesAdminApp||c.push({includeMetadataChanges:!!a.includeMetadataChanges}),c.push((function(e){return i(null,e)}),(function(e){return i(e,null)})),u.onSnapshot.apply(u,c)},subscribe:function(n){var r=n.uid,i=n.callback,l=n.changeType,f=s(n,["uid","callback","changeType"]),h=o.pluckResultFields(f.fields),d=o.processReferencesForCF(e,f);return t.subscribeRaw(a({uid:r},f,{callback:function(e,t){return u(this,void 0,void 0,(function(){var n,o;return c(this,(function(a){switch(a.label){case 0:if(e)return[2,i(e,null)];if(t.empty)return[2,i(null,[])];if(n={},l){if(t.docChanges().forEach((function(e){if(e.type===l){var t=e.doc.data();n[Tt(t,"id",e.doc.id)]=t}})),!ce(n).length)return[2]}else t.forEach((function(e){var t=e.data();n[Tt(t,"id",e.id)]=t}));return[4,d(h(n))];case 1:return o=a.sent(),[2,i(null,r?o[r]:o)]}}))}))}}))},_getPermissionsRef:function(t){var n=i._ensureService("firestore",e);return t?o.isRefLike(t)?t:n.doc("fl_permissions/"+t.replace("fl_permissions","").replace("/","")):n.doc("fl_permissions/1")},addToDB:function(n){var r=n.uid,i=n.data;return u(this,void 0,void 0,(function(){var n;return c(this,(function(s){switch(s.label){case 0:if(!r)throw new o.FlamelinkError('Please provide the user\'s "uid"');return n="object"===typeof i?Object.assign({},i,a({_fl_meta_:{createdBy:o.getCurrentUser(e),createdDate:o.getTimestamp(e),docId:r},displayName:i.displayName||"",email:i.email||"",enabled:i.enabled||"Yes",firstName:i.firstName||"",id:r,lastName:i.lastName||""},i.permissions?{permissions:t._getPermissionsRef(i.permissions)}:{})):i,[4,t.ref().doc(r).set(n)];case 1:return s.sent(),[2,n]}}))}))},updateInDB:function(n){var r=n.uid,i=n.data;return u(this,void 0,void 0,(function(){var n,a,s;return c(this,(function(u){switch(u.label){case 0:if("string"!==typeof r||"object"!==typeof i)throw new o.FlamelinkError('"updateInDB" called with the incorrect arguments. Check the docs for details.');return n=Object.assign({},i,{"_fl_meta_.lastModifiedBy":o.getCurrentUser(e),"_fl_meta_.lastModifiedDate":o.getTimestamp(e),"_fl_meta_.docId":r,id:r,permissions:t._getPermissionsRef(i.permissions)}),[4,t.ref(r).get()];case 1:return(a=u.sent()).empty?(o.logWarning('No user exists with a unique ID of "'+r+'" - creating new user instead.'),[2,t.addToDB({uid:r,data:i})]):(s=[],a.forEach((function(e){return s.push(e)})),[4,s[0].ref.update(n)]);case 2:return u.sent(),[2,n]}}))}))},removeFromDB:function(n){var r=n.uid;return u(this,void 0,void 0,(function(){var n,a,s,l=this;return c(this,(function(f){switch(f.label){case 0:return[4,t.getRaw({uid:r})];case 1:return(n=f.sent()).empty?[2]:(a=Bt(n.docs,500),s=i._ensureService("firestore",e),[2,o.createQueue((function(e){return u(l,void 0,void 0,(function(){var t;return c(this,(function(n){return t=s.batch(),e.forEach((function(e){return t.delete(e.ref)})),[2,t.commit()]}))}))}),a).start()])}}))}))}};return t},qt=function(e){return"cf"===e.dbType?Vt(e):null};i._registerModule("users",qt),t.factory=Vt,t.register=qt}).call(this,n(7))},function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(18)),a=n(19),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=function(e){var t={ref:function(t){return o._ensureService("database",e).ref(function(e){return"/flamelink/users/"+(e||"")}(t))},getRaw:function(e){var n=e.uid,r=u(e,["uid"]);return a.applyOptionsForRTDB(t.ref(n),r).once(r.event||"value")},get:function(e){void 0===e&&(e={});var n=e.uid,r=u(e,["uid"]);return c(this,void 0,void 0,(function(){var e,o;return l(this,(function(u){switch(u.label){case 0:return e=a.pluckResultFields(r.fields),[4,t.getRaw(s({uid:n},r))];case 1:return o=u.sent(),n?[4,i(a.unwrap(n),e,a.wrap(n))(o.val())]:[3,3];case 2:return[2,u.sent()];case 3:return[4,e(o.val())];case 4:return[2,u.sent()]}}))}))},subscribeRaw:function(e){var n=e.uid,r=e.callback,i=u(e,["uid","callback"]),o=a.applyOptionsForRTDB(t.ref(n),i);o.on(i.event||"value",(function(e){return r(null,e)}),(function(e){return r(e,null)}));return function(){return o.off(i.event||"value")}},subscribe:function(e){var n=e.uid,r=e.callback,o=u(e,["uid","callback"]);try{var f=a.pluckResultFields(o.fields);return t.subscribeRaw(s({uid:n},o,{callback:function(e,t){return c(this,void 0,void 0,(function(){var o,s;return l(this,(function(u){switch(u.label){case 0:return e?[2,r(e,null)]:n?[4,i(a.unwrap(n),f,a.wrap(n))(t.val())]:[3,2];case 1:return o=u.sent(),[2,r(null,o)];case 2:return[4,f(t.val())];case 3:return s=u.sent(),[2,r(null,s)]}}))}))}}))}catch(h){return r(h,null)}},addToDB:function(n){var r=n.uid,i=n.data,o="object"===typeof i?Object.assign({},i,{__meta__:{createdBy:a.getCurrentUser(e),createdDate:a.getTimestamp(e)},displayName:i.displayName||"",email:i.email||"",enabled:i.enabled||"Yes",firstName:i.firstName||"",id:r,lastName:i.lastName||"",permissions:i.permissions||"1"}):i;return t.ref(r).set(o)},updateInDB:function(n){var r=n.uid,i=n.data;if("string"!==typeof r||"object"!==typeof i&&null!==i)throw new a.FlamelinkError('"updateInDB" called with the incorrect arguments. Check the docs for details.');var o="object"===typeof i?Object.assign({},i,{"__meta__/lastModifiedBy":a.getCurrentUser(e),"__meta__/lastModifiedDate":a.getTimestamp(e),id:r}):i;return t.ref(r).update(o)},removeFromDB:function(e){var n=e.uid;if(!n)throw new a.FlamelinkError('"removeFromDB" called with the incorrect arguments. Check the docs for details.');return t.ref(n).remove()}};return t},h=function(e){return"rtdb"===e.dbType?f(e):null};o._registerModule("users",h),t.factory=f,t.register=h},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=(a(r),a(n(6))),o=a(n(45));a(n(46));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;t.default=function(e,t){var n,a,f="__create-react-context-"+(0,o.default)()+"__",h=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(r.props.value),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;((o=n)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?i=0:(i="function"===typeof t?t(n,r):l,0!==(i|=0)&&this.emitter.set(e.value,i))}var o,a},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[f]=i.default.object.isRequired,n);var d=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((a={})[f]=i.default.object,a),{Provider:h,Consumer:d}},e.exports=t.default},function(e,t,n){"use strict";var r=n(101);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case g:case m:case o:return t}}}function E(e){return _(e)===h}t.typeOf=_,t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w)},t.isAsyncMode=function(e){return E(e)||_(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*v}},,function(e,t,n){"use strict";var r=n(42).Buffer,i=n(108);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(110),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(7),n(29))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(7))},function(e,t,n){var r=n(43),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=o;var r=n(61),i=n(34);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(32),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(44)},function(e,t,n){e.exports=n(30)},function(e,t,n){e.exports=n(41).Transform},function(e,t,n){e.exports=n(41).PassThrough},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function v(){}function m(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,o)&&(y=w);var _=g.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){var t;this._invoke=function(n,i){function o(){return new Promise((function(t,o){!function t(n,i,o,a){var s=c(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(n,i,t,o)}))}return t=t?t.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=_.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},E(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i){var o=new S(u(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},,,function(e,t,n){"use strict";(function(e,t){var r=n(5),i=(n(123),n(72)),o=n.n(i);(function(){var n={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(n=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function r(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return"undefined"!==typeof n&&(e[r]=n),e[r];return!1}function i(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function o(e,t){return-1!==i(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"===typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var r=document.createEvent("Events");return r.initEvent(e,t,n),r}function s(t,n){if("undefined"===typeof t&&"undefined"===typeof n)for(var i=0;i<e.length;i++)s(e[i].className,e[i].cssClass);else{var o=t;if("undefined"===typeof n){var a=r(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"===typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=i(s),f=[];if(u)o(s,u)||f.push(r(u));else{var h=s.classList;e.forEach((function(e){h.contains(e.cssClass)&&-1===f.indexOf(e)&&!o(s,e.className)&&f.push(e)}))}for(var d,p=0,v=f.length;p<v;p++){if(!(d=f[p]))throw new Error("Unable to find a registered component for the given class.");l.push(d.className),s.setAttribute("data-upgraded",l.join(","));var m=new d.classConstructor(s);m[n]=d,t.push(m);for(var g=0,y=d.callbacks.length;g<y;g++)d.callbacks[g](s);d.widget&&(s[d.className]=m);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(e){if(e){var r=t.indexOf(e);t.splice(r,1);var i=e.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(e[n].classAsString);i.splice(o,1),e.element_.setAttribute("data-upgraded",i.join(","));var s=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,r=0,i=t.length;r<i;r++)(n=t[r])instanceof HTMLElement&&(u(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)s(e[t].className)},registerUpgradedCallback:function(e,t){var n=r(e);n&&n.callbacks.push(t)},register:function(t){var i=!0;"undefined"===typeof t.widget&&"undefined"===typeof t.widget||(i=t.widget||t.widget);var o={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===o.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");r(t.classAsString,o)||e.push(o)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var r=0;r<e.length;r++)n(e[r]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",(function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})})),function(){var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},n.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}(),function(){var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},n.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}(),function(){var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},n.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}(),function(){var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},n.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}(),function(){var t=window.CustomEvent;function n(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function r(e){e&&e.blur&&e!==document.body&&e.blur()}function i(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function o(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function a(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,i)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}t&&"object"!==typeof t||((t=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),s.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}r(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!s.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,s.needsCentering(this.dialog_)?(s.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var n=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(n)}};var s={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(l){}if(r)for(var o=0;o<r.length;++o){var a=r[o],s=null;try{s=document.querySelectorAll(a.selectorText)}catch(f){}if(s&&i(s,e)){var u=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!s.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new a(e)},registerDialog:function(e){e.showModal||s.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(s.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},s.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},s.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},s.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=n(e);){for(var t,r=0;t=this.pendingDialogStack[r];++r)if(t.dialog===e)return 0===r;e=e.parentElement}return!1},s.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),r(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},s.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var n=new t("cancel",{bubbles:!1,cancelable:!0}),r=this.pendingDialogStack[0];r&&r.dialog.dispatchEvent(n)&&r.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},s.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},s.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},s.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},s.dm=new s.DialogManager,s.formSubmitter=null,s.useValue=null,void 0===window.HTMLDialogElement){var u=document.createElement("form");if(u.setAttribute("method","dialog"),"dialog"!==u.method){var c=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(c){var l=c.get;c.get=function(){return o(this)?"dialog":l.call(this)};var f=c.set;c.set=function(e){return"string"===typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",c)}}document.addEventListener("click",(function(e){if(s.formSubmitter=null,s.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&o(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;s.useValue=e.offsetX+","+e.offsetY}n(t)&&(s.formSubmitter=t)}}}),!1);var h=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!o(this))return h.call(this);var e=n(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(o(t)){e.preventDefault();var r=n(t);if(r){var i=s.formSubmitter;i&&i.form===t?r.close(s.useValue||i.value):r.close(),s.formSubmitter=null}}}),!0)}s.forceRegisterDialog=s.forceRegisterDialog,s.registerDialog=s.registerDialog,"function"===typeof define&&"amd"in define?define((function(){return s})):"object"===typeof e.exports?e.exports=s:window.dialogPolyfill=s}(),function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof t&&null!=t?t:this;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.f=0,this.h=void 0,this.a=[];var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.f=function(e){if(null==this.a){this.a=[];var t=this;this.h((function(){t.i()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.h=function(e){o(e,0)},n.prototype.i=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.a=null},n.prototype.j=function(e){this.h((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.I),reject:e(this.i)}},t.prototype.I=function(e){if(e===this)this.i(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.K(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.F(e):this.v(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(n){return void this.i(n)}"function"==typeof t?this.O(t,e):this.v(e)},t.prototype.i=function(e){this.w(2,e)},t.prototype.v=function(e){this.w(1,e)},t.prototype.w=function(e,t){if(0!=this.f)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.f);this.f=e,this.h=t,this.C()},t.prototype.C=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.f(this.a[e]);this.a=null}};var s=new n;return t.prototype.K=function(e){var t=this.j();e.Da(t.resolve,t.reject)},t.prototype.O=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Da(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Da=function(e,t){function n(){switch(r.f){case 1:e(r.h);break;case 2:t(r.h);break;default:throw Error("Unexpected state: "+r.f)}}var r=this;null==this.a?s.f(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Da(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Da(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=this;function u(e){return void 0!==e}function c(e){return"string"==typeof e}var l=/^[\w+/_-]+[=]{0,2}$/,f=null;function h(){}function d(e){e.V=void 0,e.Sa=function(){return e.V?e.V:e.V=new e}}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function v(e){return null!=e}function m(e){return"array"==p(e)}function g(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function y(e){return"function"==p(e)}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function E(e,t,n){return e.call.apply(e.bind,arguments)}function S(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function T(e,t,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:S).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function I(e,t){for(var n in t)e[n]=t[n]}var k,A=Date.now||function(){return+new Date};function O(e,t){e=e.split(".");var n,r=s;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&u(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function N(e,t){function n(){}n.prototype=t.prototype,e.o=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.gc=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function x(e){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");x.call(this,n+e[r])}function P(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}N(x,Error),x.prototype.name="CustomError",N(R,x),R.prototype.name="AssertionError";var D=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(c(e))return c(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},M=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var j=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o=c(e)?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},L=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=c(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},F=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function U(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function B(e,t){return 0<=D(e,t)}function V(e,t){var n;return(n=0<=(t=D(e,t)))&&q(e,t),n}function q(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function W(e,t){!function(e,t){for(var n=c(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&q(e,r)&&0}))}function z(e){return Array.prototype.concat.apply([],arguments)}function K(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function H(e,t,n,r){return Array.prototype.splice.apply(e,G(arguments,1))}function G(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var Q,Y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},$=/&/g,X=/</g,J=/>/g,Z=/"/g,ee=/'/g,te=/\x00/g,ne=/[\x00&<>"']/;function re(e,t){return e<t?-1:e>t?1:0}e:{var ie=s.navigator;if(ie){var oe=ie.userAgent;if(oe){Q=oe;break e}}Q=""}function ae(e){return-1!=Q.indexOf(e)}function se(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ue(e){var t,n={};for(t in e)n[t]=e[t];return n}var ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ce.length;o++)n=ce[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(){return(ae("Chrome")||ae("CriOS"))&&!ae("Edge")}function he(e){return ne.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace($,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(X,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(J,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Z,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ee,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(te,"&#0;"))),e}function de(e){return de[" "](e),e}de[" "]=h;var pe,ve=ae("Opera"),me=ae("Trident")||ae("MSIE"),ge=ae("Edge"),ye=ge||me,be=ae("Gecko")&&!(-1!=Q.toLowerCase().indexOf("webkit")&&!ae("Edge"))&&!(ae("Trident")||ae("MSIE"))&&!ae("Edge"),we=-1!=Q.toLowerCase().indexOf("webkit")&&!ae("Edge"),_e=we&&ae("Mobile"),Ee=ae("Macintosh");function Se(){var e=s.document;return e?e.documentMode:void 0}e:{var Te="",Ce=function(){var e=Q;return be?/rv:([^\);]+)(\)|;)/.exec(e):ge?/Edge\/([\d\.]+)/.exec(e):me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):we?/WebKit\/(\S+)/.exec(e):ve?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ce&&(Te=Ce?Ce[1]:""),me){var Ie=Se();if(null!=Ie&&Ie>parseFloat(Te)){pe=String(Ie);break e}}pe=Te}var ke,Ae={};function Oe(e){return function(e,t){var n=Ae;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Y(String(pe)).split("."),r=Y(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=re(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||re(0==a[2].length,0==s[2].length)||re(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var Ne=s.document;function xe(e,t){this.a=e===De&&t||"",this.f=Pe}function Re(e){return e instanceof xe&&e.constructor===xe&&e.f===Pe?e.a:(P("expected object of type Const, got '"+e+"'"),"type_error:Const")}ke=Ne&&me?Se()||("CSS1Compat"==Ne.compatMode?parseInt(pe,10):5):void 0,xe.prototype.la=!0,xe.prototype.ja=function(){return this.a},xe.prototype.toString=function(){return"Const{"+this.a+"}"};var Pe={},De={};function Me(){this.a="",this.h=Le}function je(e){return e instanceof Me&&e.constructor===Me&&e.h===Le?e.a:(P("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}Me.prototype.la=!0,Me.prototype.ja=function(){return this.a.toString()},Me.prototype.f=function(){return 1},Me.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Le={};function Fe(e){var t=new Me;return t.a=e,t}function Ue(){this.a="",this.h=ze}function Be(e){return Ve(e).toString()}function Ve(e){return e instanceof Ue&&e.constructor===Ue&&e.h===ze?e.a:(P("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}Ue.prototype.la=!0,Ue.prototype.ja=function(){return this.a.toString()},Ue.prototype.f=function(){return 1},Ue.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var qe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function We(e){return e instanceof Ue?e:(e="object"==typeof e&&e.la?e.ja():String(e),qe.test(e)||(e="about:invalid#zClosurez"),Ke(e))}var ze={};function Ke(e){var t=new Ue;return t.a=e,t}function He(){this.a="",this.f=Ge}Ke("about:blank"),He.prototype.la=!0;var Ge={};function Qe(){this.a="",this.j=$e,this.h=null}function Ye(e){return e instanceof Qe&&e.constructor===Qe&&e.j===$e?e.a:(P("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}He.prototype.ja=function(){return this.a},He.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Qe.prototype.f=function(){return this.h},Qe.prototype.la=!0,Qe.prototype.ja=function(){return this.a.toString()},Qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var $e={};function Xe(e,t){var n=new Qe;return n.a=e,n.h=t,n}Xe("<!DOCTYPE html>",0);var Je=Xe("",0);Xe("<br>",0);var Ze=function(e){var t,n=!1;return function(){return n||(t=function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Ye(Je),!t.parentElement)}(),n=!0),t}}();function et(e,t){this.a=u(e)?e:0,this.f=u(t)?t:0}function tt(e,t){this.width=e,this.height=t}function nt(e){return e?new ht(ct(e)):k||(k=new ht)}function rt(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):ot(document,e,t)}function it(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var r=t||n;e=r.querySelectorAll&&r.querySelector&&e?r.querySelector(e?"."+e:""):ot(n,e,t)[0]||null}return e||null}function ot(e,t,n){var r;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var i=e.getElementsByClassName(t);return i}if(i=e.getElementsByTagName("*"),t){var o={};for(n=r=0;e=i[n];n++){var a=e.className;"function"==typeof a.split&&B(a.split(/\s+/),t)&&(o[r++]=e)}return o.length=r,o}return i}et.prototype.toString=function(){return"("+this.a+", "+this.f+")"},et.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.f=Math.ceil(this.f),this},et.prototype.floor=function(){return this.a=Math.floor(this.a),this.f=Math.floor(this.f),this},et.prototype.round=function(){return this.a=Math.round(this.a),this.f=Math.round(this.f),this},(e=tt.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var at={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function st(e){return e.scrollingElement?e.scrollingElement:(we||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function ut(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ct(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function lt(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(ct(e).createTextNode(String(t)))}}function ft(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode,0}return null}(e,(function(e){return!t||c(e.className)&&B(e.className.split(/\s+/),t)})):null}function ht(e){this.a=e||s.document||document}ht.prototype.N=function(){return c(void 0)?this.a.getElementById(void 0):void 0};var dt="StopIteration"in s?s.StopIteration:{message:"StopIteration",stack:""};function pt(){}function vt(e){if(e instanceof pt)return e;if("function"==typeof e.ga)return e.ga(!1);if(g(e)){var t=0,n=new pt;return n.next=function(){for(;;){if(t>=e.length)throw dt;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function mt(e){if(g(e))return K(e);e=vt(e);var t=[];return function(e,t){if(g(e))try{M(e,t,void 0)}catch(n){if(n!==dt)throw n}else{e=vt(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(r){if(r!==dt)throw r}}}(e,(function(e){t.push(e)})),t}function gt(e,t){this.f={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof gt)for(n=e.ia(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function yt(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];bt(e.f,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.h!=e.a.length){var i={};for(n=t=0;t<e.a.length;)bt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}pt.prototype.next=function(){throw dt},pt.prototype.ga=function(){return this},(e=gt.prototype).ka=function(){yt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.f[this.a[t]]);return e},e.ia=function(){return yt(this),this.a.concat()},e.clear=function(){this.f={},this.j=this.h=this.a.length=0},e.get=function(e,t){return bt(this.f,e)?this.f[e]:t},e.set=function(e,t){bt(this.f,e)||(this.h++,this.a.push(e),this.j++),this.f[e]=t},e.forEach=function(e,t){for(var n=this.ia(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},e.ga=function(e){yt(this);var t=0,n=this.j,r=this,i=new pt;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(t>=r.a.length)throw dt;var i=r.a[t++];return e?i:r.f[i]},i};var wt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _t(e,t,n,r){for(var i=n.length;0<=(t=e.indexOf(n,t))&&t<r;){var o=e.charCodeAt(t-1);if((38==o||63==o)&&(!(o=e.charCodeAt(t+i))||61==o||38==o||35==o))return t;t+=i+1}return-1}var Et=/#|$/;function St(e,t){var n=e.search(Et),r=_t(e,0,t,n);if(0>r)return null;var i=e.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=t.length+1,decodeURIComponent(e.substr(r,i-r).replace(/\+/g," "))}var Tt=/[?&]($|#)/;function Ct(e,t){var n;this.h=this.w=this.j="",this.C=null,this.i=this.f="",this.v=!1,e instanceof Ct?(this.v=u(t)?t:e.v,It(this,e.j),this.w=e.w,this.h=e.h,kt(this,e.C),this.f=e.f,At(this,Wt(e.a)),this.i=e.i):e&&(n=String(e).match(wt))?(this.v=!!t,It(this,n[1]||"",!0),this.w=xt(n[2]||""),this.h=xt(n[3]||"",!0),kt(this,n[4]),this.f=xt(n[5]||"",!0),At(this,n[6]||"",!0),this.i=xt(n[7]||"")):(this.v=!!t,this.a=new Ut(null,this.v))}function It(e,t,n){e.j=n?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function At(e,t,n){t instanceof Ut?(e.a=t,function(e,t){t&&!e.j&&(Bt(e),e.h=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vt(this,t),Vt(this,n),0<e.length&&(this.h=null,this.a.set(zt(this,n),K(e)),this.f+=e.length))}),e)),e.j=t}(e.a,e.v)):(n||(t=Rt(t,Lt)),e.a=new Ut(t,e.v))}function Ot(e){return e instanceof Ct?new Ct(e):new Ct(e,void 0)}function Nt(e,t){return e instanceof Ct||(e=Ot(e)),t instanceof Ct||(t=Ot(t)),e.resolve(t)}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rt(e,t,n){return c(e)?(e=encodeURI(e).replace(t,Pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ct.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rt(t,Dt,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.w)&&e.push(Rt(t,Dt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.f)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rt(n,"/"==n.charAt(0)?jt:Mt,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Rt(n,Ft)),e.join("")},Ct.prototype.resolve=function(e){var t=new Ct(this),n=!!e.j;n?It(t,e.j):n=!!e.w,n?t.w=e.w:n=!!e.h,n?t.h=e.h:n=null!=e.C;var r=e.f;if(n)kt(t,e.C);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.h&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.a.toString(),n?At(t,Wt(e.a)):n=!!e.i,n&&(t.i=e.i),t};var Dt=/[#\/\?@]/g,Mt=/[#\?:]/g,jt=/[#\?]/g,Lt=/[#\?@]/g,Ft=/#/g;function Ut(e,t){this.f=this.a=null,this.h=e||null,this.j=!!t}function Bt(e){e.a||(e.a=new gt,e.f=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.h,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vt(e,t){Bt(e),t=zt(e,t),bt(e.a.f,t)&&(e.h=null,e.f-=e.a.get(t).length,bt((e=e.a).f,t)&&(delete e.f[t],e.h--,e.j++,e.a.length>2*e.h&&yt(e)))}function qt(e,t){return Bt(e),t=zt(e,t),bt(e.a.f,t)}function Wt(e){var t=new Ut;return t.h=e.h,e.a&&(t.a=new gt(e.a),t.f=e.f),t}function zt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(e=Ut.prototype).add=function(e,t){Bt(this),this.h=null,e=zt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.f+=1,this},e.clear=function(){this.a=this.h=null,this.f=0},e.forEach=function(e,t){Bt(this),this.a.forEach((function(n,r){M(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.ia=function(){Bt(this);for(var e=this.a.ka(),t=this.a.ia(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.ka=function(e){Bt(this);var t=[];if(c(e))qt(this,e)&&(t=z(t,this.a.get(zt(this,e))));else{e=this.a.ka();for(var n=0;n<e.length;n++)t=z(t,e[n])}return t},e.set=function(e,t){return Bt(this),this.h=null,qt(this,e=zt(this,e))&&(this.f-=this.a.get(e).length),this.a.set(e,[t]),this.f+=1,this},e.get=function(e,t){return e&&0<(e=this.ka(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ia(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.ka(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.h=e.join("&")};var Kt={rc:!0},Ht={tc:!0},Gt={qc:!0},Qt={sc:!0};function Yt(){throw Error("Do not instantiate directly")}function $t(e,t,n,r){if(e=e(t||Jt,void 0,n),r=(r||nt()).a.createElement("DIV"),(e=function(e){if(!b(e))return he(String(e));if(e instanceof Yt){if(e.ea===Kt)return e.content;if(e.ea===Qt)return he(e.content)}return P("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(Xt),e=Xe(e,null),Ze())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ye(e),1==r.childNodes.length&&(1==(e=r.firstChild).nodeType&&(r=e)),r}Yt.prototype.ta=null,Yt.prototype.toString=function(){return this.content};var Xt=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Jt={};function Zt(){Yt.call(this)}function en(e){return null!=e&&e.ea===Kt?e:e instanceof Qe?on(Ye(e).toString(),e.f()):on(he(String(String(e))),function(e){if(null!=e)switch(e.ta){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function tn(){Yt.call(this)}function nn(e,t){this.content=String(e),this.ta=null!=t?t:null}function rn(e){return new nn(e,void 0)}N(Zt,Yt),Zt.prototype.ea=Kt,N(tn,Yt),tn.prototype.ea=Ht,tn.prototype.ta=1,N(nn,Yt),nn.prototype.ea=Qt;var on=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.ta=n),e}}(Zt),an=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(tn);function sn(e){return(e=String(e))?new nn(e,void 0):""}var un=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.ta=n),e):""}}(Zt);function cn(e){return null!=e&&e.ea===Kt?String(String(e.content).replace(bn,"").replace(wn,"&lt;")).replace(vn,hn):he(String(e))}function ln(e){return null!=e&&e.ea===Ht?e=String(e).replace(mn,pn):e instanceof Ue?e=String(Be(e)).replace(mn,pn):(e=String(e),yn.test(e)?e=e.replace(mn,pn):(P("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}var fn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function hn(e){return fn[e]}var dn={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function pn(e){return dn[e]}var vn=/[\x00\x22\x27\x3c\x3e]/g,mn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,gn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,yn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,bn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,wn=/</g;function _n(){return rn("Enter a valid phone number")}function En(){return rn("Something went wrong. Please try again.")}function Sn(){return rn("This email already exists without any means of sign-in. Please reset the password to recover.")}function Tn(){return rn("Please login again to perform this operation")}function Cn(e,t,n){if(this.code=In+e,!(e=t)){switch(e="",this.code){case"firebaseui/merge-conflict":e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:e+=En()}e=rn(e).toString()}this.message=e||"",this.credential=n||null}N(Cn,Error),Cn.prototype.Z=function(){return{code:this.code,message:this.message}},Cn.prototype.toJSON=function(){return this.Z()};var In="firebaseui/";function kn(){this.V={}}function An(e,t,n){if(t.toLowerCase()in e.V)throw Error("Configuration "+t+" has already been defined.");e.V[t.toLowerCase()]=n}function On(e,t,n){if(!(t.toLowerCase()in e.V))throw Error("Configuration "+t+" is not defined.");e.V[t.toLowerCase()]=n}function Nn(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function xn(){this.f=void 0,this.a={}}function Rn(e,t,n,r){for(var i=0;i<t.length;i++){var o=t.charAt(i);e.a[o]||(e.a[o]=new xn),e=e.a[o]}if(r&&void 0!==e.f)throw Error('The collection already contains the key "'+t+'"');e.f=n}function Pn(e){for(this.a=e,this.f=new xn,e=0;e<this.a.length;e++){var t=this.f.get("+"+this.a[e].b);t?t.push(this.a[e]):this.f.add("+"+this.a[e].b,[this.a[e]])}}function Dn(e,t){var n={},r=0;for(void 0!==(e=e.f).f&&(n[r]=e.f);r<t.length;r++){var i=t.charAt(r);if(!(i in e.a))break;void 0!==(e=e.a[i]).f&&(n[r]=e.f)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function Mn(e){for(var t=0;t<Un.length;t++)if(Un[t].c===e)return Un[t];return null}function jn(e){e=e.toUpperCase();for(var t=[],n=0;n<Un.length;n++)Un[n].g===e&&t.push(Un[n]);return t}function Ln(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<Un.length;n++)Un[n].b==e&&t.push(Un[n]);e=t}else e=jn(e);return e}function Fn(e){e.sort((function(e,t){return e.name.localeCompare(t.name,"en")}))}kn.prototype.get=function(e){if(!(e.toLowerCase()in this.V))throw Error("Configuration "+e+" is not defined.");return this.V[e.toLowerCase()]},(e=xn.prototype).set=function(e,t){Rn(this,e,t,!1)},e.add=function(e,t){Rn(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.f:void 0},e.ka=function(){var e=[];return function e(t,n){void 0!==t.f&&n.push(t.f);for(var r in t.a)e(t.a[r],n)}(this,e),e},e.ia=function(){var e=[];return function e(t,n,r){void 0!==t.f&&r.push(n);for(var i in t.a)e(t.a[i],n+i,r)}(this,"",e),e},e.clear=function(){this.a={},this.f=void 0};var Un=[{name:"Afghanistan",c:"93-AF-0",b:"93",g:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",g:"AX"},{name:"Albania",c:"355-AL-0",b:"355",g:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",g:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",g:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",g:"AD"},{name:"Angola",c:"244-AO-0",b:"244",g:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",g:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",g:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",g:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",g:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",g:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",g:"AC"},{name:"Australia",c:"61-AU-0",b:"61",g:"AU"},{name:"Austria",c:"43-AT-0",b:"43",g:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",g:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",g:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",g:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",g:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",g:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",g:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",g:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",g:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",g:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",g:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",g:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",g:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",g:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",g:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",g:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",g:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",g:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",g:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",g:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",g:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",g:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",g:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",g:"CM"},{name:"Canada",c:"1-CA-0",b:"1",g:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",g:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",g:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",g:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",g:"CF"},{name:"Chad",c:"235-TD-0",b:"235",g:"TD"},{name:"Chile",c:"56-CL-0",b:"56",g:"CL"},{name:"China",c:"86-CN-0",b:"86",g:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",g:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",g:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",g:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",g:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",g:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",g:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",g:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",g:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",g:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",g:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",g:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",g:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",g:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",g:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",g:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",g:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",g:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",g:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",g:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",g:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",g:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",g:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",g:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",g:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",g:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",g:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",g:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",g:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",g:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",g:"FI"},{name:"France",c:"33-FR-0",b:"33",g:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",g:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",g:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",g:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",g:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",g:"GE"},{name:"Germany",c:"49-DE-0",b:"49",g:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",g:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",g:"GI"},{name:"Greece",c:"30-GR-0",b:"30",g:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",g:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",g:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",g:"GP"},{name:"Guam",c:"1-GU-0",b:"1",g:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",g:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",g:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",g:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",g:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",g:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",g:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",g:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",g:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",g:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",g:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",g:"IS"},{name:"India",c:"91-IN-0",b:"91",g:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",g:"ID"},{name:"Iran",c:"98-IR-0",b:"98",g:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",g:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",g:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",g:"IM"},{name:"Israel",c:"972-IL-0",b:"972",g:"IL"},{name:"Italy",c:"39-IT-0",b:"39",g:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",g:"JM"},{name:"Japan",c:"81-JP-0",b:"81",g:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",g:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",g:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",g:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",g:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",g:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",g:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",g:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",g:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",g:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",g:"KG"},{name:"Laos",c:"856-LA-0",b:"856",g:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",g:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",g:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",g:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",g:"LR"},{name:"Libya",c:"218-LY-0",b:"218",g:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",g:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",g:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",g:"LU"},{name:"Macau",c:"853-MO-0",b:"853",g:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",g:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",g:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",g:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",g:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",g:"MV"},{name:"Mali",c:"223-ML-0",b:"223",g:"ML"},{name:"Malta",c:"356-MT-0",b:"356",g:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",g:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",g:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",g:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",g:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",g:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",g:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",g:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",g:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",g:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",g:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",g:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",g:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",g:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",g:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",g:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",g:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",g:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",g:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",g:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",g:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",g:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",g:"NI"},{name:"Niger",c:"227-NE-0",b:"227",g:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",g:"NG"},{name:"Niue",c:"683-NU-0",b:"683",g:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",g:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",g:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",g:"MP"},{name:"Norway",c:"47-NO-0",b:"47",g:"NO"},{name:"Oman",c:"968-OM-0",b:"968",g:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",g:"PK"},{name:"Palau",c:"680-PW-0",b:"680",g:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",g:"PS"},{name:"Panama",c:"507-PA-0",b:"507",g:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",g:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",g:"PY"},{name:"Peru",c:"51-PE-0",b:"51",g:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",g:"PH"},{name:"Poland",c:"48-PL-0",b:"48",g:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",g:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",g:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",g:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",g:"RE"},{name:"Romania",c:"40-RO-0",b:"40",g:"RO"},{name:"Russia",c:"7-RU-0",b:"7",g:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",g:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",g:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",g:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",g:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",g:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",g:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",g:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",g:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",g:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",g:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",g:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",g:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",g:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",g:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",g:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",g:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",g:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",g:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",g:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",g:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",g:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",g:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",g:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",g:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",g:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",g:"SS"},{name:"Spain",c:"34-ES-0",b:"34",g:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",g:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",g:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",g:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",g:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",g:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",g:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",g:"CH"},{name:"Syria",c:"963-SY-0",b:"963",g:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",g:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",g:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",g:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",g:"TH"},{name:"Togo",c:"228-TG-0",b:"228",g:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",g:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",g:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",g:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",g:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",g:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",g:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",g:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",g:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",g:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",g:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",g:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",g:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",g:"GB"},{name:"United States",c:"1-US-0",b:"1",g:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",g:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",g:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",g:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",g:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",g:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",g:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",g:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",g:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",g:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",g:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",g:"ZW"}];Fn(Un);var Bn=new Pn(Un);function Vn(e,t){this.a=e,this.va=t}function qn(e){e=Y(e);var t=Dn(Bn,e);return 0<t.length?new Vn("1"==t[0].b?"1-US-0":t[0].c,Y(e.substr(t[0].b.length+1))):null}function Wn(e){var t=Mn(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.va}function zn(e,t){for(var n=0;n<e.length;n++)if(!B(Kn,e[n])&&(null!==Hn&&e[n]in Hn||B(t,e[n])))return e[n];return null}var Kn=["emailLink","password","phone"],Hn={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"},Gn=Object.freeze||function(e){return e};function Qn(e,t,n){this.reset(e,t,n,void 0,void 0)}Qn.prototype.a=null;function Yn(e){this.i=e,this.a=this.h=this.j=this.f=null}function $n(e,t){this.name=e,this.value=t}Qn.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,this.h=r||A(),this.j=e,this.i=t,this.f=n,delete this.a},$n.prototype.toString=function(){return this.name};var Xn=new $n("SEVERE",1e3),Jn=new $n("WARNING",900),Zn=new $n("CONFIG",700);Yn.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.j?t.j:t.f?e(t.f):(P("Root logger has no level set."),null)}(this).value)for(y(t)&&(t=t()),e=new Qn(e,String(t),this.i),n&&(e.a=n),n=this;n;){var r=n,i=e;if(r.a)for(var o=0;t=r.a[o];o++)t(i);n=n.f}};var er={},tr=null;function nr(){tr||(tr=new Yn(""),er[""]=tr,tr.j=Zn)}function rr(){this.a=A()}var ir=null;function or(e){this.j=e||"",ir||(ir=new rr),this.i=ir}function ar(e){return 10>e?"0"+e:String(e)}function sr(e){or.call(this,e)}function ur(){this.i=T(this.h,this),this.a=new sr,this.a.f=!1,this.a.h=!1,this.f=this.a.a=!1,this.j={}}rr.prototype.set=function(e){this.a=e},rr.prototype.reset=function(){this.set(A())},rr.prototype.get=function(){return this.a},or.prototype.a=!0,or.prototype.f=!0,or.prototype.h=!1,N(sr,or),ur.prototype.h=function(e){if(!this.j[e.f]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.f){var r=new Date(t.h);n.push("[",ar(r.getFullYear()-2e3)+ar(r.getMonth()+1)+ar(r.getDate())+" "+ar(r.getHours())+":"+ar(r.getMinutes())+":"+ar(r.getSeconds())+"."+ar(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.i.get()),"s] "),n.push("[",t.f,"] "),n.push(t.i),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);if(lr)!function(e,t,n,r){e[t]?e[t](n,r||""):e.log(n,r||"")}(lr,function(e){if(e){if(e.value>=Xn.value)return"error";if(e.value>=Jn.value)return"warn";if(e.value>=Zn.value)return"log"}return"debug"}(e.j),t,e.a)}};var cr,lr=s.console;function fr(e,t){cr&&cr.log(Xn,e,t)}cr=function e(t){var n;if(nr(),!(n=er[t])){n=new Yn(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=e(t.substr(0,r))).h||(r.h={}),r.h[i]=n,n.f=r,er[t]=n}return n}("firebaseui");var hr=new ur;if(1!=hr.f){var dr;nr(),dr=tr;var pr=hr.i;dr.a||(dr.a=[]),dr.a.push(pr),hr.f=!0}function vr(e){cr&&cr.log(Jn,e,void 0)}function mr(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function gr(e,t){this.h=e,this.j=t,this.f=0,this.a=null}function yr(e,t){e.j(t),100>e.f&&(e.f++,t.next=e.a,e.a=t)}function br(){this.f=this.a=null}gr.prototype.get=function(){if(0<this.f){this.f--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var wr,_r,Er=new gr((function(){return new Tr}),(function(e){e.reset()}));function Sr(){var e=Ar,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.f=null),t.next=null),t}function Tr(){this.next=this.f=this.a=null}function Cr(e){s.setTimeout((function(){throw e}),0)}function Ir(e,t){_r||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);_r=function(){e.then(Or)}}else _r=function(){var e=Or;!y(s.setImmediate)||s.Window&&s.Window.prototype&&!ae("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(wr||(wr=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ae("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=T((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!ae("Trident")&&!ae("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(u(n.next)){var e=(n=n.next).ab;n.ab=null,e()}},function(e){r.next={ab:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){s.setTimeout(e,0)}}()),wr(e)):s.setImmediate(e)}}(),kr||(_r(),kr=!0),Ar.add(e,t)}br.prototype.add=function(e,t){var n=Er.get();n.set(e,t),this.f?this.f.next=n:this.a=n,this.f=n},Tr.prototype.set=function(e,t){this.a=e,this.f=t,this.next=null},Tr.prototype.reset=function(){this.next=this.f=this.a=null};var kr=!1,Ar=new br;function Or(){for(var e;e=Sr();){try{e.a.call(e.f)}catch(t){Cr(t)}yr(Er,e)}kr=!1}function Nr(e){if(this.a=xr,this.w=void 0,this.j=this.f=this.h=null,this.i=this.v=!1,e!=h)try{var t=this;e.call(void 0,(function(e){qr(t,Rr,e)}),(function(e){if(!(e instanceof Qr))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(n){}qr(t,Pr,e)}))}catch(n){qr(this,Pr,n)}}var xr=0,Rr=2,Pr=3;function Dr(){this.next=this.context=this.f=this.h=this.a=null,this.j=!1}Dr.prototype.reset=function(){this.context=this.f=this.h=this.a=null,this.j=!1};var Mr=new gr((function(){return new Dr}),(function(e){e.reset()}));function jr(e,t,n){var r=Mr.get();return r.h=e,r.f=t,r.context=n,r}function Lr(e){if(e instanceof Nr)return e;var t=new Nr(h);return qr(t,Rr,e),t}function Fr(e){return new Nr((function(t,n){n(e)}))}function Ur(e,t){return Vr(e,null,t,void 0)}function Br(e,t){e.f||e.a!=Rr&&e.a!=Pr||Wr(e),e.j?e.j.next=t:e.f=t,e.j=t}function Vr(e,t,n,r){var i=jr(null,null,null);return i.a=new Nr((function(e,o){i.h=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.f=n?function(t){try{var i=n.call(r,t);!u(i)&&t instanceof Qr?o(t):e(i)}catch(a){o(a)}}:o})),i.a.h=e,Br(e,i),i.a}function qr(e,t,n){if(e.a==xr){e===n&&(t=Pr,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var r=n,i=e.F,o=e.I;if(r instanceof Nr){Br(r,jr(i||h,o||null,e));var a=!0}else if(mr(r))r.then(i,o,e),a=!0;else{if(b(r))try{var s=r.then;if(y(s)){!function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(s){o(s)}}(r,s,i,o,e),a=!0;break e}}catch(u){o.call(e,u),a=!0;break e}a=!1}}a||(e.w=n,e.a=t,e.h=null,Wr(e),t!=Pr||n instanceof Qr||function(e,t){e.i=!0,Ir((function(){e.i&&Gr.call(null,t)}))}(e,n))}}function Wr(e){e.v||(e.v=!0,Ir(e.C,e))}function zr(e){var t=null;return e.f&&(t=e.f,e.f=t.next,t.next=null),e.f||(e.j=null),t}function Kr(e,t,n,r){if(n==Pr&&t.f&&!t.j)for(;e&&e.i;e=e.h)e.i=!1;if(t.a)t.a.h=null,Hr(t,n,r);else try{t.j?t.h.call(t.context):Hr(t,n,r)}catch(i){Gr.call(null,i)}yr(Mr,t)}function Hr(e,t,n){t==Rr?e.h.call(e.context,n):e.f&&e.f.call(e.context,n)}Nr.prototype.then=function(e,t,n){return Vr(this,y(e)?e:null,y(t)?t:null,n)},Nr.prototype.$goog_Thenable=!0,Nr.prototype.cancel=function(e){this.a==xr&&Ir((function(){!function e(t,n){if(t.a==xr)if(t.h){var r=t.h;if(r.f){for(var i=0,o=null,a=null,s=r.f;s&&(s.j||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==xr&&1==i?e(r,n):(a?((i=a).next==r.j&&(r.j=i),i.next=i.next.next):zr(r),Kr(r,o,Pr,n)))}t.h=null}else qr(t,Pr,n)}(this,new Qr(e))}),this)},Nr.prototype.F=function(e){this.a=xr,qr(this,Rr,e)},Nr.prototype.I=function(e){this.a=xr,qr(this,Pr,e)},Nr.prototype.C=function(){for(var e;e=zr(this);)Kr(this,e,this.a,this.w);this.v=!1};var Gr=Cr;function Qr(e){x.call(this,e)}N(Qr,x),Qr.prototype.name="cancel";var Yr=!me||9<=Number(ke),$r=me&&!Oe("9"),Xr=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Jr(){0!=Zr&&(ei[this[w]||(this[w]=++_)]=this),this.O=this.O,this.C=this.C}var Zr=0,ei={};function ti(e,t){e.O?u(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(u(void 0)?T(t,void 0):t))}function ni(e){e&&"function"==typeof e.m&&e.m()}function ri(e,t){this.type=e,this.f=this.target=t,this.h=!1,this.ib=!0}function ii(e,t){if(ri.call(this,e?e.type:""),this.relatedTarget=this.f=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.f=t,t=e.relatedTarget){if(be){e:{try{de(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=c(e.pointerType)?e.pointerType:oi[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jr.prototype.O=!1,Jr.prototype.m=function(){if(!this.O&&(this.O=!0,this.l(),0!=Zr)){var e=this[w]||(this[w]=++_);if(0!=Zr&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ei[e]}},Jr.prototype.l=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ri.prototype.stopPropagation=function(){this.h=!0},ri.prototype.preventDefault=function(){this.ib=!1},N(ii,ri);var oi=Gn({2:"touch",3:"pen",4:"mouse"});ii.prototype.stopPropagation=function(){ii.o.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},ii.prototype.preventDefault=function(){ii.o.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$r)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ai="closure_listenable_"+(1e6*Math.random()|0),si=0;function ui(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Fa=i,this.key=++si,this.qa=this.Ca=!1}function ci(e){e.qa=!0,e.listener=null,e.proxy=null,e.src=null,e.Fa=null}function li(e){this.src=e,this.a={},this.f=0}function fi(e,t){var n=t.type;n in e.a&&V(e.a[n],t)&&(ci(t),0==e.a[n].length&&(delete e.a[n],e.f--))}function hi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.qa&&o.listener==t&&o.capture==!!n&&o.Fa==r)return i}return-1}li.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.f++);var a=hi(e,t,r,i);return-1<a?(t=e[a],n||(t.Ca=!1)):((t=new ui(t,this.src,o,!!r,i)).Ca=n,e.push(t)),t};var di="closure_lm_"+(1e6*Math.random()|0),pi={};function vi(e,t,n,r,i){if(r&&r.once)return gi(e,t,n,r,i);if(m(t)){for(var o=0;o<t.length;o++)vi(e,t[o],n,r,i);return null}return n=Ii(n),e&&e[ai]?e.F.add(String(t),n,!1,b(r)?!!r.capture:!!r,i):mi(e,t,n,!1,r,i)}function mi(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=Ti(e);if(s||(e[di]=s=new li(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Si,t=Yr?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xr||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return 0,n}function gi(e,t,n,r,i){if(m(t)){for(var o=0;o<t.length;o++)gi(e,t[o],n,r,i);return null}return n=Ii(n),e&&e[ai]?e.F.add(String(t),n,!0,b(r)?!!r.capture:!!r,i):mi(e,t,n,!0,r,i)}function yi(e,t,n,r,i){if(m(t))for(var o=0;o<t.length;o++)yi(e,t[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=Ii(n),e&&e[ai]?(e=e.F,(t=String(t).toString())in e.a&&(-1<(n=hi(o=e.a[t],n,r,i))&&(ci(o[n]),q(o,n),0==o.length&&(delete e.a[t],e.f--)))):e&&(e=Ti(e))&&(t=e.a[t.toString()],e=-1,t&&(e=hi(t,n,r,i)),(n=-1<e?t[e]:null)&&bi(n))}function bi(e){if("number"!=typeof e&&e&&!e.qa){var t=e.src;if(t&&t[ai])fi(t.F,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),0,(n=Ti(t))?(fi(n,e),0==n.f&&(n.src=null,t[di]=null)):ci(e)}}}function wi(e){return e in pi?pi[e]:pi[e]="on"+e}function _i(e,t,n,r){var i=!0;if((e=Ti(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.qa&&(o=Ei(o,r),i=i&&!1!==o)}return i}function Ei(e,t){var n=e.listener,r=e.Fa||e.src;return e.Ca&&bi(e),n.call(r,t)}function Si(e,t){if(e.qa)return!0;if(!Yr){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new ii(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.f;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;!t.h&&0<=i;i--){t.f=r[i];var o=_i(r[i],e,!0,t);n=n&&o}for(i=0;!t.h&&i<r.length;i++)t.f=r[i],o=_i(r[i],e,!1,t),n=n&&o}return n}return Ei(e,new ii(t,this))}function Ti(e){return(e=e[di])instanceof li?e:null}var Ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ii(e){return y(e)?e:(e[Ci]||(e[Ci]=function(t){return e.handleEvent(t)}),e[Ci])}function ki(e,t,n){t||(t={}),n=n||window;var r=e instanceof Ue?e:We("undefined"!=typeof e.href?e.href:String(e));e=t.target||e.target;var i=[];for(o in t)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(t[o]?1:0))}var o=i.join(",");return(ae("iPhone")&&!ae("iPod")&&!ae("iPad")||ae("iPad")||ae("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(o=n.document.createElement("A"),r instanceof Ue||r instanceof Ue||(r="object"==typeof r&&r.la?r.ja():String(r),qe.test(r)||(r="about:invalid#zClosurez"),r=Ke(r)),o.href=Ve(r),o.setAttribute("target",e),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,o),t=Be(r),n&&(ye&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Xe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+he(t)+'">',null),n.document.write(Ye(t)),n.document.close())):(n=n.open(Be(r),e,o))&&t.noopener&&(n.opener=null),n}function Ai(e){window.location.assign(Be(We(e)))}function Oi(){try{return!!(window.opener&&window.opener.location&&window.opener.location.assign&&window.opener.location.hostname===window.location.hostname&&window.opener.location.protocol===window.location.protocol)}catch(e){}return!1}function Ni(e){ki(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function xi(e){if(null==(e=b(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error("Could not find the FirebaseUI widget element on the page.");return e}function Ri(){return window.location.href}function Pi(){this.a=new kn,An(this.a,"acUiConfig"),An(this.a,"autoUpgradeAnonymousUsers"),An(this.a,"callbacks"),An(this.a,"credentialHelper",Di),An(this.a,"immediateFederatedRedirect",!1),An(this.a,"popupMode",!1),An(this.a,"privacyPolicyUrl"),An(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),An(this.a,"queryParameterForWidgetMode","mode"),An(this.a,"signInFlow"),An(this.a,"signInOptions"),An(this.a,"signInSuccessUrl"),An(this.a,"siteName"),An(this.a,"tosUrl"),An(this.a,"widgetUrl")}var Di="accountchooser.com",Mi={Wb:Di,Zb:"googleyolo",NONE:"none"},ji={$b:"popup",bc:"redirect"};var Li={Yb:"callback",ac:"recoverEmail",cc:"resetPassword",dc:"select",ec:"signIn",fc:"verifyEmail"},Fi=["anonymous"],Ui=["sitekey","tabindex","callback","expired-callback"];function Bi(e){var t=e.a.get("widgetUrl")||Ri();return Vi(e,t)}function Vi(e,t){e=Xi(e);for(var n,r=t.search(Et),i=0,o=[];0<=(n=_t(t,i,e,r));)o.push(t.substring(i,n)),i=Math.min(t.indexOf("&",n)+1||r,r);return o.push(t.substr(i)),t=o.join("").replace(Tt,"$1"),(e+=r="="+encodeURIComponent("select"))?(0>(r=t.indexOf("#"))&&(r=t.length),0>(i=t.indexOf("?"))||i>r?(i=r,n=""):n=t.substring(i+1,r),r=(t=[t.substr(0,i),n,t.substr(r)])[1],t[1]=e?r?r+"&"+e:e:r,e=t[0]+(t[1]?"?"+t[1]:"")+t[2]):e=t,e}function qi(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!so(e)&&fr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Wi(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var r=e[n];(r=b(r)?r:{provider:r}).provider&&t.push(r)}return t}function zi(e,t){e=Wi(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Ki(e){return L(Wi(e),(function(e){return e.provider}))}function Hi(e,t){e=Gi(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function Gi(e){return L(Wi(e),(function(e){return Hn[e.provider]||B(Fi,e.provider)?{providerId:e.provider}:{providerId:e.provider,hb:e.providerName||e.provider,pb:e.buttonColor||null,fb:e.iconUrl?Be(We(e.iconUrl)):null,Eb:e.loginHintKey||null}}))}function Qi(e,t){return m(e=(e=zi(e,t))&&e.scopes)?e:[]}function Yi(e,t){return b(e=(e=zi(e,t))&&e.customParameters)?(e=ue(e),t===r.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===r.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function $i(e){if(!(e=zi(e,r.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if("undefined"!==typeof t&&(!m(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if("undefined"!==typeof n&&!m(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return Un;if(e=[],t){n={};for(var i=0;i<t.length;i++)for(var o=Ln(t[i]),a=0;a<o.length;a++)n[o[a].c]=o[a];for(var s in n)n.hasOwnProperty(s)&&e.push(n[s])}else{for(s={},i=0;i<n.length;i++)for(o=Ln(n[i]),a=0;a<o.length;a++)s[o[a].c]=o[a];for(t=0;t<Un.length;t++)null!==s&&Un[t].c in s||e.push(Un[t])}return e}function Xi(e){return Nn(e.a,"queryParameterForWidgetMode")}function Ji(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&vr("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if(y(t))return t;if(c(t))return function(){Ni(t)}}return null}function Zi(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&vr("Term of Service URL is missing, the link will not be displayed."),t&&n){if(y(n))return n;if(c(n))return function(){Ni(n)}}return null}function eo(e){return!(e=zi(e,r.auth.EmailAuthProvider.PROVIDER_ID))||"undefined"===typeof e.requireDisplayName||!!e.requireDisplayName}function to(e){return!(!(e=zi(e,r.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==r.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function no(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Ki(e);return e=ro(e),t&&1==n.length&&!B(Kn,n[0])&&"redirect"==e}function ro(e){for(var t in e=e.a.get("signInFlow"),ji)if(ji[t]==e)return ji[t];return"redirect"}function io(e){return uo(e).uiShown||null}function oo(e){return uo(e).signInSuccess||null}function ao(e){return uo(e).signInSuccessWithAuthResult||null}function so(e){return uo(e).signInFailure||null}function uo(e){return e.a.get("callbacks")||{}}function co(e){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return"none";for(var t in e=e.a.get("credentialHelper"),Mi)if(Mi[t]==e)return Mi[t];return Di}function lo(e){this.a=Ot(e)}var fo={Ja:"ui_auid",Xb:"apiKey",Ka:"ui_sd",lb:"mode",Va:"oobCode",PROVIDER_ID:"ui_pid",Na:"ui_sid",mb:"tenantId"};function ho(e){return e.a.a.get(fo.Ja)||null}function po(e,t){t?e.a.a.set(fo.PROVIDER_ID,t):Vt(e.a.a,fo.PROVIDER_ID)}function vo(){Jr.call(this),this.F=new li(this),this.nb=this,this.Ba=null}function mo(e,t){var n,r=e.Ba;if(r)for(n=[];r;r=r.Ba)n.push(r);if(e=e.nb,r=t.type||t,c(t))t=new ri(t,e);else if(t instanceof ri)t.target=t.target||e;else{var i=t;le(t=new ri(r,e),i)}if(i=!0,n)for(var o=n.length-1;!t.h&&0<=o;o--){var a=t.f=n[o];i=go(a,r,!0,t)&&i}if(t.h||(i=go(a=t.f=e,r,!0,t)&&i,t.h||(i=go(a,r,!1,t)&&i)),n)for(o=0;!t.h&&o<n.length;o++)i=go(a=t.f=n[o],r,!1,t)&&i;return i}function go(e,t,n,r){if(!(t=e.F.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.qa&&a.capture==n){var s=a.listener,u=a.Fa||a.src;a.Ca&&fi(e.F,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.ib}lo.prototype.toString=function(){return this.a.toString()},N(vo,Jr),vo.prototype[ai]=!0,vo.prototype.Ua=function(e){this.Ba=e},vo.prototype.removeEventListener=function(e,t,n,r){yi(this,e,t,n,r)},vo.prototype.l=function(){if(vo.o.l.call(this),this.F){var e,t=this.F;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,ci(n[r]);delete t.a[e],t.f--}}this.Ba=null};var yo={},bo=0;function wo(e,t){if(!e)throw Error("Event target element must be provided!");if(e=Eo(e),yo[e]&&yo[e].length)for(var n=0;n<yo[e].length;n++)mo(yo[e][n],t)}function _o(e){var t=Eo(e.N());yo[t]&&yo[t].length&&(function(e,t){0<=(t=U(e,t,void 0))&&q(e,t)}(yo[t],(function(t){return t==e})),yo[t].length||delete yo[t])}function Eo(e){return"undefined"===typeof e.a&&(e.a=bo,bo++),e.a}function So(e){if(!e)throw Error("Event target element must be provided!");this.a=e,vo.call(this)}function To(e){var t=Mo;this.i=[],this.O=t,this.K=e||null,this.j=this.a=!1,this.h=void 0,this.F=this.s=this.w=!1,this.v=0,this.f=null,this.C=0}function Co(e,t,n){e.a=!0,e.h=n,e.j=!t,Oo(e)}function Io(e){if(e.a){if(!e.F)throw new No(e);e.F=!1}}function ko(e,t,n){e.i.push([t,n,void 0]),e.a&&Oo(e)}function Ao(e){return F(e.i,(function(e){return y(e[1])}))}function Oo(e){if(e.v&&e.a&&Ao(e)){var t=e.v,n=Po[t];n&&(s.clearTimeout(n.a),delete Po[t]),e.v=0}e.f&&(e.f.C--,delete e.f),t=e.h;for(var r=n=!1;e.i.length&&!e.w;){var i=e.i.shift(),o=i[0],a=i[1];if(i=i[2],o=e.j?a:o)try{var c=o.call(i||e.K,t);u(c)&&(e.j=e.j&&(c==t||c instanceof Error),e.h=t=c),(mr(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.w=!0)}catch(l){t=l,e.j=!0,Ao(e)||(n=!0)}}e.h=t,r&&(c=T(e.I,e,!0),r=T(e.I,e,!1),t instanceof To?(ko(t,c,r),t.s=!0):t.then(c,r)),n&&(t=new Ro(t),Po[t.a]=t,e.v=t.a)}function No(){x.call(this)}function xo(){x.call(this)}function Ro(e){this.a=s.setTimeout(T(this.h,this),0),this.f=e}N(So,vo),So.prototype.N=function(){return this.a},So.prototype.register=function(){var e=Eo(this.N());yo[e]?B(yo[e],this)||yo[e].push(this):yo[e]=[this]},To.prototype.cancel=function(e){if(this.a)this.h instanceof To&&this.h.cancel();else{if(this.f){var t=this.f;delete this.f,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.O?this.O.call(this.K,this):this.F=!0,this.a||(e=new xo(this),Io(this),Co(this,!1,e))}},To.prototype.I=function(e,t){this.w=!1,Co(this,e,t)},To.prototype.then=function(e,t,n){var r,i,o=new Nr((function(e,t){r=e,i=t}));return ko(this,r,(function(e){e instanceof xo?o.cancel():i(e)})),o.then(e,t,n)},To.prototype.$goog_Thenable=!0,N(No,x),No.prototype.message="Deferred has already fired",No.prototype.name="AlreadyCalledError",N(xo,x),xo.prototype.message="Deferred was canceled",xo.prototype.name="CanceledError",Ro.prototype.h=function(){throw delete Po[this.a],this.f};var Po={};function Do(e){var t={},n=t.document||document,r=je(e).toString(),i=document.createElement("SCRIPT"),o={jb:i,kb:void 0},a=new To(o),u=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(u=window.setTimeout((function(){jo(i,!0);var e=new Uo(Fo,"Timeout reached for loading script "+r);Io(a),Co(a,!1,e)}),c),o.kb=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(jo(i,t.ic||!1,u),Io(a),Co(a,!0,null))},i.onerror=function(){jo(i,!0,u);var e=new Uo(Lo,"Error while loading script "+r);Io(a),Co(a,!1,e)},le(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){se(t,(function(t,n){t&&"object"==typeof t&&t.la&&(t=t.ja()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:at.hasOwnProperty(n)?e.setAttribute(at[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}(i,o),function(e,t){e.src=je(t),null===f&&(f=(t=(t=s.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""),(t=f)&&e.setAttribute("nonce",t)}(i,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Mo(){if(this&&this.jb){var e=this.jb;e&&"SCRIPT"==e.tagName&&jo(e,!0,this.kb)}}function jo(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){ut(e)}),0)}var Lo=0,Fo=1;function Uo(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),x.call(this,n),this.code=e}function Bo(e){this.a=e||s.googleyolo,this.f=null,this.h=!1}N(Uo,x),d(Bo);var Vo=new xe(De,"https://smartlock.google.com/client");function qo(){this.a=null}function Wo(e,t){this.a=e,this.f=t||function(e){throw e}}function zo(e,t,n,r){this.a=e,this.h=t||null,this.j=n||null,this.f=r||null}function Ko(e){return e.email?new zo(e.email,e.displayName,e.photoUrl,e.providerId):null}function Ho(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Go(e){e=(e.a.cookie||"").split(";");for(var t,n,r=[],i=[],o=0;o<e.length;o++)-1==(t=(n=Y(e[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,t)),i.push(n.substring(t+1)));return{keys:r,values:i}}Bo.prototype.cancel=function(){this.a&&this.h&&(this.f=this.a.cancelLastOperation().catch((function(){})))},d(qo),qo.prototype.load=function(){var e=this;if(this.a)return this.a;var t=Fe(Re(Vo));return s.googleyolo?Lr():this.a=function(){var e=null;return Ur(new Nr((function(t){"complete"==s.document.readyState?t():(e=function(){t()},gi(window,"load",e))})),(function(t){throw yi(window,"load",e),t}))}().then((function(){if(!s.googleyolo)return new Nr((function(n,r){var i=setTimeout((function(){e.a=null,r(Error("Network error!"))}),1e4);s.onGoogleYoloLoad=function(){clearTimeout(i),n()},Ur(Lr(Do(t)),(function(t){clearTimeout(i),e.a=null,r(t)}))}))}))},Wo.prototype.confirm=function(e){return Ur(Lr(this.a.confirm(e)),this.f)},zo.prototype.Z=function(){return{email:this.a,displayName:this.h,photoUrl:this.j,providerId:this.f}},(e=Ho.prototype).set=function(e,t,n,r,i,o){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');u(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(A()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+i+r+n+o},e.get=function(e,t){for(var n,r=e+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=Y(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==e)return""}return t},e.ia=function(){return Go(this).keys},e.ka=function(){return Go(this).values},e.clear=function(){for(var e=Go(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var Qo=new Ho;function Yo(){}function $o(e,t,n,r){this.h="undefined"!==typeof e&&null!==e?e:-1,this.f=t||null,this.a=n||null,this.j=!!r}function Xo(e,t){this.f=e,this.a=t||null}function Jo(e){if(e&&e.email){var t=e.credential&&r.auth.AuthCredential.fromJSON(e.credential);return new Xo(e.email,t)}return null}function Zo(e){this.a=e||null}function ea(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);255<i&&(t[n++]=255&i,i>>=8),t[n++]=i}return t}function ta(e){return L(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function na(e){for(this.v=e,this.f=this.v.length/4,this.j=this.f+6,this.h=[[],[],[],[]],this.i=[[],[],[],[]],this.a=Array(ra*(this.j+1)),e=0;e<this.f;e++)this.a[e]=[this.v[4*e],this.v[4*e+1],this.v[4*e+2],this.v[4*e+3]];var t=Array(4);for(e=this.f;e<ra*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.f){var n=t,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,la(t),t[0]^=da[e/this.f][0],t[1]^=da[e/this.f][1],t[2]^=da[e/this.f][2],t[3]^=da[e/this.f][3]}else 6<this.f&&4==e%this.f&&la(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.f][0]^t[0],this.a[e][1]=this.a[e-this.f][1]^t[1],this.a[e][2]=this.a[e-this.f][2]^t[2],this.a[e][3]=this.a[e-this.f][3]^t[3]}}N($o,Yo),$o.prototype.set=function(e,t){Qo.set(e,t,this.h,this.f,this.a,this.j)},$o.prototype.get=function(e){return Qo.get(e)||null},$o.prototype.pa=function(e){var t=this.f,n=this.a;Qo.get(e),Qo.set(e,"",0,t,n)},Xo.prototype.Z=function(){return{email:this.f,credential:this.a&&this.a.toJSON()}},Zo.prototype.Z=function(){return{tenantId:this.a}},na.prototype.w=16;var ra=na.prototype.w/4;function ia(e,t){for(var n,r=0;r<ra;r++)for(var i=0;4>i;i++)n=t[n=4*i+r],e.h[r][i]=n}function oa(e){for(var t=[],n=0;n<ra;n++)for(var r=0;4>r;r++)t[4*r+n]=e.h[n][r];return t}function aa(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]^=e.a[4*t+r][n]}function sa(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]=t[e.h[n][r]]}function ua(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.i[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.i[t][(n+t)%ra]}function ca(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.i[t][(n+t)%ra]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.i[t][n]}function la(e){e[0]=fa[e[0]],e[1]=fa[e[1]],e[2]=fa[e[2]],e[3]=fa[e[3]]}var fa=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ha=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],da=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],pa=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],va=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ma=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ga=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],ya=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],ba=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function wa(e,t){e=new na(Ea(e));for(var n,r=H(t=ea(t),0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(ia(n=e,r),aa(n,0),r=1;r<n.j;++r){sa(n,fa),ua(n),o=n.h;for(var a=n.i[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=pa[a[0]]^va[a[1]]^a[2]^a[3],o[1][s]=a[0]^pa[a[1]]^va[a[2]]^a[3],o[2][s]=a[0]^a[1]^pa[a[2]]^va[a[3]],o[3][s]=va[a[0]]^a[1]^a[2]^pa[a[3]];aa(n,r)}sa(n,fa),ua(n),aa(n,n.j),i+=ta(oa(n)),r=H(t,0,16)}return i}function _a(e,t){e=new na(Ea(e));for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));var i=H(n,0,16);for(t="";i.length;){for(ia(r=e,i),aa(r,r.j),i=1;i<r.j;++i){ca(r),sa(r,ha),aa(r,r.j-i);for(var o=r.h,a=r.i[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=ba[a[0]]^ga[a[1]]^ya[a[2]]^ma[a[3]],o[1][s]=ma[a[0]]^ba[a[1]]^ga[a[2]]^ya[a[3]],o[2][s]=ya[a[0]]^ma[a[1]]^ba[a[2]]^ga[a[3]],o[3][s]=ga[a[0]]^ya[a[1]]^ma[a[2]]^ba[a[3]]}if(ca(r),sa(r,ha),aa(r,0),8192>=(r=oa(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,G(r,o,o+8192));r=i}t+=r,i=H(n,0,16)}return t.replace(/(\x00)+$/,"")}function Ea(e){for(var t=32-(e=ea(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Sa(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(m(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ka(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ka(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Ta,e,t),t.join("")}function Ta(){}var Ca={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ia=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ka(e,t){t.push('"',e.replace(Ia,(function(e){var t=Ca[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ca[e]=t),t})),'"')}function Aa(e){this.a=e}function Oa(){}function Na(e){this.a=e}function xa(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(t){return!1}}function Ra(){var e=null;try{e=window.localStorage||null}catch(t){}this.a=e}function Pa(){var e=null;try{e=window.sessionStorage||null}catch(t){}this.a=e}function Da(e,t){this.f=e,this.a=t+"::"}Aa.prototype.set=function(e,t){u(t)?this.a.set(e,Sa(t)):this.a.pa(e)},Aa.prototype.get=function(e){try{var t=this.a.get(e)}catch(n){return}if(null!==t)try{return JSON.parse(t)}catch(r){throw"Storage: Invalid value was encountered"}},N(Oa,Yo),Oa.prototype.clear=function(){var e=mt(this.ga(!0)),t=this;M(e,(function(e){t.pa(e)}))},N(Na,Oa),(e=Na.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(n){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!c(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.pa=function(e){this.a.removeItem(e)},e.ga=function(e){var t=0,n=this.a,r=new pt;return r.next=function(){if(t>=n.length)throw dt;var r=n.key(t++);if(e)return r;if(!c(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},N(Ra,Na),N(Pa,Na),N(Da,Oa),Da.prototype.set=function(e,t){this.f.set(this.a+e,t)},Da.prototype.get=function(e){return this.f.get(this.a+e)},Da.prototype.pa=function(e){this.f.pa(this.a+e)},Da.prototype.ga=function(e){var t=this.f.ga(!0),n=this,r=new pt;return r.next=function(){for(var r=t.next();r.substr(0,n.a.length)!=n.a;)r=t.next();return e?r.substr(n.a.length):n.f.get(r)},r};var Ma=new Ra,ja=new Aa(xa(Ma)?new Da(Ma,"firebaseui"):null),La=new Pa,Fa=new Aa(xa(La)?new Da(La,"firebaseui"):null),Ua={name:"pendingEmailCredential",storage:Fa},Ba={name:"redirectStatus",storage:Fa},Va={name:"redirectUrl",storage:Fa},qa={name:"rememberAccount",storage:Fa},Wa={name:"rememberedAccounts",storage:ja},za={name:"emailForSignIn",storage:new Aa(new $o(3600,"/"))},Ka={name:"pendingEncryptedCredential",storage:new Aa(new $o(3600,"/"))};function Ha(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function Ga(e,t){e.storage.a.pa(t?e.name+":"+t:e.name)}function Qa(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Ya(e){return Ha(Va,e)||null}function $a(e,t){Qa(Va,e,t)}function Xa(e,t){Qa(qa,e,t)}function Ja(e){return e=Ha(Wa,e)||[],e=L(e,(function(e){return Ko(e)})),j(e,v)}function Za(e){return Jo(e=Ha(Ua,e)||null)}function es(e){Ga(Ua,e)}function ts(e,t){Qa(Ua,e.Z(),t)}function ns(e){return(e=Ha(Ba,e)||null)&&"undefined"!==typeof e.tenantId?new Zo(e.tenantId):null}function rs(e,t){Qa(Ba,e.Z(),t)}var is=null;function os(e){return!(!e||-32e3!=e.code||"Service unavailable"!=e.message)}function as(e,t,n,r){is||(e={callbacks:{empty:e,select:function(e,r){e&&e.account&&t?t(Ko(e.account)):n&&n(!os(r))},store:e,update:e},language:"en",providers:void 0,ui:r},"undefined"!=typeof accountchooser&&accountchooser.Api&&accountchooser.Api.init?is=accountchooser.Api.init(e):(is=new us(e),function(){var e=is;y(e.a.callbacks.empty)&&e.a.callbacks.empty()}()))}function ss(e,t,n){function r(){var e=Nt(window.location.href,n).toString();is.select(L(t||[],(function(e){return e.Z()})),{clientCallbackUrl:e})}t&&t.length?r():is.checkEmpty((function(t,n){t||n?e(!os(n)):r()}))}function us(e){this.a=e,this.a.callbacks=this.a.callbacks||{}}var cs={code:-32e3,message:"Service unavailable",data:"Service is unavailable."};(e=us.prototype).store=function(){y(this.a.callbacks.store)&&this.a.callbacks.store(void 0,cs)},e.select=function(){y(this.a.callbacks.select)&&this.a.callbacks.select(void 0,cs)},e.update=function(){y(this.a.callbacks.update)&&this.a.callbacks.update(void 0,cs)},e.checkDisabled=function(e){e(!0)},e.checkEmpty=function(e){e(void 0,cs)},e.checkAccountExist=function(e,t){t(void 0,cs)},e.checkShouldUpdate=function(e,t){t(void 0,cs)};var ls,fs,hs,ds,ps={};function vs(e,t,n,r){ps[e].apply(null,Array.prototype.slice.call(arguments,1))}var ms=/MSIE ([\d.]+).*Windows NT ([\d.]+)/,gs=/Firefox\/([\d.]+)/,ys=/Opera[ \/]([\d.]+)(.*Version\/([\d.]+))?/,bs=/Chrome\/([\d.]+)/,ws=/((Windows NT ([\d.]+))|(Mac OS X ([\d_]+))).*Version\/([\d.]+).*Safari/,_s=/Mac OS X;.*(?!(Version)).*Safari/,Es=/Android ([\d.]+).*Safari/,Ss=/OS ([\d_]+) like Mac OS X.*Mobile.*Safari/,Ts=/Konqueror\/([\d.]+)/,Cs=/MSIE ([\d.]+).*Windows Phone OS ([\d.]+)/;function Is(e,t){for(e=e.split(t||"."),this.a=[],t=0;t<e.length;t++)this.a.push(parseInt(e[t],10))}function ks(e,t){return 0<=function(e,t){t instanceof Is||(t=new Is(String(t)));for(var n=Math.max(e.a.length,t.a.length),r=0;r<n;r++){var i=e.a[r],o=t.a[r];if(void 0!==i&&void 0!==o&&i!==o)return i-o;if(void 0===i)return-1;if(void 0===o)return 1}return 0}(e,t)}function As(e){return e.classList?e.classList:c(e=e.className)&&e.match(/\S+/g)||[]}function Os(e,t){return e.classList?e.classList.contains(t):B(As(e),t)}function Ns(e,t){e.classList?e.classList.add(t):Os(e,t)||(e.className+=0<e.className.length?" "+t:t)}function xs(e,t){e.classList?e.classList.remove(t):Os(e,t)&&(e.className=j(As(e),(function(e){return e!=t})).join(" "))}function Rs(e){var t=e.type;switch(c(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,r=0;n=e.options[r];r++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function Ps(e,t){var n=e.type;switch(c(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,c(t))for(var r=0;n=e.options[r];r++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(c(t)&&(t=[t]),r=0;n=e.options[r];r++)if(n.selected=!1,t)for(var i,o=0;i=t[o];o++)n.value==i&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function Ds(e,t,n,r,i,o){if(we&&!Oe("525"))return!0;if(Ee&&i)return Ms(e);if(i&&!r)return!1;if(!be&&("number"==typeof t&&(t=js(t)),(!n||Ee)&&(17==t||18==t||Ee&&91==t)||Ee&&16==t&&(r||o)))return!1;if((we||ge)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(me&&r&&t==e)return!1;switch(e){case 13:return!be||!o&&!i&&!(n&&r);case 27:return!(we||ge||be)}return(!be||!(r||i||o))&&Ms(e)}function Ms(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(we||ge)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return be;default:return!1}}function js(e){if(be)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(Ee&&we)switch(e){case 93:e=91}return e}function Ls(e){vo.call(this),this.a=e,vi(e,"keydown",this.f,!1,this),vi(e,"click",this.h,!1,this)}function Fs(e,t){var n=new Bs(t);if(mo(e,n)){n=new Us(t);try{mo(e,n)}finally{t.stopPropagation()}}}function Us(e){ii.call(this,e.a),this.type="action"}function Bs(e){ii.call(this,e.a),this.type="beforeaction"}function Vs(e){vo.call(this),this.a=e,e=me?"focusout":"blur",this.f=vi(this.a,me?"focusin":"focus",this,!me),this.h=vi(this.a,e,this,!me)}function qs(e,t){vo.call(this),this.f=e||1,this.a=t||s,this.h=T(this.Sb,this),this.j=A()}function Ws(e){e.Ea=!1,e.Y&&(e.a.clearTimeout(e.Y),e.Y=null)}function zs(e){Jr.call(this),this.f=e,this.a={}}N(Ls,vo),Ls.prototype.f=function(e){(13==e.keyCode||we&&3==e.keyCode)&&Fs(this,e)},Ls.prototype.h=function(e){Fs(this,e)},Ls.prototype.l=function(){Ls.o.l.call(this),yi(this.a,"keydown",this.f,!1,this),yi(this.a,"click",this.h,!1,this),delete this.a},N(Us,ii),N(Bs,ii),N(Vs,vo),Vs.prototype.handleEvent=function(e){var t=new ii(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",mo(this,t)},Vs.prototype.l=function(){Vs.o.l.call(this),bi(this.f),bi(this.h),delete this.a},N(qs,vo),(e=qs.prototype).Ea=!1,e.Y=null,e.Sb=function(){if(this.Ea){var e=A()-this.j;0<e&&e<.8*this.f?this.Y=this.a.setTimeout(this.h,this.f-e):(this.Y&&(this.a.clearTimeout(this.Y),this.Y=null),mo(this,"tick"),this.Ea&&(Ws(this),this.start()))}},e.start=function(){this.Ea=!0,this.Y||(this.Y=this.a.setTimeout(this.h,this.f),this.j=A())},e.l=function(){qs.o.l.call(this),Ws(this),delete this.a},N(zs,Jr);var Ks=[];function Hs(e,t,n,r){m(n)||(n&&(Ks[0]=n.toString()),n=Ks);for(var i=0;i<n.length;i++){var o=vi(t,n[i],r||e.handleEvent,!1,e.f||e);if(!o)break;e.a[o.key]=o}}function Gs(e){se(e.a,(function(e,t){this.a.hasOwnProperty(t)&&bi(e)}),e),e.a={}}function Qs(e){vo.call(this),this.a=null,this.f=e,e=me||ge||we&&!Oe("531")&&"TEXTAREA"==e.tagName,this.h=new zs(this),Hs(this.h,this.f,e?["keydown","paste","cut","drop","input"]:"input",this)}function Ys(e){null!=e.a&&(s.clearTimeout(e.a),e.a=null)}function $s(e){return(e=new ii(e.a)).type="input",e}function Xs(e,t){vo.call(this),e&&(this.Ia&&nu(this),this.oa=e,this.Ha=vi(this.oa,"keypress",this,t),this.Ta=vi(this.oa,"keydown",this.yb,t,this),this.Ia=vi(this.oa,"keyup",this.Bb,t,this))}zs.prototype.l=function(){zs.o.l.call(this),Gs(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N(Qs,vo),Qs.prototype.handleEvent=function(e){if("input"==e.type)me&&Oe(10)&&0==e.keyCode&&0==e.j||(Ys(this),mo(this,$s(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(Ms(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!be;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.f.value:null;me&&229==e.keyCode&&(t=null);var n=$s(e);Ys(this),this.a=function(e,t){if(y(e))t&&(e=T(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=T(e.handleEvent,e)}return 2147483647<Number(0)?-1:s.setTimeout(e,0)}((function(){this.a=null,this.f.value!=t&&mo(this,n)}),this)}},Qs.prototype.l=function(){Qs.o.l.call(this),this.h.m(),Ys(this),delete this.f},N(Xs,vo),(e=Xs.prototype).oa=null,e.Ha=null,e.Ta=null,e.Ia=null,e.S=-1,e.W=-1,e.Pa=!1;var Js={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Zs={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},eu=!we||Oe("525"),tu=Ee&&be;function nu(e){e.Ha&&(bi(e.Ha),bi(e.Ta),bi(e.Ia),e.Ha=null,e.Ta=null,e.Ia=null),e.oa=null,e.S=-1,e.W=-1}function ru(e,t,n,r){ii.call(this,r),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function iu(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}function ou(e,t){var n=ct(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function au(e){try{var t=e.getBoundingClientRect()}catch(n){return{left:0,top:0,right:0,bottom:0}}return me&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function su(e){var t=ct(e),n=new et(0,0),r=t?ct(t):document;return e==(r=!me||9<=Number(ke)||"CSS1Compat"==nt(r).a.compatMode?r.documentElement:r.body)?n:(e=au(e),t=st(r=nt(t).a),r=r.parentWindow||r.defaultView,t=me&&Oe("10")&&r.pageYOffset!=t.scrollTop?new et(t.scrollLeft,t.scrollTop):new et(r.pageXOffset||t.scrollLeft,r.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.f=e.top+t.f,n)}(e=Xs.prototype).yb=function(e){(we||ge)&&(17==this.S&&!e.ctrlKey||18==this.S&&!e.altKey||Ee&&91==this.S&&!e.metaKey)&&(this.W=this.S=-1),-1==this.S&&(e.ctrlKey&&17!=e.keyCode?this.S=17:e.altKey&&18!=e.keyCode?this.S=18:e.metaKey&&91!=e.keyCode&&(this.S=91)),eu&&!Ds(e.keyCode,this.S,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.W=js(e.keyCode),tu&&(this.Pa=e.altKey))},e.Bb=function(e){this.W=this.S=-1,this.Pa=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(me&&"keypress"==e.type)var r=this.W,i=13!=r&&27!=r?t.keyCode:0;else(we||ge)&&"keypress"==e.type?(r=this.W,i=0<=t.charCode&&63232>t.charCode&&Ms(r)?t.charCode:0):ve&&!we?i=Ms(r=this.W)?t.keyCode:0:("keypress"==e.type?(tu&&(n=this.Pa),t.keyCode==t.charCode?32>t.keyCode?(r=t.keyCode,i=0):(r=this.W,i=t.charCode):(r=t.keyCode||this.W,i=t.charCode||0)):(r=t.keyCode||this.W,i=t.charCode||0),Ee&&63==i&&224==r&&(r=191));var o=r=js(r);r?63232<=r&&r in Js?o=Js[r]:25==r&&e.shiftKey&&(o=9):t.keyIdentifier&&t.keyIdentifier in Zs&&(o=Zs[t.keyIdentifier]),be&&eu&&"keypress"==e.type&&!Ds(o,this.S,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=o==this.S,this.S=o,(t=new ru(o,i,e,t)).altKey=n,mo(this,t))},e.N=function(){return this.oa},e.l=function(){Xs.o.l.call(this),nu(this)},N(ru,ii),iu.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},iu.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},iu.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},iu.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var uu={thin:2,medium:4,thick:6};function cu(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in uu)e=uu[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=r,e=+n}return e}function lu(){}function fu(e){vo.call(this),this.w=e||nt(),this.Ya=null,this.ma=!1,this.j=null,this.I=void 0,this.xa=this.za=this.$=null}function hu(e,t){return e.j?it(t,e.j||e.w.a):null}function du(e){return e.I||(e.I=new zs(e)),e.I}function pu(e,t){e.za&&M(e.za,t,void 0)}function vu(e,t){var n=ft(e,"firebaseui-textfield");t?(xs(e,"firebaseui-input-invalid"),Ns(e,"firebaseui-input"),n&&xs(n,"firebaseui-textfield-invalid")):(xs(e,"firebaseui-input"),Ns(e,"firebaseui-input-invalid"),n&&Ns(n,"firebaseui-textfield-invalid"))}function mu(e,t,n){ti(e,C(ni,t=new Qs(t))),Hs(du(e),t,"input",n)}function gu(e,t,n){ti(e,C(ni,t=new Xs(t))),Hs(du(e),t,"key",(function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))}))}function yu(e,t,n){ti(e,C(ni,t=new Ls(t))),Hs(du(e),t,"action",(function(e){e.stopPropagation(),e.preventDefault(),n(e)}))}function bu(e){Ns(e,"firebaseui-hidden")}function wu(e,t){t&&lt(e,t),xs(e,"firebaseui-hidden")}function _u(e){return!Os(e,"firebaseui-hidden")&&"none"!=e.style.display}function Eu(e){var t=(e=e||{}).email,n=e.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="email">';return r=e.hc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+cn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',on(r)}function Su(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+en(e):t+"Next",on(t+"</button>")}function Tu(){var e=""+Su({label:sn("Sign In")});return on(e)}function Cu(){var e=""+Su({label:sn("Save")});return on(e)}function Iu(){var e=""+Su({label:sn("Continue")});return on(e)}function ku(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="newPassword">';return t=(e=(e=e||{}).label)?t+en(e):t+"Choose password",on(t+'</label><input type="password" name="newPassword" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Au(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="password">';return on((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Ou(){return on('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Nu(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+en(e):t+"Cancel",on(t+"</button>")}function xu(e){var t="";return e.H&&e.G&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),on(t)}function Ru(e){var t="";return e.H&&e.G&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),on(t)}function Pu(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+en(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',on(e)}function Du(e){var t=e.content;return e=e.rb,on('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+cn(e):"")+'">'+en(t)+"</dialog>")}function Mu(e){var t=e.message;return on(Du({content:un('<div class="firebaseui-dialog-icon-wrapper"><div class="'+cn(e.Ga)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+en(t)+"</div>")}))}function ju(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,r=0;r<n;r++){var i=e[r];t+='<button type="button" data-listboxid="'+cn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ga?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+cn(i.Ga)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+en(i.label)+"</div></button>"}return t=""+Du({rb:sn("firebaseui-list-box-dialog"),content:un(t+"</div>")}),on(t)}function Lu(e){return on((e=e||{}).Ub?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Fu(e){var t="";if((e=(e=e||{}).na).hb)t+=e.hb;else switch(e.providerId){case"google.com":t+="Google";break;case"github.com":t+="GitHub";break;case"facebook.com":t+="Facebook";break;case"twitter.com":t+="Twitter";break;case"anonymous":t+="Guest";break;default:t+="Password"}return rn(t)}function Uu(e){qu(e,"upgradeElement")}function Bu(e){qu(e,"downgradeElements")}d(lu),lu.prototype.a=0,N(fu,vo),(e=fu.prototype).Db=lu.Sa(),e.N=function(){return this.j},e.Ua=function(e){if(this.$&&this.$!=e)throw Error("Method not supported");fu.o.Ua.call(this,e)},e.eb=function(){this.j=this.w.a.createElement("DIV")},e.render=function(e){if(this.ma)throw Error("Component already rendered");this.j||this.eb(),e?e.insertBefore(this.j,null):this.w.a.body.appendChild(this.j),this.$&&!this.$.ma||this.u()},e.u=function(){this.ma=!0,pu(this,(function(e){!e.ma&&e.N()&&e.u()}))},e.ua=function(){pu(this,(function(e){e.ma&&e.ua()})),this.I&&Gs(this.I),this.ma=!1},e.l=function(){this.ma&&this.ua(),this.I&&(this.I.m(),delete this.I),pu(this,(function(e){e.m()})),this.j&&ut(this.j),this.$=this.j=this.xa=this.za=null,fu.o.l.call(this)},e.removeChild=function(e,t){if(e){var n=c(e)?e:e.Ya||(e.Ya=":"+(e.Db.a++).toString(36));if(this.xa&&n?e=(null!==(e=this.xa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var r=this.xa;if(n in r&&delete r[n],V(this.za,e),t&&(e.ua(),e.j&&ut(e.j)),null==(t=e))throw Error("Unable to set parent component");t.$=null,fu.o.Ua.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},Pu.B="firebaseui.auth.soy2.element.infoBar",Mu.B="firebaseui.auth.soy2.element.progressDialog",ju.B="firebaseui.auth.soy2.element.listBoxDialog",Lu.B="firebaseui.auth.soy2.element.busyIndicator";var Vu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function qu(e,t){e&&window.componentHandler&&window.componentHandler[t]&&M(Vu,(function(n){Os(e,n)&&window.componentHandler[t](e),M(rt(n,e),(function(e){window.componentHandler[t](e)}))}))}function Wu(e,t,n){if(zu.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),Uu(e),t&&yu(this,e,(function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&zu.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.ca=function(){if(e.open){var t=e.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=e.getBoundingClientRect().width,u=r.getBoundingClientRect().width;e.style.top=(o+(n-t)/2).toString()+"px",t=a+(u-s)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-s).toString()+"px"}else window.removeEventListener("resize",i.ca)},this.ca(),window.addEventListener("resize",this.ca,!1)}}}function zu(){var e=Ku.call(this);e&&(Bu(e),e.open&&e.close(),ut(e),this.ca&&window.removeEventListener("resize",this.ca))}function Ku(){return it("firebaseui-id-dialog")}function Hu(){ut(Gu.call(this))}function Gu(){return hu(this,"firebaseui-id-info-bar")}function Qu(){return hu(this,"firebaseui-id-dismiss-info-bar")}var Yu={zb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",xb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg",ub:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg",Tb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",Fb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",Hb:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",ob:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png"};function $u(e,t,n){for(var r in ri.call(this,e,t),n)this[r]=n[r]}function Xu(e,t,n,r,i){fu.call(this,n),this.$a=e,this.Za=t,this.Aa=!1,this.Ma=r||null,this.v=this.fa=null,this.aa=ue(Yu),le(this.aa,i||{})}function Ju(e){return e.N().parentElement||e.N().parentNode}function Zu(e,t,n){gu(e,t,(function(){n.focus()}))}function ec(e,t,n){gu(e,t,(function(){n()}))}function tc(e,t,n){t=(e=e||{}).Qa;var r=e.ha;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Eu(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?Nu(null):"")+Su(null)+'</div></div><div class="firebaseui-card-footer">'+(r?Ru(n):xu(n))+"</div></form></div>",on(e)}function nc(e,t,n){return t=(e=e||{}).ha,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Eu(e)+Au()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Ou()+'</div><div class="firebaseui-form-actions">'+Tu()+'</div></div><div class="firebaseui-card-footer">'+(t?Ru(n):xu(n))+"</div></form></div>",on(e)}function rc(e,t,n){var r=(e=e||{}).Jb;t=e.Oa;var i=e.ha,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Eu(e);return r?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="name">First &amp; last name</label><input type="text" name="name" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+cn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=on(e)):e="",n=o+e+ku(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?Nu(null):"")+Cu()+'</div></div><div class="firebaseui-card-footer">'+(i?Ru(n):xu(n))+"</div></form></div>",on(n)}function ic(e,t,n){return t=(e=e||{}).Oa,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Eu(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?Nu(null):"")+Su({label:sn("Send")})+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(e)}function oc(e,t,n){t=e.T;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+en(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(r+='<div class="firebaseui-form-actions">'+Su({label:sn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+xu(n)+"</div></div>",on(r)}function ac(e,t,n){return on('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Lu(null)+"</div></div>")}function sc(){return on('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function uc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+en(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+on('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+Nu({label:sn("Back")})+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(t)}function cc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+on('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Nu({label:sn("Back")})+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(e)}function lc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Eu(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Nu(null)+Su(null)+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(e)}function fc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Nu({label:sn("Dismiss")})+"</div></div></div>";return on(e)}function hc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Nu({label:sn("Dismiss")})+"</div></div></div>";return on(e)}function dc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="You\u2019ve already used <strong>"+en(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+Au()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Ou()+'</div><div class="firebaseui-form-actions">'+Tu()+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(t)}function pc(e,t,n){var r=e.email;return t="",e=sn(e=""+Fu(e)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="You\u2019ve already used <strong>"+en(r)+"</strong>. You can connect your <strong>"+en(e)+"</strong> account with <strong>"+en(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+en(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Tu()+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(t)}function vc(e,t,n){t="";var r=""+Fu(e);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+en(r=sn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+en(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Iu()+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(t)}function mc(e,t,n){var r=e.email;return t="",e=sn(e=""+Fu(e)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="You\u2019ve already used <strong>"+en(r)+"</strong>. Sign in with "+en(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Su({label:sn("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(t)}function gc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+en(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Nu(null)+Su({label:sn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(t)}function yc(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+en(e.email)+"</strong></p>")+ku(function(e){function t(){}var n={label:sn("New password")};for(var r in t.prototype=e,e=new t,n)e[r]=n[r];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Cu()+"</div></div></form></div>",on(t)}function bc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).T?'<div class="firebaseui-form-actions">'+Iu()+"</div>":"")+"</div></div>",on(e)}function wc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).T?'<div class="firebaseui-form-actions">'+Su(null)+"</div>":"")+"</div></div>",on(e)}function _c(e){var t=e.T,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+en(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+Su(null)+"</div>":"")+"</div></form></div>",on(n)}function Ec(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).T?'<div class="firebaseui-form-actions">'+Su(null)+"</div>":"")+"</div></div>",on(e)}function Sc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).T?'<div class="firebaseui-form-actions">'+Iu()+"</div>":"")+"</div></div>",on(e)}function Tc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).T?'<div class="firebaseui-form-actions">'+Su(null)+"</div>":"")+"</div></div>",on(e)}function Cc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+en(e.errorMessage)+"</p></div></div>",on(e)}function Ic(e,t,n){var r=e.Gb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+en(e.Vb)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+en(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Nu(null)+Su({label:sn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form></div>",on(t)}function kc(e,t,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Ib).length;for(var i=0;i<t;i++){var o={na:e[i]},a=n,s=(o=o||{}).na,u=o,c="";switch((u=u||{}).na.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+cn(rn(c))+' firebaseui-id-idp-button" data-provider-id="'+cn(s.providerId)+'" style="background-color:',null!=(c=s.pb)&&c.ea===Gt?c=c.content:null==c?c="":c instanceof He?c instanceof He&&c.constructor===He&&c.f===Ge?c=c.a:(P("expected object of type SafeStyle, got '"+c+"' of type "+p(c)),c="type_error:SafeStyle"):(c=String(c),gn.test(c)||(P("Bad value `%s` for |filterCssValue",[c]),c="zSoyz")),u=u+cn(c)+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l="";if((c=(c=(c=o)||{}).na).fb)l+=ln(c.fb);else switch(c.providerId){case"google.com":l+=ln(a.zb);break;case"github.com":l+=ln(a.xb);break;case"facebook.com":l+=ln(a.ub);break;case"twitter.com":l+=ln(a.Tb);break;case"phone":l+=ln(a.Hb);break;case"anonymous":l+=ln(a.ob);break;default:l+=ln(a.Fb)}a=u+cn(ln(a=an(l)))+'"></span>',"password"==s.providerId?a+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with email</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Email</span>':"phone"==s.providerId?a+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with phone</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Phone</span>':"anonymous"==s.providerId?a+='<span class="firebaseui-idp-text firebaseui-idp-text-long">Continue as guest</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Guest</span>':a+='<span class="firebaseui-idp-text firebaseui-idp-text-long">'+(s="Sign in with "+en(Fu(o)))+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+en(Fu(o))+"</span>",r+='<li class="firebaseui-list-item">'+(o=on(a+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Ru(n)+"</div></div>",on(r)}function Ac(e,t,n){var r,i=(e=e||{}).tb,o=e.Qa;return t=e.ha,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="phoneNumber">Phone number</label><input type="tel" name="phoneNumber" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+cn(null!=(e=(e=e||{}).va)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+on(e))+(r=i?on('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?Nu(null):"")+Su({label:sn("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.H&&n.G?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=on(t+"</p>")):n=on('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+xu(n),on(r+n+"</div></form></div>")}function Oc(e,t,n){var r="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+en(t=(e=e||{}).phoneNumber)+"</a>",en(t),t=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(r=on('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="phoneConfirmationCode">6-digit code</label><input type="number" name="phoneConfirmationCode" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Nu(null)+Su({label:sn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+xu(n)+"</div></form>",e=on('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),on(t+(n+e+"</div>"))}function Nc(){return hu(this,"firebaseui-id-submit")}function xc(){return hu(this,"firebaseui-id-secondary-link")}function Rc(e,t){yu(this,Nc.call(this),(function(t){e(t)}));var n=xc.call(this);n&&t&&yu(this,n,(function(e){t(e)}))}function Pc(){return hu(this,"firebaseui-id-password")}function Dc(){return hu(this,"firebaseui-id-password-error")}function Mc(){var e=Pc.call(this),t=Dc.call(this);mu(this,e,(function(){_u(t)&&(vu(e,!0),bu(t))}))}function jc(){var e=Pc.call(this),t=Dc.call(this);return Rs(e)?(vu(e,!0),bu(t),t=!0):(vu(e,!1),wu(t,rn("Enter your password").toString()),t=!1),t?Rs(e):null}function Lc(e,t,n,r,i,o){Xu.call(this,dc,{email:e},o,"passwordLinking",{H:r,G:i}),this.a=t,this.L=n}N($u,ri),N(Xu,fu),(e=Xu.prototype).eb=function(){var e=$t(this.$a,this.Za,this.aa,this.w);Uu(e),this.j=e},e.u=function(){if(Xu.o.u.call(this),wo(Ju(this),new $u("pageEnter",Ju(this),{pageId:this.Ma})),this.Xa()&&this.aa.H){var e=this.aa.H;yu(this,this.Xa(),(function(){e()}))}if(this.Wa()&&this.aa.G){var t=this.aa.G;yu(this,this.Wa(),(function(){t()}))}},e.ua=function(){wo(Ju(this),new $u("pageExit",Ju(this),{pageId:this.Ma})),Xu.o.ua.call(this)},e.l=function(){window.clearTimeout(this.fa),this.Za=this.$a=this.fa=null,this.Aa=!1,this.v=null,Bu(this.N()),Xu.o.l.call(this)},e.M=function(e,t,n,r){function i(){if(o.O)return null;o.Aa=!1,window.clearTimeout(o.fa),o.fa=null,o.v&&(Bu(o.v),ut(o.v),o.v=null)}var o=this;return o.Aa?null:(function(e){e.Aa=!0;var t=Os(e.N(),"firebaseui-use-spinner");e.fa=window.setTimeout((function(){e.N()&&null===e.v&&(e.v=$t(Lu,{Ub:t},null,e.w),e.N().appendChild(e.v),Uu(e.v))}),500)}(o),e.apply(null,t).then(n,r).then(i,i))},I(Xu.prototype,{f:function(e){Hu.call(this);var t=$t(Pu,{message:e},null,this.w);this.N().appendChild(t),yu(this,Qu.call(this),(function(){ut(t)}))},jc:Hu,mc:Gu,lc:Qu,X:function(e,t){e=$t(Mu,{Ga:e,message:t},null,this.w),Wu.call(this,e)},h:zu,qb:Ku,oc:function(){return hu(this,"firebaseui-tos")},Xa:function(){return hu(this,"firebaseui-tos-link")},Wa:function(){return hu(this,"firebaseui-pp-link")},pc:function(){return hu(this,"firebaseui-tos-list")}}),tc.B="firebaseui.auth.soy2.page.signIn",nc.B="firebaseui.auth.soy2.page.passwordSignIn",rc.B="firebaseui.auth.soy2.page.passwordSignUp",ic.B="firebaseui.auth.soy2.page.passwordRecovery",oc.B="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",ac.B="firebaseui.auth.soy2.page.callback",sc.B="firebaseui.auth.soy2.page.blank",uc.B="firebaseui.auth.soy2.page.emailLinkSignInSent",cc.B="firebaseui.auth.soy2.page.emailNotReceived",lc.B="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",fc.B="firebaseui.auth.soy2.page.differentDeviceError",hc.B="firebaseui.auth.soy2.page.anonymousUserMismatch",dc.B="firebaseui.auth.soy2.page.passwordLinking",pc.B="firebaseui.auth.soy2.page.emailLinkSignInLinking",vc.B="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",mc.B="firebaseui.auth.soy2.page.federatedLinking",gc.B="firebaseui.auth.soy2.page.unsupportedProvider",yc.B="firebaseui.auth.soy2.page.passwordReset",bc.B="firebaseui.auth.soy2.page.passwordResetSuccess",wc.B="firebaseui.auth.soy2.page.passwordResetFailure",_c.B="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",Ec.B="firebaseui.auth.soy2.page.emailChangeRevokeFailure",Sc.B="firebaseui.auth.soy2.page.emailVerificationSuccess",Tc.B="firebaseui.auth.soy2.page.emailVerificationFailure",Cc.B="firebaseui.auth.soy2.page.unrecoverableError",Ic.B="firebaseui.auth.soy2.page.emailMismatch",kc.B="firebaseui.auth.soy2.page.providerSignIn",Ac.B="firebaseui.auth.soy2.page.phoneSignInStart",Oc.B="firebaseui.auth.soy2.page.phoneSignInFinish",N(Lc,Xu),Lc.prototype.u=function(){this.R(),this.P(this.a,this.L),ec(this,this.i(),this.a),this.i().focus(),Lc.o.u.call(this)},Lc.prototype.l=function(){this.a=null,Lc.o.l.call(this)},Lc.prototype.J=function(){return Rs(hu(this,"firebaseui-id-email"))},I(Lc.prototype,{i:Pc,D:Dc,R:Mc,A:jc,ba:Nc,da:xc,P:Rc});var Fc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Uc(){return hu(this,"firebaseui-id-email")}function Bc(){return hu(this,"firebaseui-id-email-error")}function Vc(e){var t=Uc.call(this),n=Bc.call(this);mu(this,t,(function(){_u(n)&&(vu(t,!0),bu(n))})),e&&gu(this,t,(function(){e()}))}function qc(){return Y(Rs(Uc.call(this))||"")}function Wc(){var e=Uc.call(this),t=Bc.call(this),n=Rs(e)||"";return n?Fc.test(n)?(vu(e,!0),bu(t),t=!0):(vu(e,!1),wu(t,rn("That email address isn't correct").toString()),t=!1):(vu(e,!1),wu(t,rn("Enter your email address to continue").toString()),t=!1),t?Y(Rs(e)):null}function zc(e,t,n,r,i,o,a){Xu.call(this,nc,{email:n,ha:!!o},a,"passwordSignIn",{H:r,G:i}),this.a=e,this.L=t}function Kc(e,t,n,r,i,o){Xu.call(this,e,t,r,i||"notice",o),this.a=n||null}function Hc(e,t,n,r,i){Kc.call(this,oc,{email:e,T:!!t},t,i,"passwordRecoveryEmailSent",{H:n,G:r})}function Gc(e,t){Kc.call(this,Sc,{T:!!e},e,t,"emailVerificationSuccess")}function Qc(e,t){Kc.call(this,Tc,{T:!!e},e,t,"emailVerificationFailure")}function Yc(e,t){Kc.call(this,bc,{T:!!e},e,t,"passwordResetSuccess")}function $c(e,t){Kc.call(this,wc,{T:!!e},e,t,"passwordResetFailure")}function Xc(e,t){Kc.call(this,Ec,{T:!!e},e,t,"emailChangeRevokeFailure")}function Jc(e,t){Kc.call(this,Cc,{errorMessage:e},void 0,t,"unrecoverableError")}N(zc,Xu),zc.prototype.u=function(){this.R(),this.ba(),this.da(this.a,this.L),Zu(this,this.s(),this.i()),ec(this,this.i(),this.a),Rs(this.s())?this.i().focus():this.s().focus(),zc.o.u.call(this)},zc.prototype.l=function(){this.L=this.a=null,zc.o.l.call(this)},I(zc.prototype,{s:Uc,U:Bc,R:Vc,P:qc,J:Wc,i:Pc,D:Dc,ba:Mc,A:jc,sa:Nc,ra:xc,da:Rc}),N(Kc,Xu),Kc.prototype.u=function(){this.a&&(this.s(this.a),this.i().focus()),Kc.o.u.call(this)},Kc.prototype.l=function(){this.a=null,Kc.o.l.call(this)},I(Kc.prototype,{i:Nc,A:xc,s:Rc}),N(Hc,Kc),N(Gc,Kc),N(Qc,Kc),N(Yc,Kc),N($c,Kc),N(Xc,Kc),N(Jc,Kc);var Zc=!1,el=null;function tl(e,t){Zc=!!t,el||("undefined"==typeof accountchooser&&function(){var e=window.navigator&&window.navigator.userAgent;if(e){var t;if(t=e.match(ys)){var n=new Is(t[3]||t[1]);return!(0<=e.indexOf("Opera Mini"))&&(0<=e.indexOf("Opera Mobi")?0<=e.indexOf("Android")&&ks(n,"10.1"):ks(n,"8.0"))}if(t=e.match(gs))return ks(new Is(t[1]),"2.0");if(t=e.match(bs))return ks(new Is(t[1]),"6.0");if(t=e.match(ws))return n=new Is(t[6]),e=t[3]&&new Is(t[3]),t=t[5]&&new Is(t[5],"_"),(!(!e||!ks(e,"6.0"))||!(!t||!ks(t,"10.5.6")))&&ks(n,"3.0");if(t=e.match(Es))return ks(new Is(t[1]),"3.0");if(t=e.match(Ss))return ks(new Is(t[1],"_"),"4.0");if(t=e.match(Ts))return ks(new Is(t[1]),"4.7");if(t=e.match(Cs))return n=new Is(t[1]),e=new Is(t[2]),ks(n,"7.0")&&ks(e,"7.0");if(t=e.match(ms))return n=new Is(t[1]),e=new Is(t[2]),ks(n,"7.0")&&ks(e,"6.0");if(e.match(_s))return!1}return!0}()?(t=Fe(Re(new xe(De,"//www.gstatic.com/accountchooser/client.js"))),el=Ur(Lr(Do(t)),(function(){}))):el=Lr()),el.then(e,e)}function nl(e,t){(e=uo(e=Bf(e)).accountChooserInvoked||null)?e(t):t()}function rl(e,t,n){(e=uo(e=Bf(e)).accountChooserResult||null)?e(t,n):n()}function il(e,t,n,r){function i(){var t=e();t&&(t=io(Bf(t)))&&t()}as((function(){var o=e();o&&function(e,t,n,r,i){r?(vs("callback",e,t),Zc&&n()):nl(e,(function(){rs(new Zo(e.a.tenantId||null),Rf(e)),ss((function(r){Ga(Ba,Rf(e)),rl(e,r?"empty":"unavailable",(function(){vs("signIn",e,t),(r||Zc)&&n()}))}),Ja(Rf(e)),i)}))}(o,t,i,n,r)}),(function(n){var r=e();r&&function(e,t,n,r){function i(e){e=ul(e),dl(t,n,void 0,e),r()}rl(t,"accountSelected",(function(){Xa(!1,Rf(t));var o=fl(t);Lf(t,Nf(t).fetchSignInMethodsForEmail(e.a).then((function(i){vl(t,n,i,e.a,e.h||void 0,void 0,o),r()}),i))}))}(n,r,t,i)}),(function(n){var r=e();r&&function(e,t,n,r){rl(t,e?"addAccount":"unavailable",(function(){vs("signIn",t,n),(e||Zc)&&r()}))}(n,r,t,i)}),e()&&function(e){return e.a.get("acUiConfig")||null}(Bf(e())))}function ol(e,t,n,r){function i(n){if(!n.name||"cancel"!=n.name){e:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break e}}catch(a){}o=!1}if(o)n=Ju(t),t.m(),dl(e,n,void 0,rn("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=ul(n)}t.f(o)}}}if(Ff(e),r)return al(e,n),Lr();if(!n.credential)throw Error("No credential found!");if(!(r=Nf(e).currentUser||n.user))throw Error("User not logged in.");r=new zo(r.email,r.displayName,r.photoURL,"password"==n.credential.providerId?null:n.credential.providerId),null!=Ha(qa,Rf(e))&&!Ha(qa,Rf(e))||function(e,t){var n=Ja(t),r=U(n,(function(t){return t.a==e.a&&(t.f||null)==(e.f||null)}));-1<r&&q(n,r),n.unshift(e),Qa(Wa,L(n,(function(e){return e.Z()})),t)}(r,Rf(e)),Ga(qa,Rf(e));try{var o=function(e,t){return Vf(e),Mf(e,(function(n){if(e.j&&!e.j.isAnonymous&&qi(Bf(e))&&!Nf(e).currentUser)return Wf(e).then((function(){return"password"==t.credential.providerId&&(t.credential=null),t}));if(n)return Wf(e).then((function(){return n.linkWithCredential(t.credential)})).then((function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return zf(e,n,t.credential)}));if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Wf(e).then((function(){return xf(e).updateCurrentUser(t.user)})).then((function(){return t.user=xf(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t}))}))}(e,n)}catch(a){return fr(a.code||a.message,a),t.f(a.code||a.message),Lr()}return n=o.then((function(t){al(e,t)}),i).then(void 0,i),Lf(e,o),Lr(n)}function al(e,t){if(!t.user)throw Error("No user found");var n=ao(Bf(e));if(oo(Bf(e))&&n&&vr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=ao(Bf(e));var r=Ya(Rf(e))||void 0;Ga(Va,Rf(e));var i=!1;Oi()?(n&&!n(t,r)||(i=!0,window.opener.location.assign(Be(We(sl(e,r))))),n||window.close()):n&&!n(t,r)||(i=!0,Ai(sl(e,r))),i||e.reset()}else{n=t.user,t=t.credential,r=oo(Bf(e)),i=Ya(Rf(e))||void 0,Ga(Va,Rf(e));var o=!1;Oi()?(r&&!r(n,t,i)||(o=!0,window.opener.location.assign(Be(We(sl(e,i))))),r||window.close()):r&&!r(n,t,i)||(o=!0,Ai(sl(e,i))),o||e.reset()}}function sl(e,t){if(!(e=t||Bf(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function ul(e){var t="";switch(e.code){case"auth/email-already-in-use":t+="The email address is already used by another account";break;case"auth/requires-recent-login":t+=Tn();break;case"auth/too-many-requests":t+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":t+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":t+="That email address doesn't match an existing account";break;case"auth/user-token-expired":t+=Tn();break;case"auth/weak-password":t+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":t+="The email and password you entered don't match";break;case"auth/network-request-failed":t+="A network error has occurred";break;case"auth/invalid-phone-number":t+=_n();break;case"auth/invalid-verification-code":t+=rn("Wrong code. Try again.");break;case"auth/code-expired":t+="This code is no longer valid";break;case"auth/expired-action-code":t+="This code has expired.";break;case"auth/invalid-action-code":t+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=rn(t).toString())return t;try{return JSON.parse(e.message),fr("Internal error: "+e.message,void 0),En().toString()}catch(n){return e.message}}function cl(e,t,n,i){function o(){rs(new Zo(e.a.tenantId||null),Rf(e)),Lf(e,t.M(T(e.Rb,e),[c],(function(){if("file:"===(window.location&&window.location.protocol))return Lf(e,If(e).then((function(n){t.m(),Ga(Ba,Rf(e)),vs("callback",e,u,Lr(n))}),a))}),s))}function a(n){if(Ga(Ba,Rf(e)),!n.name||"cancel"!=n.name)switch(n.code){case"auth/popup-blocked":o();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.f(ul(n));break;default:t.m(),vs("callback",e,u,Fr(n))}}function s(n){Ga(Ba,Rf(e)),n.name&&"cancel"==n.name||(fr("signInWithRedirect: "+n.code,void 0),n=ul(n),"blank"==t.Ma&&no(Bf(e))?(t.m(),vs("providerSignIn",e,u,n)):t.f(n))}var u=Ju(t),c=function(e,t,n){var i=Hn[t]&&r.auth[Hn[t]]?new r.auth[Hn[t]]:0==t.indexOf("saml.")?new r.auth.SAMLAuthProvider(t):new r.auth.OAuthProvider(t);if(!i)throw Error("Invalid Firebase Auth provider!");var o=Qi(Bf(e),t);if(i.addScope)for(var a=0;a<o.length;a++)i.addScope(o[a]);return o=Yi(Bf(e),t)||{},n&&((e=t==r.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==r.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Hi(Bf(e),t))&&e.Eb)&&(o[e]=n)),i.setCustomParameters&&i.setCustomParameters(o),i}(e,n,i);"redirect"==ro(Bf(e))?o():Lf(e,function(e,t){return Vf(e),Mf(e,(function(n){return n&&!Za(Rf(e))?n.linkWithPopup(t).then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return zf(e,t)})):Nf(e).signInWithPopup(t)}))}(e,c).then((function(n){t.m(),vs("callback",e,u,Lr(n))}),a))}function ll(e,t,n){var i=function(e,t){var n=null;return M(Wi(e),(function(e){e.authMethod===t&&(n=e.provider)})),n}(Bf(e),n&&n.authMethod||null);return n&&n.idToken&&i===r.auth.GoogleAuthProvider.PROVIDER_ID?(Qi(Bf(e),r.auth.GoogleAuthProvider.PROVIDER_ID).length?(cl(e,t,i,n.id),n=Lr(!0)):n=function(n){var r=!1;return n=t.M(T(e.Ob,e),[n],(function(n){var i=Ju(t);t.m(),vs("callback",e,i,Lr(n)),r=!0}),(function(n){if((!n.name||"cancel"!=n.name)&&(!n||"auth/credential-already-in-use"!=n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Ju(t);t.m(),vs("callback",e,r,Fr(n))}else n=ul(n),t.f(n)})),Lf(e,n),n.then((function(){return r}),(function(){return!1}))}(r.auth.GoogleAuthProvider.credential(n.idToken)),n):(n&&t.f(rn("The selected credential for the authentication provider is not supported!").toString()),Lr(!1))}function fl(e){return 1==(e=Ki(Bf(e))).length&&e[0]==r.auth.EmailAuthProvider.PROVIDER_ID}function hl(e){return 1==(e=Ki(Bf(e))).length&&e[0]==r.auth.PhoneAuthProvider.PROVIDER_ID}function dl(e,t,n,r){fl(e)?r?vs("signIn",e,t,n,r):gl(e,t,n):e&&hl(e)&&!r?vs("phoneSignInStart",e,t):e&&no(Bf(e))&&!r?vs("federatedRedirect",e,t):vs("providerSignIn",e,t,r)}function pl(e,t,n,r){var i=Ju(t);Lf(e,t.M(T(Nf(e).fetchSignInMethodsForEmail,Nf(e)),[n],(function(o){Xa(co(Bf(e))==Di,Rf(e)),t.m(),vl(e,i,o,n,void 0,r)}),(function(e){e=ul(e),t.f(e)})))}function vl(e,t,n,i,o,a,s){n.length||to(Bf(e))?!n.length&&to(Bf(e))?vs("sendEmailLinkForSignIn",e,t,i,(function(){vs("signIn",e,t)})):B(n,r.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?vs("passwordSignIn",e,t,i,s):1==n.length&&n[0]===r.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?vs("sendEmailLinkForSignIn",e,t,i,(function(){vs("signIn",e,t)})):(n=zn(n,Ki(Bf(e))))?(ts(new Xo(i),Rf(e)),vs("federatedSignIn",e,t,i,n,a)):vs("unsupportedProvider",e,t,i):vs("passwordSignUp",e,t,i,o,void 0,s)}function ml(e,t,n,r,i,o){var a=Ju(t);Lf(e,t.M(T(e.wb,e),[n,o],(function(){t.m(),vs("emailLinkSignInSent",e,a,n,r,o)}),i))}function gl(e,t,n){co(Bf(e))==Di?tl((function(){is?nl(e,(function(){rs(new Zo(e.a.tenantId||null),Rf(e)),ss((function(r){Ga(Ba,Rf(e)),rl(e,r?"empty":"unavailable",(function(){vs("signIn",e,t,n)}))}),Ja(Rf(e)),Bi(Bf(e)))})):(Vf(e),il(Of,t,!1,Bi(Bf(e))))}),!1):(Zc=!1,nl(e,(function(){rl(e,"unavailable",(function(){vs("signIn",e,t,n)}))})))}function yl(e){var t=Ri();return(t=St(t,e=Nn(Bf(e).a,"queryParameterForSignInSuccessUrl")))?Be(We(t)):null}function bl(){return St(Ri(),"oobCode")}function wl(){var e=St(Ri(),"continueUrl");return e?function(){Ai(e)}:null}function _l(e,t){var n=xi(t);switch(function(e){var t=Ri();for(var n in t=St(t,e=Xi(Bf(e)))||"",Li)if(Li[n].toLowerCase()==t.toLowerCase())return Li[n];return"callback"}(e)){case"callback":(t=yl(e))&&$a(t,Rf(e)),e.gb()?vs("callback",e,n):dl(e,n);break;case"resetPassword":vs("passwordReset",e,n,bl(),wl());break;case"recoverEmail":vs("emailChangeRevocation",e,n,bl());break;case"verifyEmail":vs("emailVerification",e,n,bl(),wl());break;case"signIn":vs("emailLinkSignInCallback",e,n,Ri()),qf();break;case"select":if((t=yl(e))&&$a(t,Rf(e)),is){dl(e,n);break}return void tl((function(){Vf(e),il(Of,n,!0)}),!0);default:throw Error("Unhandled widget operation.")}(t=io(Bf(e)))&&t()}function El(e,t){Xu.call(this,hc,void 0,t,"anonymousUserMismatch"),this.a=e}function Sl(e){Xu.call(this,ac,void 0,e,"callback")}function Tl(e,t,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=Za(Rf(e)),o=i&&i.f;if(o&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,o))!function(e,t,n){var r=Ju(t);Lf(e,Wf(e).then((function(){t.m(),vs("emailMismatch",e,r,n)}),(function(e){e.name&&"cancel"==e.name||(e=ul(e.code),t.f(e))})))}(e,t,r);else{var a=i&&i.a;a?Lf(e,n.user.linkWithCredential(a).then((function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},Cl(e,t,r)}),(function(n){Il(e,t,n)}))):Cl(e,t,r)}}else n=Ju(t),t.m(),es(Rf(e)),dl(e,n)}function Cl(e,t,n){es(Rf(e)),ol(e,t,n)}function Il(e,t,n){var r=Ju(t);es(Rf(e)),n=ul(n),t.m(),dl(e,r,void 0,n)}function kl(e,t,n,i){var o=Ju(t);Lf(e,Nf(e).fetchSignInMethodsForEmail(n).then((function(a){t.m(),a.length?B(a,r.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?vs("passwordLinking",e,o,n):1==a.length&&a[0]===r.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?vs("emailLinkSignInLinking",e,o,n):(a=zn(a,Ki(Bf(e))))?vs("federatedLinking",e,o,n,a,i):(es(Rf(e)),vs("unsupportedProvider",e,o,n)):(es(Rf(e)),vs("passwordRecovery",e,o,n,!1,Sn().toString()))}),(function(n){Il(e,t,n)})))}function Al(e,t){Xu.call(this,fc,void 0,t,"differentDeviceError"),this.a=e}function Ol(e,t,n,r){Xu.call(this,_c,{email:e,T:!!n},r,"emailChangeRevoke"),this.i=t,this.a=n||null}function Nl(){return hu(this,"firebaseui-id-new-password")}function xl(){return hu(this,"firebaseui-id-password-toggle")}function Rl(){this.La=!this.La;var e=xl.call(this),t=Nl.call(this);this.La?(t.type="text",Ns(e,"firebaseui-input-toggle-off"),xs(e,"firebaseui-input-toggle-on")):(t.type="password",Ns(e,"firebaseui-input-toggle-on"),xs(e,"firebaseui-input-toggle-off")),t.focus()}function Pl(){return hu(this,"firebaseui-id-new-password-error")}function Dl(){this.La=!1;var e=Nl.call(this);e.type="password";var t=Pl.call(this);mu(this,e,(function(){_u(t)&&(vu(e,!0),bu(t))}));var n=xl.call(this);Ns(n,"firebaseui-input-toggle-on"),xs(n,"firebaseui-input-toggle-off"),function(e,t,n){ti(e,C(ni,t=new Vs(t))),Hs(du(e),t,"focusin",n)}(this,e,(function(){Ns(n,"firebaseui-input-toggle-focus"),xs(n,"firebaseui-input-toggle-blur")})),function(e,t,n){ti(e,C(ni,t=new Vs(t))),Hs(du(e),t,"focusout",n)}(this,e,(function(){Ns(n,"firebaseui-input-toggle-blur"),xs(n,"firebaseui-input-toggle-focus")})),yu(this,n,T(Rl,this))}function Ml(){var e=Nl.call(this),t=Pl.call(this);return Rs(e)?(vu(e,!0),bu(t),t=!0):(vu(e,!1),wu(t,rn("Enter your password").toString()),t=!1),t?Rs(e):null}function jl(e,t,n){Xu.call(this,yc,{email:e},n,"passwordReset"),this.a=t}function Ll(e,t,n,r){"auth/weak-password"==(r&&r.code)?(e=ul(r),vu(n.i(),!1),wu(n.A(),e),n.i().focus()):(n&&n.m(),(n=new $c).render(t),kf(e,n))}function Fl(e,t){try{var n="number"==typeof e.selectionStart}catch(r){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):me&&!Oe("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Ul(e,t,n,r,i,o){Xu.call(this,lc,{email:n},o,"emailLinkSignInConfirmation",{H:r,G:i}),this.i=e,this.s=t}function Bl(e,t,n,r,i){Xu.call(this,vc,{na:e},i,"emailLinkSignInLinkingDifferentDevice",{H:n,G:r}),this.a=t}function Vl(e){Xu.call(this,sc,void 0,e,"blank")}function ql(e,t,n,i,o){var a=new Vl,s=new lo(n),u=s.a.a.get(fo.Va)||"",c=s.a.a.get(fo.Na)||"",l="1"===s.a.a.get(fo.Ka),f=ho(s),h=s.a.a.get(fo.PROVIDER_ID)||null;s=s.a.a.get(fo.mb)||null,Uf(e,s);var d=!Ha(za,Rf(e)),p=i||function(e,t){var n=null;if(t=Ha(za,t))try{var r=_a(e,t),i=JSON.parse(r);n=i&&i.email||null}catch(a){}return n}(c,Rf(e)),v=(i=function(e,t){var n=null;if(t=Ha(Ka,t))try{var r=_a(e,t);n=JSON.parse(r)}catch(o){}return Jo(n||null)}(c,Rf(e)))&&i.a;h&&v&&v.providerId!==h&&(v=null),a.render(t),kf(e,a),Lf(e,a.M((function(){var t=Lr(null);t=f&&d||d&&l?Fr(Error("anonymous-user-not-found")):function(e,t){var n=ho(new lo(t));return n?(t=new Nr((function(t,r){var i=xf(e).onAuthStateChanged((function(e){i(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))}));Lf(e,i)})),Lf(e,t),t):Lr(null)}(e,n).then((function(e){if(h&&!v)throw Error("pending-credential-not-found");return e}));var r=null;return t.then((function(t){return r=t,o?null:Nf(e).checkActionCode(u)})).then((function(){return r}))}),[],(function(i){p?function(e,t,n,i,o,a){var s=Ju(t);t.X("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",rn("Signing in...").toString());var u=null;o=(a?function(e,t,n,i,o){Vf(e);var a=o||null,s=r.auth.EmailAuthProvider.credentialWithLink(n,i);return n=a?Nf(e).signInWithEmailLink(n,i).then((function(e){return e.user.linkWithCredential(a)})).then((function(){return Wf(e)})).then((function(){return zf(e,{code:"auth/email-already-in-use"},a)})):Nf(e).fetchSignInMethodsForEmail(n).then((function(n){return n.length?zf(e,{code:"auth/email-already-in-use"},s):t.linkWithCredential(s)})),Lf(e,n),n}(e,a,n,i,o):function(e,t,n,r){Vf(e);var i,o=r||null;return t=Nf(e).signInWithEmailLink(t,n).then((function(e){if(i={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},o)return e.user.linkWithCredential(o).then((function(e){i={user:e.user,credential:o,operationType:i.operationType,additionalUserInfo:e.additionalUserInfo}}))})).then((function(){Wf(e)})).then((function(){return xf(e).updateCurrentUser(i.user)})).then((function(){return i.user=xf(e).currentUser,i})),Lf(e,t),t}(e,n,i,o)).then((function(n){Ga(Ka,Rf(e)),Ga(za,Rf(e)),t.h(),t.X("firebaseui-icon-done",rn("Signed in!").toString()),u=setTimeout((function(){t.h(),ol(e,t,n,!0)}),1e3),Lf(e,(function(){t&&(t.h(),t.m()),clearTimeout(u)}))}),(function(r){if(t.h(),t.m(),!r.name||"cancel"!=r.name){var o=ul(r);"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(Ga(Ka,Rf(e)),Ga(za,Rf(e))):"auth/invalid-email"==r.code?(o=rn("The email provided does not match the current sign-in session.").toString(),vs("emailLinkConfirmation",e,s,i,Wl,null,o)):dl(e,s,n,o)}})),Lf(e,o)}(e,a,p,n,v,i):l?(a.m(),vs("differentDeviceError",e,t)):(a.m(),vs("emailLinkConfirmation",e,t,n,Wl))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(a.m(),r&&r.message){case"anonymous-user-not-found":vs("differentDeviceError",e,t);break;case"anonymous-user-mismatch":vs("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":vs("emailLinkNewDeviceLinking",e,t,n,zl);break;default:r&&(i=ul(r)),dl(e,t,void 0,i)}})))}function Wl(e,t,n,r){ql(e,t,r,n,!0)}function zl(e,t,n){ql(e,t,n)}function Kl(e,t,n,r,i,o){Xu.call(this,pc,{email:e,na:t},o,"emailLinkSignInLinking",{H:r,G:i}),this.a=n}function Hl(e,t,n,r,i,o){Xu.call(this,uc,{email:e},o,"emailLinkSignInSent",{H:r,G:i}),this.s=t,this.a=n}function Gl(e,t,n,r,i,o,a){Xu.call(this,Ic,{Vb:e,Gb:t},a,"emailMismatch",{H:i,G:o}),this.s=n,this.i=r}function Ql(e,t,n,r,i){Xu.call(this,cc,void 0,i,"emailNotReceived",{H:n,G:r}),this.i=e,this.a=t}function Yl(e,t,n,r,i,o){Xu.call(this,mc,{email:e,na:t},o,"federatedLinking",{H:r,G:i}),this.a=n}function $l(e,t,n,r,i,o){Xu.call(this,ic,{email:n,Oa:!!t},o,"passwordRecovery",{H:r,G:i}),this.a=e,this.s=t}function Xl(){return hu(this,"firebaseui-id-name")}function Jl(){return hu(this,"firebaseui-id-name-error")}function Zl(e,t,n,r,i,o,a,s,u){Xu.call(this,rc,{email:r,Jb:e,name:i,Oa:!!n,ha:!!s},u,"passwordSignUp",{H:o,G:a}),this.a=t,this.J=n,this.D=e}function ef(e,t){var n=eo(Bf(e)),i=t.P(),o=null;n&&(o=t.L());var a=t.R();if(i){if(n){if(!o)return void t.A().focus();o=he(o)}if(a){var s=r.auth.EmailAuthProvider.credential(i,a);Lf(e,t.M(T(e.Mb,e),[i,a],(function(r){var i={user:r.user,credential:s,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:o}).then((function(){return ol(e,t,i)})),Lf(e,r),r):ol(e,t,i)}),(function(n){if(!n.name||"cancel"!=n.name){var r=ul(n);switch(n.code){case"auth/email-already-in-use":return function(e,t,n,r){function i(){var e=ul(r);vu(t.i(),!1),wu(t.U(),e),t.i().focus()}var o=Nf(e).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=Ju(t),t.m(),vs("passwordRecovery",e,r,n,!1,Sn().toString()))}),(function(){i()}));return Lf(e,o),o}(e,t,i,n);case"auth/too-many-requests":r=rn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":vu(t.s(),!1),wu(t.da(),r);break;default:fr(n="setAccountInfo: "+Sa(n),void 0),t.f(r)}}})))}else t.s().focus()}else t.i().focus()}function tf(){return hu(this,"firebaseui-id-phone-confirmation-code")}function nf(){return hu(this,"firebaseui-id-phone-confirmation-code-error")}function rf(){return hu(this,"firebaseui-id-resend-countdown")}function of(e,t,n,r,i,o,a,s,u){Xu.call(this,Oc,{phoneNumber:i},u,"phoneSignInFinish",{H:a,G:s}),this.Ra=o,this.i=new qs(1e3),this.D=o,this.P=e,this.a=t,this.J=n,this.L=r}N(El,Xu),El.prototype.u=function(){var e=this;yu(this,this.i(),(function(){e.a()})),this.i().focus(),El.o.u.call(this)},El.prototype.l=function(){this.a=null,El.o.l.call(this)},I(El.prototype,{i:xc}),ps.anonymousUserMismatch=function(e,t){var n=new El((function(){n.m(),dl(e,t)}));n.render(t),kf(e,n)},N(Sl,Xu),Sl.prototype.M=function(e,t,n,r){return e.apply(null,t).then(n,r)},ps.callback=function(e,t,n){var r=new Sl;r.render(t),kf(e,r),t=n||If(e),Lf(e,t.then((function(t){Tl(e,r,t)}),(function(t){if(t&&("auth/account-exists-with-different-credential"==t.code||"auth/email-already-in-use"==t.code)&&t.email&&t.credential)ts(new Xo(t.email,t.credential),Rf(e)),kl(e,r,t.email);else if(t&&"auth/user-cancelled"==t.code){var n=Za(Rf(e)),i=ul(t);n&&n.a?kl(e,r,n.f,i):n?pl(e,r,n.f,i):Il(e,r,t)}else t&&"auth/credential-already-in-use"==t.code||(t&&"auth/operation-not-supported-in-this-environment"==t.code&&fl(e)?Tl(e,r,{user:null,credential:null}):Il(e,r,t))})))},N(Al,Xu),Al.prototype.u=function(){var e=this;yu(this,this.i(),(function(){e.a()})),this.i().focus(),Al.o.u.call(this)},Al.prototype.l=function(){this.a=null,Al.o.l.call(this)},I(Al.prototype,{i:xc}),ps.differentDeviceError=function(e,t){var n=new Al((function(){n.m(),dl(e,t)}));n.render(t),kf(e,n)},N(Ol,Xu),Ol.prototype.u=function(){var e=this;yu(this,hu(this,"firebaseui-id-reset-password-link"),(function(){e.i()})),this.a&&(this.A(this.a),this.s().focus()),Ol.o.u.call(this)},Ol.prototype.l=function(){this.i=this.a=null,Ol.o.l.call(this)},I(Ol.prototype,{s:Nc,D:xc,A:Rc}),N(jl,Xu),jl.prototype.u=function(){this.J(),this.D(this.a),ec(this,this.i(),this.a),this.i().focus(),jl.o.u.call(this)},jl.prototype.l=function(){this.a=null,jl.o.l.call(this)},I(jl.prototype,{i:Nl,A:Pl,L:xl,J:Dl,s:Ml,R:Nc,P:xc,D:Rc}),ps.passwordReset=function(e,t,n,r){Lf(e,Nf(e).verifyPasswordResetCode(n).then((function(i){var o=new jl(i,(function(){!function(e,t,n,r,i){var o=n.s();o&&Lf(e,n.M(T(Nf(e).confirmPasswordReset,Nf(e)),[r,o],(function(){n.m();var r=new Yc(i);r.render(t),kf(e,r)}),(function(r){Ll(e,t,n,r)})))}(e,t,o,n,r)}));o.render(t),kf(e,o)}),(function(){Ll(e,t)})))},ps.emailChangeRevocation=function(e,t,n){var r=null;Lf(e,Nf(e).checkActionCode(n).then((function(t){return r=t.data.email,Nf(e).applyActionCode(n)})).then((function(){!function(e,t,n){var r=new Ol(n,(function(){Lf(e,r.M(T(Nf(e).sendPasswordResetEmail,Nf(e)),[n],(function(){r.m(),(r=new Hc(n,void 0,Ji(Bf(e)),Zi(Bf(e)))).render(t),kf(e,r)}),(function(){r.f(rn("Unable to send password reset code to specified email").toString())})))}));r.render(t),kf(e,r)}(e,t,r)}),(function(){var n=new Xc;n.render(t),kf(e,n)})))},ps.emailVerification=function(e,t,n,r){Lf(e,Nf(e).applyActionCode(n).then((function(){var n=new Gc(r);n.render(t),kf(e,n)}),(function(){var n=new Qc;n.render(t),kf(e,n)})))},N(Ul,Xu),Ul.prototype.u=function(){this.D(this.i),this.J(this.i,this.s),this.a().focus(),Fl(this.a(),(this.a().value||"").length),Ul.o.u.call(this)},Ul.prototype.l=function(){this.s=this.i=null,Ul.o.l.call(this)},I(Ul.prototype,{a:Uc,P:Bc,D:Vc,L:qc,A:Wc,U:Nc,R:xc,J:Rc}),ps.emailLinkConfirmation=function(e,t,n,r,i,o){var a=new Ul((function(){var i=a.A();i?(a.m(),r(e,t,i,n)):a.a().focus()}),(function(){a.m(),dl(e,t,i||void 0)}),i||void 0,Ji(Bf(e)),Zi(Bf(e)));a.render(t),kf(e,a),o&&a.f(o)},N(Bl,Xu),Bl.prototype.u=function(){this.s(this.a),this.i().focus(),Bl.o.u.call(this)},Bl.prototype.l=function(){this.a=null,Bl.o.l.call(this)},I(Bl.prototype,{i:Nc,s:Rc}),ps.emailLinkNewDeviceLinking=function(e,t,n,r){var i=new lo(n);if(n=i.a.a.get(fo.PROVIDER_ID)||null,po(i,null),n){var o=new Bl(Hi(Bf(e),n),(function(){o.m(),r(e,t,i.toString())}),Ji(Bf(e)),Zi(Bf(e)));o.render(t),kf(e,o)}else dl(e,t)},N(Vl,Xu),ps.emailLinkSignInCallback=ql,N(Kl,Xu),Kl.prototype.u=function(){this.s(this.a),this.i().focus(),Kl.o.u.call(this)},Kl.prototype.l=function(){this.a=null,Kl.o.l.call(this)},I(Kl.prototype,{i:Nc,s:Rc}),ps.emailLinkSignInLinking=function(e,t,n){var r=Za(Rf(e));if(es(Rf(e)),r){var i=r.a.providerId,o=new Kl(n,Hi(Bf(e),i),(function(){!function(e,t,n,r){var i=Ju(t);ml(e,t,n,(function(){dl(e,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=ul(r);r&&"auth/network-request-failed"==r.code?t.f(o):(t.m(),dl(e,i,n,o))}}),r)}(e,o,n,r)}),Ji(Bf(e)),Zi(Bf(e)));o.render(t),kf(e,o)}else dl(e,t)},N(Hl,Xu),Hl.prototype.u=function(){var e=this;yu(this,this.i(),(function(){e.a()})),yu(this,hu(this,"firebaseui-id-trouble-getting-email-link"),(function(){e.s()})),this.i().focus(),Hl.o.u.call(this)},Hl.prototype.l=function(){this.a=this.s=null,Hl.o.l.call(this)},I(Hl.prototype,{i:xc}),ps.emailLinkSignInSent=function(e,t,n,r,i){var o=new Hl(n,(function(){o.m(),vs("emailNotReceived",e,t,n,r,i)}),(function(){o.m(),r()}),Ji(Bf(e)),Zi(Bf(e)));o.render(t),kf(e,o)},N(Gl,Xu),Gl.prototype.u=function(){this.D(this.s,this.i),this.A().focus(),Gl.o.u.call(this)},Gl.prototype.l=function(){this.i=this.a=null,Gl.o.l.call(this)},I(Gl.prototype,{A:Nc,J:xc,D:Rc}),ps.emailMismatch=function(e,t,n){var r=Za(Rf(e));if(r){var i=new Gl(n.user.email,r.f,(function(){var t=i;es(Rf(e)),ol(e,t,n)}),(function(){var t=n.credential.providerId,o=Ju(i);i.m(),r.a?vs("federatedLinking",e,o,r.f,t):vs("federatedSignIn",e,o,r.f,t)}),Ji(Bf(e)),Zi(Bf(e)));i.render(t),kf(e,i)}else dl(e,t)},N(Ql,Xu),Ql.prototype.u=function(){var e=this;yu(this,this.s(),(function(){e.a()})),yu(this,this.ya(),(function(){e.i()})),this.s().focus(),Ql.o.u.call(this)},Ql.prototype.ya=function(){return hu(this,"firebaseui-id-resend-email-link")},Ql.prototype.l=function(){this.a=this.i=null,Ql.o.l.call(this)},I(Ql.prototype,{s:xc}),ps.emailNotReceived=function(e,t,n,r,i){var o=new Ql((function(){ml(e,o,n,r,(function(e){e=ul(e),o.f(e)}),i)}),(function(){o.m(),dl(e,t,n)}),Ji(Bf(e)),Zi(Bf(e)));o.render(t),kf(e,o)},N(Yl,Xu),Yl.prototype.u=function(){this.s(this.a),this.i().focus(),Yl.o.u.call(this)},Yl.prototype.l=function(){this.a=null,Yl.o.l.call(this)},I(Yl.prototype,{i:Nc,s:Rc}),ps.federatedLinking=function(e,t,n,r,i){var o=Za(Rf(e));if(o&&o.a){var a=new Yl(n,Hi(Bf(e),r),(function(){cl(e,a,r,n)}),Ji(Bf(e)),Zi(Bf(e)));a.render(t),kf(e,a),i&&a.f(i)}else dl(e,t)},ps.federatedRedirect=function(e,t){var n=new Vl;n.render(t),kf(e,n),cl(e,n,t=Ki(Bf(e))[0])},ps.federatedSignIn=function(e,t,n,r,i){var o=new Yl(n,Hi(Bf(e),r),(function(){cl(e,o,r,n)}),Ji(Bf(e)),Zi(Bf(e)));o.render(t),kf(e,o),i&&o.f(i)},ps.passwordLinking=function(e,t,n){var r=Za(Rf(e));es(Rf(e));var i=r&&r.a;if(i){var o=new Lc(n,(function(){!function(e,t,n,r){var i=t.A();i?Lf(e,t.M(T(e.Lb,e),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return ol(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Lf(e,n),n}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":vu(t.i(),!1),wu(t.D(),ul(e));break;case"auth/too-many-requests":t.f(ul(e));break;default:fr("signInWithEmailAndPassword: "+e.message,void 0),t.f(ul(e))}}))):t.i().focus()}(e,o,n,i)}),(function(){o.m(),vs("passwordRecovery",e,t,n)}),Ji(Bf(e)),Zi(Bf(e)));o.render(t),kf(e,o)}else dl(e,t)},N($l,Xu),$l.prototype.u=function(){this.J(),this.L(this.a,this.s),Rs(this.i())||this.i().focus(),ec(this,this.i(),this.a),$l.o.u.call(this)},$l.prototype.l=function(){this.s=this.a=null,$l.o.l.call(this)},I($l.prototype,{i:Uc,D:Bc,J:Vc,P:qc,A:Wc,U:Nc,R:xc,L:Rc}),ps.passwordRecovery=function(e,t,n,r,i){var o=new $l((function(){!function(e,t){var n=t.A();if(n){var r=Ju(t);Lf(e,t.M(T(Nf(e).sendPasswordResetEmail,Nf(e)),[n],(function(){t.m();var i=new Hc(n,(function(){i.m(),dl(e,r)}),Ji(Bf(e)),Zi(Bf(e)));i.render(r),kf(e,i)}),(function(e){vu(t.i(),!1),wu(t.D(),ul(e))})))}else t.i().focus()}(e,o)}),r?void 0:function(){o.m(),dl(e,t)},n,Ji(Bf(e)),Zi(Bf(e)));o.render(t),kf(e,o),i&&o.f(i)},ps.passwordSignIn=function(e,t,n,i){var o=new zc((function(){!function(e,t){var n=t.J(),i=t.A();if(n)if(i){var o=r.auth.EmailAuthProvider.credential(n,i);Lf(e,t.M(T(e.Pb,e),[n,i],(function(n){return ol(e,t,{user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":vu(t.s(),!1),wu(t.U(),ul(e));break;case"auth/too-many-requests":case"auth/wrong-password":vu(t.i(),!1),wu(t.D(),ul(e));break;default:fr("verifyPassword: "+e.message,void 0),t.f(ul(e))}})))}else t.i().focus();else t.s().focus()}(e,o)}),(function(){var n=o.P();o.m(),vs("passwordRecovery",e,t,n)}),n,Ji(Bf(e)),Zi(Bf(e)),i);o.render(t),kf(e,o)},N(Zl,Xu),Zl.prototype.u=function(){this.ba(),this.D&&this.Ra(),this.sa(),this.ra(this.a,this.J),this.D?(Zu(this,this.i(),this.A()),Zu(this,this.A(),this.s())):Zu(this,this.i(),this.s()),this.a&&ec(this,this.s(),this.a),Rs(this.i())?this.D&&!Rs(this.A())?this.A().focus():this.s().focus():this.i().focus(),Zl.o.u.call(this)},Zl.prototype.l=function(){this.J=this.a=null,Zl.o.l.call(this)},I(Zl.prototype,{i:Uc,U:Bc,ba:Vc,bb:qc,P:Wc,A:Xl,nc:Jl,Ra:function(){var e=Xl.call(this),t=Jl.call(this);mu(this,e,(function(){_u(t)&&(vu(e,!0),bu(t))}))},L:function(){var e=Xl.call(this),t=Jl.call(this),n=Rs(e);return vu(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(bu(t),t=!0):(wu(t,rn("Enter your account name").toString()),t=!1),t?Y(Rs(e)):null},s:Nl,da:Pl,Ab:xl,sa:Dl,R:Ml,kc:Nc,Cb:xc,ra:Rc}),ps.passwordSignUp=function(e,t,n,r,i,o){var a=new Zl(eo(Bf(e)),(function(){ef(e,a)}),i?void 0:function(){a.m(),dl(e,t)},n,r,Ji(Bf(e)),Zi(Bf(e)),o);a.render(t),kf(e,a)},N(of,Xu),of.prototype.u=function(){var e=this;this.R(this.Ra),vi(this.i,"tick",this.A,!1,this),this.i.start(),yu(this,hu(this,"firebaseui-id-change-phone-number-link"),(function(){e.P()})),yu(this,this.ya(),(function(){e.L()})),this.sa(this.a),this.da(this.a,this.J),this.s().focus(),of.o.u.call(this)},of.prototype.l=function(){this.L=this.J=this.a=this.P=null,Ws(this.i),yi(this.i,"tick",this.A),this.i=null,of.o.l.call(this)},of.prototype.A=function(){--this.D,0<this.D?this.R(this.D):(Ws(this.i),yi(this.i,"tick",this.A),this.ra(),this.bb())},I(of.prototype,{s:tf,ba:nf,sa:function(e){var t=tf.call(this),n=nf.call(this);mu(this,t,(function(){_u(n)&&(vu(t,!0),bu(n))})),e&&gu(this,t,(function(){e()}))},U:function(){var e=Y(Rs(tf.call(this))||"");return/^\d{6}$/.test(e)?e:null},sb:rf,R:function(e){lt(rf.call(this),rn("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ra:function(){bu(this.sb())},ya:function(){return hu(this,"firebaseui-id-resend-link")},bb:function(){wu(this.ya())},Cb:Nc,Ab:xc,da:Rc}),ps.phoneSignInFinish=function(e,t,n,r,i,o){var a=new of((function(){a.m(),vs("phoneSignInStart",e,t,n)}),(function(){!function(e,t,n,r){function i(e){t.s().focus(),vu(t.s(),!1),wu(t.ba(),e)}var o=t.U();o?(t.X("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",rn("Verifying...").toString()),Lf(e,t.M(T(r.confirm,r),[o],(function(n){t.h(),t.X("firebaseui-icon-done",rn("Verified!").toString());var r=setTimeout((function(){t.h(),t.m();var r={user:xf(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};ol(e,t,r,!0)}),1e3);Lf(e,(function(){t&&t.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)t.h();else{var o=ul(r);switch(r.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":r=Ju(t),t.h(),t.m(),vs("phoneSignInStart",e,r,n,o);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),i(o);break;default:t.h(),t.f(o)}}})))):i(rn("Wrong code. Try again.").toString())}(e,a,n,i)}),(function(){a.m(),dl(e,t)}),(function(){a.m(),vs("phoneSignInStart",e,t,n)}),Wn(n),r,Ji(Bf(e)),Zi(Bf(e)));a.render(t),kf(e,a),o&&a.f(o)};var af=!me&&!(ae("Safari")&&!(fe()||ae("Coast")||ae("Opera")||ae("Edge")||ae("Firefox")||ae("FxiOS")||ae("Silk")||ae("Android")));function sf(e,t){return/-[a-z]/.test(t)?null:af&&e.dataset?!ae("Android")||fe()||ae("Firefox")||ae("FxiOS")||ae("Opera")||ae("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function uf(e,t,n){var r=this;e=$t(ju,{items:e},null,this.w),Wu.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(sf(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||st(document))||st(document),r=su(e),i=su(n);if(!me||9<=Number(ke)){a=ou(n,"borderLeftWidth");var o=ou(n,"borderRightWidth");s=ou(n,"borderTopWidth"),c=ou(n,"borderBottomWidth"),o=new iu(parseFloat(s),parseFloat(o),parseFloat(c),parseFloat(a))}else{var a=cu(n,"borderLeft");o=cu(n,"borderRight");var s=cu(n,"borderTop"),c=cu(n,"borderBottom");o=new iu(s,o,c,a)}n==st(document)?(a=r.a-n.scrollLeft,r=r.f-n.scrollTop,!me||10<=Number(ke)||(a+=o.left,r+=o.top)):(a=r.a-i.a-o.left,r=r.f-i.f-o.top),i=e.offsetWidth,o=e.offsetHeight,s=we&&!i&&!o,u(i)&&!s||!e.getBoundingClientRect?e=new tt(i,o):e=new tt((e=au(e)).right-e.left,e.bottom-e.top),i=n.clientHeight-e.height,o=n.scrollLeft,s=n.scrollTop,n=new et(o+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),s+=Math.min(r,Math.max(r-i,0))),t.scrollLeft=n.a,t.scrollTop=n.f}(n,e)),yu(this,e,(function(e){(e=(e=ft(e.target,"firebaseui-id-list-box-dialog-button"))&&sf(e,"listboxid"))&&(zu.call(r),t(e))}))}function cf(){return hu(this,"firebaseui-id-phone-number")}function lf(){return hu(this,"firebaseui-id-country-selector")}function ff(){return hu(this,"firebaseui-id-phone-number-error")}function hf(e,t){var n=e.a,r=df("1-US-0",n),i=null;if(!(i=t&&df(t,n)?t:r?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");mf.call(this,i,e)}function df(e,t){return!(!(e=Mn(e))||!B(t,e))}function pf(e){return"firebaseui-flag-"+e.g}function vf(e){var t=this;uf.call(this,function(e){return L(e,(function(e){return{id:e.c,Ga:"firebaseui-flag "+pf(e),label:e.name+" \u200e+"+e.b}}))}(e.a),(function(n){mf.call(t,n,e,!0),t.K().focus()}),this.wa)}function mf(e,t,n){var r=Mn(e);r&&(n&&((t=Dn(t,n=Y(Rs(cf.call(this))||""))).length&&t[0].b!=r.b&&(n="+"+r.b+n.substr(t[0].b.length+1),Ps(cf.call(this),n))),t=Mn(this.wa),this.wa=e,e=hu(this,"firebaseui-id-country-selector-flag"),t&&xs(e,pf(t)),Ns(e,pf(r)),lt(hu(this,"firebaseui-id-country-selector-code"),"\u200e+"+r.b))}function gf(e,t,n,r,i,o,a,s,u,c){Xu.call(this,Ac,{tb:t,va:u||null,Qa:!!n,ha:!!o},c,"phoneSignInStart",{H:r,G:i}),this.J=s||null,this.L=t,this.a=e,this.A=n||null,this.ba=a||null}function yf(e,t,n,r){try{var i=t.R(hs)}catch(o){return}i?ls?(t.X("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",rn("Verifying...").toString()),Lf(e,t.M(T(e.Qb,e),[Wn(i),n],(function(n){var r=Ju(t);t.X("firebaseui-icon-done",rn("Code sent!").toString());var o=setTimeout((function(){t.h(),t.m(),vs("phoneSignInFinish",e,r,i,15,n)}),1e3);Lf(e,(function(){t&&t.h(),clearTimeout(o)}))}),(function(e){if(t.h(),!e.name||"cancel"!=e.name){grecaptcha.reset(ds),ls=null;var n=e&&e.message||"";if(e.code)switch(e.code){case"auth/too-many-requests":n=rn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.K().focus(),void wu(t.D(),_n().toString());default:n=ul(e)}t.f(n)}})))):fs?wu(t.s(),rn("Solve the reCAPTCHA").toString()):!fs&&r&&t.i().click():(t.K().focus(),wu(t.D(),_n().toString()))}function bf(e,t,n,r,i){Xu.call(this,kc,{Ib:t},i,"providerSignIn",{H:n,G:r}),this.a=e}function wf(e,t,n,r,i,o,a){Xu.call(this,tc,{email:n,Qa:!!t,ha:!!o},a,"signIn",{H:r,G:i}),this.a=e,this.s=t}function _f(e,t,n,r,i,o){Xu.call(this,gc,{email:e},o,"unsupportedProvider",{H:r,G:i}),this.a=t,this.i=n}function Ef(e,t){this.aa=!1;var n=Cf(t);if(Tf[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');Tf[n]=this,this.f=e,this.A=null,this.s=!1,Sf(this.f),this.a=r.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),Sf(this.a),this.a.setPersistence&&this.a.setPersistence(r.auth.Auth.Persistence.SESSION),this.fa=t,this.X=new Pi,this.h=this.K=this.v=this.F=null,this.i=[],this.$=!1,this.O=Bo.Sa(),this.j=this.C=null,this.ca=this.w=!1}function Sf(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}N(gf,Xu),gf.prototype.u=function(){this.da(this.ba,this.J),this.P(this.a,this.A||void 0),this.L||Zu(this,this.K(),this.i()),ec(this,this.i(),this.a),this.K().focus(),Fl(this.K(),(this.K().value||"").length),gf.o.u.call(this)},gf.prototype.l=function(){this.A=this.a=null,gf.o.l.call(this)},I(gf.prototype,{qb:Ku,K:cf,D:ff,da:function(e,t,n){var r=this,i=cf.call(this),o=lf.call(this),a=ff.call(this),s=e||Bn,u=s.a;if(0==u.length)throw Error("No available countries provided.");hf.call(r,s,t),yu(this,o,(function(){vf.call(r,s)})),mu(this,i,(function(){_u(a)&&(vu(i,!0),bu(a));var e=Y(Rs(i)||""),t=Mn(this.wa),n=Dn(s,e);e=df("1-US-0",u),n.length&&n[0].b!=t.b&&(t=n[0],mf.call(r,"1"==t.b&&e?"1-US-0":t.c,s))})),n&&gu(this,i,(function(){n()}))},R:function(e){var t=Y(Rs(cf.call(this))||""),n=(e=e||Bn).a,r=Dn(Bn,t);if(r.length&&!B(n,r[0]))throw Ps(cf.call(this)),cf.call(this).focus(),wu(ff.call(this),rn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=Mn(this.wa),r.length&&r[0].b!=n.b&&mf.call(this,r[0].c,e),r.length&&(t=t.substr(r[0].b.length+1)),t?new Vn(this.wa,t):null},sa:lf,U:function(){return hu(this,"firebaseui-recaptcha-container")},s:function(){return hu(this,"firebaseui-id-recaptcha-error")},i:Nc,ra:xc,P:Rc}),ps.phoneSignInStart=function(e,t,n,i){var o=function(e){var t=null;if(M(Wi(e),(function(e){e.provider==r.auth.PhoneAuthProvider.PROVIDER_ID&&b(e.recaptchaParameters)&&!m(e.recaptchaParameters)&&(t=ue(e.recaptchaParameters))})),t){var n=[];M(Ui,(function(e){"undefined"!==typeof t[e]&&(n.push(e),delete t[e])})),n.length&&vr('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(Bf(e))||{};ls=null,fs=!(o&&"invisible"===o.size);var a=hl(e),s=function(e){var t=(e=zi(e,r.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&jn(t);var n=null;return e&&c(e.loginHint)&&(n=qn(e.loginHint)),t&&t[0]||n&&Mn(n.a)||null}(Bf(e)),u=a?function(e){var t=null;return(e=zi(e,r.auth.PhoneAuthProvider.PROVIDER_ID))&&c(e.loginHint)&&(t=qn(e.loginHint)),e&&e.defaultNationalNumber||t&&t.va||null}(Bf(e)):null;s=n&&n.a||s&&s.c||null,n=n&&n.va||u,(u=$i(Bf(e)))&&Fn(u),hs=u?new Pn($i(Bf(e))):Bn;var l=new gf((function(t){yf(e,l,f,!(!t||!t.keyCode))}),fs,a?null:function(){f.clear(),l.m(),dl(e,t)},Ji(Bf(e)),Zi(Bf(e)),a,hs,s,n);l.render(t),kf(e,l),i&&l.f(i),o.callback=function(t){l.s()&&bu(l.s()),ls=t,fs||yf(e,l,f)},o["expired-callback"]=function(){ls=null};var f=new r.auth.RecaptchaVerifier(fs?l.U():l.i(),o,xf(e).app);Lf(e,l.M(T(f.render,f),[],(function(e){ds=e}),(function(n){n.name&&"cancel"==n.name||(n=ul(n),l.m(),dl(e,t,void 0,n))})))},N(bf,Xu),bf.prototype.u=function(){this.i(this.a),bf.o.u.call(this)},bf.prototype.l=function(){this.a=null,bf.o.l.call(this)},I(bf.prototype,{i:function(e){function t(t){e(t)}for(var n=this.j?rt("firebaseui-id-idp-button",this.j||this.w.a):[],r=0;r<n.length;r++){var i=n[r];yu(this,i,C(t,sf(i,"providerId")))}}}),ps.providerSignIn=function(e,t,n){var i=new bf((function(n){n==r.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),gl(e,t)):n==r.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),vs("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Lf(e,t.M(T(e.Nb,e),[],(function(n){return t.m(),ol(e,t,n,!0)}),(function(e){e.name&&"cancel"==e.name||(fr("ContinueAsGuest: "+e.code,void 0),e=ul(e),t.f(e))})))}(e,i):cl(e,i,n),Vf(e),e.O.cancel()}),Gi(Bf(e)),Ji(Bf(e)),Zi(Bf(e)));i.render(t),kf(e,i),n&&i.f(n),function(e){Vf(e);try{(function e(t,n,r){if(t.a&&n){var i=function(){t.h=!0;var i=Promise.resolve(null);return r||(i=t.a.retrieve(n).catch((function(e){if("userCanceled"===e.type||"illegalConcurrentRequest"===e.type)throw e;return null}))),i.then((function(e){return e||t.a.hint(n)})).catch((function(i){if("userCanceled"===i.type)t.f=Promise.resolve();else if("illegalConcurrentRequest"===i.type)return t.cancel(),e(t,n,r);return null}))};return t.f?t.f.then(i):i()}if(n)return i=Ur(qo.Sa().load().then((function(){return t.a=s.googleyolo,e(t,n,r)})),(function(){return null})),Promise.resolve(i);if("undefined"!==typeof Promise)return Promise.resolve(null);throw Error("One-Tap sign in not supported in the current browser!")})(e.O,function(e){var t=[],n=[];M(Wi(e),(function(e){e.authMethod&&(t.push(e.authMethod),e.clientId&&n.push({uri:e.authMethod,clientId:e.clientId}))}));var r=null;return"googleyolo"===co(e)&&t.length&&(r={supportedIdTokenProviders:n,supportedAuthMethods:t}),r}(Bf(e)),function(e){var t;return Vf(e),(t=e.$)||(e=Yi(e=Bf(e),r.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then((function(t){return!!e.h&&ll(e,e.h,t)}))}catch(t){}}(e)},ps.sendEmailLinkForSignIn=function(e,t,n,r){var i=new Sl;i.render(t),kf(e,i),ml(e,i,n,r,(function(r){i.m(),r=ul(r),vs("signIn",e,t,n,r)}))},N(wf,Xu),wf.prototype.u=function(){this.D(this.a),this.J(this.a,this.s||void 0),this.i().focus(),Fl(this.i(),(this.i().value||"").length),wf.o.u.call(this)},wf.prototype.l=function(){this.s=this.a=null,wf.o.l.call(this)},I(wf.prototype,{i:Uc,P:Bc,D:Vc,L:qc,A:Wc,U:Nc,R:xc,J:Rc}),ps.signIn=function(e,t,n,r){var i=fl(e),o=new wf((function(){var t=o,n=t.A()||"";n&&pl(e,t,n)}),i&&co(Bf(e))!=Di?null:function(){o.m(),dl(e,t,n)},n,Ji(Bf(e)),Zi(Bf(e)),i);o.render(t),kf(e,o),r&&o.f(r)},N(_f,Xu),_f.prototype.u=function(){this.A(this.a,this.i),this.s().focus(),_f.o.u.call(this)},_f.prototype.l=function(){this.i=this.a=null,_f.o.l.call(this)},I(_f.prototype,{s:Nc,D:xc,A:Rc}),ps.unsupportedProvider=function(e,t,n){var r=new _f(n,(function(){r.m(),vs("passwordRecovery",e,t,n)}),(function(){r.m(),dl(e,t,n)}),Ji(Bf(e)),Zi(Bf(e)));r.render(t),kf(e,r)};var Tf={};function Cf(e){return e||"[DEFAULT]"}function If(e){return Vf(e),e.v||(e.v=Mf(e,(function(t){return t&&!Za(Rf(e))?Lr(xf(e).getRedirectResult().then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return zf(e,t)}))):Lr(Nf(e).getRedirectResult().then((function(t){return qi(Bf(e))&&!t.user&&e.j&&!e.j.isAnonymous?xf(e).getRedirectResult():t})))}))),e.v}function kf(e,t){Vf(e),e.h=t}var Af=null;function Of(){return Af}function Nf(e){return Vf(e),e.a}function xf(e){return Vf(e),e.f}function Rf(e){return Vf(e),e.fa}function Pf(e){return"signIn"===((e=new lo(e)).a.a.get(fo.lb)||null)&&!!e.a.a.get(fo.Va)}function Df(e,t){var n=xi(t);if(n.setAttribute("lang","en".replace(/_/g,"-")),Af){var r=Af;Vf(r),Za(Rf(r))&&vr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Af.reset()}Af=e,e.K=n,function(e,t){e.I=null,e.F=new So(t),e.F.register(),vi(e.F,"pageEnter",(function(t){if(t=t&&t.pageId,e.I!=t){var n=Bf(e);(n=uo(n).uiChanged||null)&&n(e.I,t),e.I=t}}))}(e,n),xa(new Ra)&&xa(new Pa)?_l(e,t):(t=xi(t),(n=new Jc(rn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),kf(e,n)),ns(Rf(e))&&(Uf(e,(t=ns(Rf(e))).a),Ga(Ba,Rf(e)))}function Mf(e,t){if(e.w)return t(jf(e));if(Lf(e,(function(){e.w=!1})),qi(Bf(e))){var n=new Nr((function(n){Lf(e,e.f.onAuthStateChanged((function(r){e.j=r,e.w||(e.w=!0,n(t(jf(e))))})))}));return Lf(e,n),n}return e.w=!0,t(null)}function jf(e){return Vf(e),qi(Bf(e))&&e.j&&e.j.isAnonymous?e.j:null}function Lf(e,t){if(Vf(e),t){e.i.push(t);var n=function(){W(e.i,(function(e){return e==t}))};"function"!=typeof t&&t.then(n,n)}}function Ff(e){"undefined"!==typeof e.f.languageCode&&e.s&&(e.s=!1,e.f.languageCode=e.A)}function Uf(e,t){e.f.tenantId=t,e.a.tenantId=t}function Bf(e){return Vf(e),e.X}function Vf(e){if(e.aa)throw Error("AuthUI instance is deleted!")}function qf(){var e=Ri();if(Pf(e)){for(var t in e=new lo(e),fo)fo.hasOwnProperty(t)&&Vt(e.a.a,fo[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=s.document.title;s.history&&s.history.replaceState&&s.history.replaceState(t,n,e.toString())}}function Wf(e){return Vf(e),Nf(e).signOut()}function zf(e,t,n){if(Vf(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var r=so(Bf(e));return Lr().then((function(){return r(new Cn("anonymous-upgrade-merge-conflict",null,n||t.credential))})).then((function(){throw e.h&&(e.h.m(),e.h=null),t}))}return Fr(t)}(e=Ef.prototype).gb=function(){return Vf(this),!!ns(Rf(this))||Pf(Ri())},e.start=function(e,t){Vf(this);var n=this;"undefined"!==typeof this.f.languageCode&&(this.A=this.f.languageCode);var r="en".replace(/_/g,"-");this.f.languageCode=r,this.a.languageCode=r,this.s=!0,"undefined"!==typeof this.f.tenantId&&(this.a.tenantId=this.f.tenantId),this.cb(t);var i=s.document;this.C?this.C.then((function(){"complete"==i.readyState?Df(n,e):gi(window,"load",(function(){Df(n,e)}))})):"complete"==i.readyState?Df(n,e):gi(window,"load",(function(){Df(n,e)}))},e.disableAutoSignIn=function(){Vf(this),this.$=!0},e.reset=function(){Vf(this);var e=this;this.K&&this.K.removeAttribute("lang"),this.F&&_o(this.F),Ff(this),qf(),Ga(Ba,Rf(this)),Vf(this),this.O.cancel(),this.v=Lr({user:null,credential:null}),Af==this&&(Af=null),this.K=null;for(var t=0;t<this.i.length;t++)"function"==typeof this.i[t]?this.i[t]():this.i[t].cancel&&this.i[t].cancel();this.i=[],es(Rf(this)),this.h&&(this.h.m(),this.h=null),this.I=null,this.a&&(this.C=Wf(this).then((function(){e.C=null}),(function(){e.C=null})))},e.cb=function(e){Vf(this);var t,n=this.X;for(t in e)try{On(n.a,t,e[t])}catch(r){fr('Invalid config: "'+t+'"',void 0)}_e&&On(n.a,"popupMode",!1),$i(n),!this.ca&&oo(Bf(this))&&(vr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.ca=!0)},e.Kb=function(){Vf(this);var e=Bf(this),t=Nn(e.a,"widgetUrl"),n=Vi(e,t);Bf(this).a.get("popupMode")?(n=n||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||n.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=ki(n,e))&&e.focus()):Ai(n)},e.vb=function(){var e=this;return Vf(this),this.a.app.delete().then((function(){var t=Cf(Rf(e));delete Tf[t],e.reset(),e.aa=!0}))},e.wb=function(e,t){Vf(this);var n=this,i=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!to(Bf(this)))throw Error("Email link sign-in should be enabled to trigger email sending.");var o=function(e){if(to(e)){var t={url:Ri(),handleCodeInApp:!0};return(e=zi(e,r.auth.EmailAuthProvider.PROVIDER_ID))&&"function"===typeof e.emailLinkSignIn&&le(t,e.emailLinkSignIn()),t.url=Nt(Ri(),t.url).toString(),t}return null}(Bf(this)),a=new lo(o.url);return function(e,t){t?e.a.a.set(fo.Na,t):Vt(e.a.a,fo.Na)}(a,i),t&&t.a&&(function(e,t,n){Qa(Ka,wa(e,JSON.stringify(t.Z())),n)}(i,t,Rf(this)),po(a,t.a.providerId)),function(e,t){null!==t?e.a.a.set(fo.Ka,t?"1":"0"):Vt(e.a.a,fo.Ka)}(a,function(e){return!(!(e=zi(e,r.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(Bf(this))),Mf(this,(function(t){return t&&((t=t.uid)?a.a.a.set(fo.Ja,t):Vt(a.a.a,fo.Ja)),o.url=a.toString(),Nf(n).sendSignInLinkToEmail(e,o)})).then((function(){var t=Rf(n),r={};r.email=e,Qa(za,wa(i,JSON.stringify(r)),t)}),(function(e){throw Ga(Ka,Rf(n)),Ga(za,Rf(n)),e}))},e.Pb=function(e,t){Vf(this);var n=this;return Nf(this).signInWithEmailAndPassword(e,t).then((function(i){return Mf(n,(function(o){return o?Wf(n).then((function(){return zf(n,{code:"auth/email-already-in-use"},r.auth.EmailAuthProvider.credential(e,t))})):i}))}))},e.Mb=function(e,t){Vf(this);var n=this;return Mf(this,(function(i){if(i){var o=r.auth.EmailAuthProvider.credential(e,t);return i.linkWithCredential(o)}return Nf(n).createUserWithEmailAndPassword(e,t)}))},e.Ob=function(e){Vf(this);var t=this;return Mf(this,(function(n){return n?n.linkWithCredential(e).then((function(e){return e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return zf(t,n,e)})):Nf(t).signInWithCredential(e)}))},e.Rb=function(e){Vf(this);var t=this,n=this.v;return this.v=null,Mf(this,(function(n){return n&&!Za(Rf(t))?n.linkWithRedirect(e):Nf(t).signInWithRedirect(e)})).then((function(){}),(function(e){throw t.v=n,e}))},e.Qb=function(e,t){Vf(this);var n=this;return Mf(this,(function(r){return r?r.linkWithPhoneNumber(e,t).then((function(e){return new Wo(e,(function(e){if("auth/credential-already-in-use"==e.code)return zf(n,e);throw e}))})):xf(n).signInWithPhoneNumber(e,t).then((function(e){return new Wo(e)}))}))},e.Nb=function(){return Vf(this),xf(this).signInAnonymously()},e.Lb=function(e,t){return Vf(this),Nf(this).signInWithEmailAndPassword(e,t)},O("firebaseui.auth.AuthUI",Ef),O("firebaseui.auth.AuthUI.getInstance",(function(e){return e=Cf(e),Tf[e]?Tf[e]:null})),O("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Ef.prototype.disableAutoSignIn),O("firebaseui.auth.AuthUI.prototype.start",Ef.prototype.start),O("firebaseui.auth.AuthUI.prototype.setConfig",Ef.prototype.cb),O("firebaseui.auth.AuthUI.prototype.signIn",Ef.prototype.Kb),O("firebaseui.auth.AuthUI.prototype.reset",Ef.prototype.reset),O("firebaseui.auth.AuthUI.prototype.delete",Ef.prototype.vb),O("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Ef.prototype.gb),O("firebaseui.auth.AuthUIError",Cn),O("firebaseui.auth.AuthUIError.prototype.toJSON",Cn.prototype.toJSON),O("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Di),O("firebaseui.auth.CredentialHelper.GOOGLE_YOLO","googleyolo"),O("firebaseui.auth.CredentialHelper.NONE","none"),O("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous")}.apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:window)}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:window),"undefined"!==typeof window&&(window.dialogPolyfill=o.a);firebaseui.auth}).call(this,n(122)(e),n(7))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n(51)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){},function(e,t,n){},function(e,t,n){}]]);
//# sourceMappingURL=2.8f55df8e.chunk.js.map